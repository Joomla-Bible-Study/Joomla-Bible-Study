<?xml version="1.0" encoding="UTF-8"?>
<pmd-cpd>
  <duplication lines="37" tokens="69">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/controllers/mediafiles.php" line="47"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/controllers/messages.php" line="48"/>
    <codefragment>        $prefix = 'BiblestudyModel',
        $config = array('ignore_request' =&gt; true))
    {
        $model = parent::getModel($name, $prefix, $config);

        return $model;
    }

    /**
     * Method to save the submitted ordering values for records via AJAX.
     *
     * @return    void
     *
     * @since   3.0
     */
    public function saveOrderAjax()
    {
        // Get the input
        $pks   = $this-&gt;input-&gt;post-&gt;get('cid', array(), 'array');
        $order = $this-&gt;input-&gt;post-&gt;get('order', array(), 'array');

        // Sanitize the input
        JArrayHelper::toInteger($pks);
        JArrayHelper::toInteger($order);

        // Get the model
        $model = $this-&gt;getModel();

        // Save the ordering
        $return = $model-&gt;saveorder($pks, $order);

        if ($return)
        {
            echo "1";
        }

        // Close the application
</codefragment>
  </duplication>
  <duplication lines="13" tokens="12">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/controllers/cpanel.php" line="21"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/controllers/mimetype.php" line="21"/>
    <codefragment>class BiblestudyControllerCpanel extends JControllerForm
{

    /**
     * Class constructor.
     *
     * @param   array $config  A named array of configuration variables.
     *
     * @since    7.0.0
     */
    public function __construct($config = array())
    {
        parent::__construct($config);
</codefragment>
  </duplication>
  <duplication lines="13" tokens="12">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/controllers/cpanel.php" line="21"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/controllers/podcast.php" line="21"/>
    <codefragment>class BiblestudyControllerCpanel extends JControllerForm
{

    /**
     * Class constructor.
     *
     * @param   array $config  A named array of configuration variables.
     *
     * @since    7.0.0
     */
    public function __construct($config = array())
    {
        parent::__construct($config);
</codefragment>
  </duplication>
  <duplication lines="19" tokens="30">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/controllers/mediafiles.php" line="66"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/controllers/series.php" line="64"/>
    <codefragment>        $order = $this-&gt;input-&gt;post-&gt;get('order', array(), 'array');

        // Sanitize the input
        JArrayHelper::toInteger($pks);
        JArrayHelper::toInteger($order);

        // Get the model
        $model = $this-&gt;getModel();

        // Save the ordering
        $return = $model-&gt;saveorder($pks, $order);

        if ($return)
        {
            echo "1";
        }

        // Close the application
        JFactory::getApplication()-&gt;close();
</codefragment>
  </duplication>
  <duplication lines="13" tokens="12">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/controllers/cpanel.php" line="21"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/controllers/server.php" line="21"/>
    <codefragment>class BiblestudyControllerCpanel extends JControllerForm
{

    /**
     * Class constructor.
     *
     * @param   array $config  A named array of configuration variables.
     *
     * @since    7.0.0
     */
    public function __construct($config = array())
    {
        parent::__construct($config);
</codefragment>
  </duplication>
  <duplication lines="13" tokens="12">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/controllers/cpanel.php" line="21"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/controllers/share.php" line="21"/>
    <codefragment>class BiblestudyControllerCpanel extends JControllerForm
{

    /**
     * Class constructor.
     *
     * @param   array $config  A named array of configuration variables.
     *
     * @since    7.0.0
     */
    public function __construct($config = array())
    {
        parent::__construct($config);
</codefragment>
  </duplication>
  <duplication lines="36" tokens="69">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/controllers/mediafiles.php" line="47"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/controllers/teachers.php" line="35"/>
    <codefragment>        $prefix = 'BiblestudyModel',
        $config = array('ignore_request' =&gt; true))
    {
        $model = parent::getModel($name, $prefix, $config);

        return $model;
    }

    /**
     * Method to save the submitted ordering values for records via AJAX.
     *
     * @return    void
     *
     * @since   3.0
     */
    public function saveOrderAjax()
    {
        // Get the input
        $pks   = $this-&gt;input-&gt;post-&gt;get('cid', array(), 'array');
        $order = $this-&gt;input-&gt;post-&gt;get('order', array(), 'array');

        // Sanitize the input
        JArrayHelper::toInteger($pks);
        JArrayHelper::toInteger($order);

        // Get the model
        $model = $this-&gt;getModel();

        // Save the ordering
        $return = $model-&gt;saveorder($pks, $order);

        if ($return)
        {
            echo "1";
        }

</codefragment>
  </duplication>
  <duplication lines="6" tokens="17">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/controllers/servers.php" line="35"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/controllers/templatecodes.php" line="37"/>
    <codefragment>    public function getModel($name = 'Server', $prefix = 'BiblestudyModel', $config = array('ignore_request' =&gt; true))
    {
        $model = parent::getModel($name, $prefix, $config);

        return $model;
    }
</codefragment>
  </duplication>
  <duplication lines="13" tokens="12">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/controllers/cpanel.php" line="21"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/controllers/topic.php" line="21"/>
    <codefragment>class BiblestudyControllerCpanel extends JControllerForm
{

    /**
     * Class constructor.
     *
     * @param   array $config  A named array of configuration variables.
     *
     * @since    7.0.0
     */
    public function __construct($config = array())
    {
        parent::__construct($config);
</codefragment>
  </duplication>
  <duplication lines="8" tokens="19">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/liveupdate/classes/xmlslurp.php" line="133"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/liveupdate/classes/xmlslurp.php" line="237"/>
    <codefragment>        if (empty($filename))
        {
            return array('version' =&gt; '', 'date' =&gt; '', 'xmlfile' =&gt; '');
        }

        try
        {
            $xml = new SimpleXMLElement($filename, LIBXML_NONET, true);
</codefragment>
  </duplication>
  <duplication lines="8" tokens="17">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/liveupdate/classes/xmlslurp.php" line="133"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/liveupdate/classes/xmlslurp.php" line="298"/>
    <codefragment>        if (empty($filename))
        {
            return array('version' =&gt; '', 'date' =&gt; '', 'xmlfile' =&gt; '');
        }

        try
        {
            $xml = new SimpleXMLElement($filename, LIBXML_NONET, true);
</codefragment>
  </duplication>
  <duplication lines="8" tokens="21">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/liveupdate/classes/xmlslurp.php" line="298"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/liveupdate/classes/xmlslurp.php" line="371"/>
    <codefragment>        if (!JFile::exists($filename))
        {
            return array('version' =&gt; '', 'date' =&gt; '', 'xmlfile' =&gt; '');
        }

        try
        {
            $xml = new SimpleXMLElement($filename, LIBXML_NONET, true);
</codefragment>
  </duplication>
  <duplication lines="22" tokens="57">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/models/fields/locations.php" line="38"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/models/fields/locationslist.php" line="38"/>
    <codefragment>    protected function getOptions()
    {
        $db    = JFactory::getDBO();
        $query = $db-&gt;getQuery(true);
        $query-&gt;select('id,location_text');
        $query-&gt;from('#__bsms_locations');
        $db-&gt;setQuery((string) $query);
        $messages = $db-&gt;loadObjectList();

        $options = array();

        if ($messages)
        {
            foreach ($messages as $message)
            {
                $options[] = JHtml::_('select.option', $message-&gt;id, $message-&gt;location_text);
            }
        }

        $options = array_merge(parent::getOptions(), $options);

        return $options;
</codefragment>
  </duplication>
  <duplication lines="17" tokens="43">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/models/fields/modal/seriesdetail.php" line="89"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/models/fields/modal/studydetails.php" line="93"/>
    <codefragment>        $html .= '&lt;div class="button2-left"&gt;&lt;div class="blank"&gt;&lt;a class="modal" title="' . JText::_('JBS_CMN_SELECT_SERIES') . '"  href="' . $link . '" rel="{handler: \'iframe\', size: {x: 800, y: 450}}"&gt;' . JText::_('JBS_CMN_SELECT_SERIES') . '&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;' . "\n";
        // The active study id field.
        if (0 == (int) $this-&gt;value) {
            $value = '';
        } else {
            $value = (int) $this-&gt;value;
        }

        // class='required' for client side validation
        $class = '';
        if ($this-&gt;required) {
            $class = ' class="required modal-value"';
        }

        $html .= '&lt;input type="hidden" id="' . $this-&gt;id . '_id"' . $class . ' name="' . $this-&gt;name . '" value="' . $value . '" /&gt;';

        return $html;
</codefragment>
  </duplication>
  <duplication lines="6" tokens="19">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/models/fields/modal/studydetails.php" line="38"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/models/fields/modal/teacherdisplay.php" line="38"/>
    <codefragment>    protected function getInput() {

        // Load the modal behavior script.
        JHtml::_('behavior.modal', 'a.modal');

        // Load the javascript and css
</codefragment>
  </duplication>
  <duplication lines="17" tokens="43">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/models/fields/modal/seriesdetail.php" line="89"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/models/fields/modal/teacherdisplay.php" line="91"/>
    <codefragment>        $html .= '&lt;div class="button2-left"&gt;&lt;div class="blank"&gt;&lt;a class="modal" title="' . JText::_('JBS_CMN_SELECT_SERIES') . '"  href="' . $link . '" rel="{handler: \'iframe\', size: {x: 800, y: 450}}"&gt;' . JText::_('JBS_CMN_SELECT_SERIES') . '&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;' . "\n";
        // The active study id field.
        if (0 == (int) $this-&gt;value) {
            $value = '';
        } else {
            $value = (int) $this-&gt;value;
        }

        // class='required' for client side validation
        $class = '';
        if ($this-&gt;required) {
            $class = ' class="required modal-value"';
        }

        $html .= '&lt;input type="hidden" id="' . $this-&gt;id . '_id"' . $class . ' name="' . $this-&gt;name . '" value="' . $value . '" /&gt;';

        return $html;
</codefragment>
  </duplication>
  <duplication lines="38" tokens="33">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/models/folder.php" line="208"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/models/location.php" line="95"/>
    <codefragment>        $data = JFactory::getApplication()-&gt;getUserState('com_biblestudy.edit.folder.data', array());

        if (empty($data))
        {
            $data = $this-&gt;getItem();
        }

        return $data;
    }

    /**
     * Method to check-out a row for editing.
     *
     * @param   integer $pk  The numeric id of the primary key.
     *
     * @return  boolean  False on failure or error, true otherwise.
     *
     * @since   11.1
     */
    public function checkout($pk = null)
    {
        return $pk;
    }

    /**
     * Clean the cache
     *
     * @param   string  $group      The cache group
     * @param   integer $client_id  The ID of the client
     *
     * @return  void
     *
     * @since    1.6
     */
    protected function cleanCache($group = null, $client_id = 0)
    {
        parent::cleanCache('com_biblestudy');
        parent::cleanCache('mod_biblestudy');
</codefragment>
  </duplication>
  <duplication lines="21" tokens="46">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/models/comments.php" line="186"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/models/messages.php" line="559"/>
    <codefragment>    public function getItems()
    {
        $items = parent::getItems();
        $app   = JFactory::getApplication();

        if ($app-&gt;isSite())
        {
            $user   = JFactory::getUser();
            $groups = $user-&gt;getAuthorisedViewLevels();

            for ($x = 0, $count = count($items); $x &lt; $count; $x++)
            {
                // Check the access level. Remove articles the user shouldn't see
                if (!in_array($items[$x]-&gt;access, $groups))
                {
                    unset($items[$x]);
                }
            }
        }

        return $items;
</codefragment>
  </duplication>
  <duplication lines="10" tokens="5">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/models/location.php" line="21"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/models/messagetype.php" line="21"/>
    <codefragment>class BiblestudyModelLocation extends JModelAdmin
{

    /**
     * Method to store a record
     *
     * @access    public
     * @return    boolean    True on success
     */
    public function store()
</codefragment>
  </duplication>
  <duplication lines="19" tokens="23">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/models/folder.php" line="227"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/models/messagetype.php" line="159"/>
    <codefragment>    public function checkout($pk = null)
    {
        return $pk;
    }

    /**
     * Clean the cache
     *
     * @param   string  $group      The cache group
     * @param   integer $client_id  The ID of the client
     *
     * @return  void
     *
     * @since    1.6
     */
    protected function cleanCache($group = null, $client_id = 0)
    {
        parent::cleanCache('com_biblestudy');
        parent::cleanCache('mod_biblestudy');
</codefragment>
  </duplication>
  <duplication lines="9" tokens="5">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/models/location.php" line="21"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/models/mimetype.php" line="21"/>
    <codefragment>class BiblestudyModelLocation extends JModelAdmin
{

    /**
     * Method to store a record
     *
     * @access    public
     * @return    boolean    True on success
     */
</codefragment>
  </duplication>
  <duplication lines="38" tokens="33">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/models/folder.php" line="208"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/models/mimetype.php" line="94"/>
    <codefragment>        $data = JFactory::getApplication()-&gt;getUserState('com_biblestudy.edit.folder.data', array());

        if (empty($data))
        {
            $data = $this-&gt;getItem();
        }

        return $data;
    }

    /**
     * Method to check-out a row for editing.
     *
     * @param   integer $pk  The numeric id of the primary key.
     *
     * @return  boolean  False on failure or error, true otherwise.
     *
     * @since   11.1
     */
    public function checkout($pk = null)
    {
        return $pk;
    }

    /**
     * Clean the cache
     *
     * @param   string  $group      The cache group
     * @param   integer $client_id  The ID of the client
     *
     * @return  void
     *
     * @since    1.6
     */
    protected function cleanCache($group = null, $client_id = 0)
    {
        parent::cleanCache('com_biblestudy');
        parent::cleanCache('mod_biblestudy');
</codefragment>
  </duplication>
  <duplication lines="19" tokens="23">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/models/folder.php" line="227"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/models/podcast.php" line="120"/>
    <codefragment>    public function checkout($pk = null)
    {
        return $pk;
    }

    /**
     * Clean the cache
     *
     * @param   string  $group      The cache group
     * @param   integer $client_id  The ID of the client
     *
     * @return  void
     *
     * @since    1.6
     */
    protected function cleanCache($group = null, $client_id = 0)
    {
        parent::cleanCache('com_biblestudy');
        parent::cleanCache('mod_biblestudy');
</codefragment>
  </duplication>
  <duplication lines="10" tokens="28">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/models/mediaimages.php" line="117"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/models/podcasts.php" line="151"/>
    <codefragment>                $query-&gt;where('(media.media_image_name LIKE ' . $search . ' OR media.path2 LIKE ' . $search . ')');
            }
        }

        // Add the list ordering clause
        $orderCol  = $this-&gt;state-&gt;get('list.ordering');
        $orderDirn = $this-&gt;state-&gt;get('list.direction');
        $query-&gt;order($db-&gt;escape($orderCol . ' ' . $orderDirn));

        return $query;
</codefragment>
  </duplication>
  <duplication lines="59" tokens="83">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/models/folder.php" line="21"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/models/serie.php" line="21"/>
    <codefragment>class BiblestudyModelFolder extends JModelAdmin
{

    /**
     * @var        string    The prefix to use with controller messages.
     * @since    1.6
     */
    protected $text_prefix = 'COM_BIBLESTUDY';

    /**
     * Batch copy items to a new category or current.
     *
     * @param   integer $value     The new category.
     * @param   array   $pks       An array of row IDs.
     * @param   array   $contexts  An array of item contexts.
     *
     * @return  mixed  An array of new IDs on success, boolean false on failure.
     *
     * @since    11.1
     */
    protected function batchCopy($value, $pks, $contexts)
    {
        $app   = JFactory::getApplication();
        $table = $this-&gt;getTable();
        $i     = 0;

        // Check that the user has create permission for the component
        $extension = $app-&gt;input-&gt;get('option', '');
        $user      = JFactory::getUser();

        if (!$user-&gt;authorise('core.create', $extension))
        {
            $app-&gt;enqueueMessage(JText::_('JLIB_APPLICATION_ERROR_BATCH_CANNOT_CREATE'), 'error');

            return false;
        }

        // Parent exists so we let's proceed
        while (!empty($pks))
        {
            // Pop the first ID off the stack
            $pk = array_shift($pks);

            $table-&gt;reset();

            // Check that the row actually exists
            if (!$table-&gt;load($pk))
            {
                if ($error = $table-&gt;getError())
                {
                    // Fatal error
                    $app-&gt;enqueueMessage($error, 'error');

                    return false;
                }
                else
                {
                    // Not fatal error
                    $app-&gt;enqueueMessage(JText::sprintf('JLIB_APPLICATION_ERROR_BATCH_MOVE_ROW_NOT_FOUND', $pk));
</codefragment>
  </duplication>
  <duplication lines="34" tokens="57">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/models/comments.php" line="173"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/models/series.php" line="236"/>
    <codefragment>        $query-&gt;order($db-&gt;escape($orderCol . ' ' . $orderDirn));

        return $query;
    }

    /**
     * Method to get a list of articles.
     * Overridden to add a check for access levels.
     *
     * @return    mixed    An array of data items on success, false on failure.
     *
     * @since    1.6.1
     */
    public function getItems()
    {
        $items = parent::getItems();
        $app   = JFactory::getApplication();

        if ($app-&gt;isSite())
        {
            $user   = JFactory::getUser();
            $groups = $user-&gt;getAuthorisedViewLevels();

            for ($x = 0, $count = count($items); $x &lt; $count; $x++)
            {
                // Check the access level. Remove articles the user shouldn't see
                if (!in_array($items[$x]-&gt;access, $groups))
                {
                    unset($items[$x]);
                }
            }
        }

        return $items;
</codefragment>
  </duplication>
  <duplication lines="38" tokens="33">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/models/folder.php" line="208"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/models/server.php" line="140"/>
    <codefragment>        $data = JFactory::getApplication()-&gt;getUserState('com_biblestudy.edit.folder.data', array());

        if (empty($data))
        {
            $data = $this-&gt;getItem();
        }

        return $data;
    }

    /**
     * Method to check-out a row for editing.
     *
     * @param   integer $pk  The numeric id of the primary key.
     *
     * @return  boolean  False on failure or error, true otherwise.
     *
     * @since   11.1
     */
    public function checkout($pk = null)
    {
        return $pk;
    }

    /**
     * Clean the cache
     *
     * @param   string  $group      The cache group
     * @param   integer $client_id  The ID of the client
     *
     * @return  void
     *
     * @since    1.6
     */
    protected function cleanCache($group = null, $client_id = 0)
    {
        parent::cleanCache('com_biblestudy');
        parent::cleanCache('mod_biblestudy');
</codefragment>
  </duplication>
  <duplication lines="38" tokens="33">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/models/folder.php" line="208"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/models/share.php" line="132"/>
    <codefragment>        $data = JFactory::getApplication()-&gt;getUserState('com_biblestudy.edit.folder.data', array());

        if (empty($data))
        {
            $data = $this-&gt;getItem();
        }

        return $data;
    }

    /**
     * Method to check-out a row for editing.
     *
     * @param   integer $pk  The numeric id of the primary key.
     *
     * @return  boolean  False on failure or error, true otherwise.
     *
     * @since   11.1
     */
    public function checkout($pk = null)
    {
        return $pk;
    }

    /**
     * Clean the cache
     *
     * @param   string  $group      The cache group
     * @param   integer $client_id  The ID of the client
     *
     * @return  void
     *
     * @since    1.6
     */
    protected function cleanCache($group = null, $client_id = 0)
    {
        parent::cleanCache('com_biblestudy');
        parent::cleanCache('mod_biblestudy');
</codefragment>
  </duplication>
  <duplication lines="6" tokens="8">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/models/message.php" line="802"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/models/style.php" line="209"/>
    <codefragment>                return false;
            }
        }

        // Clean the cache
        $this-&gt;cleanCache();
</codefragment>
  </duplication>
  <duplication lines="19" tokens="23">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/models/folder.php" line="227"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/models/teacher.php" line="178"/>
    <codefragment>    public function checkout($pk = null)
    {
        return $pk;
    }

    /**
     * Clean the cache
     *
     * @param   string  $group      The cache group
     * @param   integer $client_id  The ID of the client
     *
     * @return  void
     *
     * @since    1.6
     */
    protected function cleanCache($group = null, $client_id = 0)
    {
        parent::cleanCache('com_biblestudy');
        parent::cleanCache('mod_biblestudy');
</codefragment>
  </duplication>
  <duplication lines="10" tokens="28">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/models/mediaimages.php" line="117"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/models/templates.php" line="144"/>
    <codefragment>                $query-&gt;where('(media.media_image_name LIKE ' . $search . ' OR media.path2 LIKE ' . $search . ')');
            }
        }

        // Add the list ordering clause
        $orderCol  = $this-&gt;state-&gt;get('list.ordering');
        $orderDirn = $this-&gt;state-&gt;get('list.direction');
        $query-&gt;order($db-&gt;escape($orderCol . ' ' . $orderDirn));

        return $query;
</codefragment>
  </duplication>
  <duplication lines="38" tokens="33">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/models/folder.php" line="208"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/models/topic.php" line="83"/>
    <codefragment>        $data = JFactory::getApplication()-&gt;getUserState('com_biblestudy.edit.folder.data', array());

        if (empty($data))
        {
            $data = $this-&gt;getItem();
        }

        return $data;
    }

    /**
     * Method to check-out a row for editing.
     *
     * @param   integer $pk  The numeric id of the primary key.
     *
     * @return  boolean  False on failure or error, true otherwise.
     *
     * @since   11.1
     */
    public function checkout($pk = null)
    {
        return $pk;
    }

    /**
     * Clean the cache
     *
     * @param   string  $group      The cache group
     * @param   integer $client_id  The ID of the client
     *
     * @return  void
     *
     * @since    1.6
     */
    protected function cleanCache($group = null, $client_id = 0)
    {
        parent::cleanCache('com_biblestudy');
        parent::cleanCache('mod_biblestudy');
</codefragment>
  </duplication>
  <duplication lines="22" tokens="23">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/tables/admin.php" line="192"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/tables/comment.php" line="122"/>
    <codefragment>        return $title;
    }

    /**
     * Method to get the parent asset under which to register this one.
     * By default, all assets are registered to the ROOT node with ID 1.
     * The extended class can define a table and id to lookup.  If the
     * asset does not exist it will be created.
     *
     * @param   JTable  $table  A JTable object for the asset parent.
     * @param   integer $id     Id to look up
     *
     * @return  integer
     *
     * @since   11.1
     */
    protected function _getAssetParentId($table = null, $id = null)
    {
        $asset = JTable::getInstance('Asset');
        $asset-&gt;loadByName('com_biblestudy');

        return $asset-&gt;id;
</codefragment>
  </duplication>
  <duplication lines="22" tokens="23">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/tables/admin.php" line="192"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/tables/folder.php" line="119"/>
    <codefragment>        return $title;
    }

    /**
     * Method to get the parent asset under which to register this one.
     * By default, all assets are registered to the ROOT node with ID 1.
     * The extended class can define a table and id to lookup.  If the
     * asset does not exist it will be created.
     *
     * @param   JTable  $table  A JTable object for the asset parent.
     * @param   integer $id     Id to look up
     *
     * @return  integer
     *
     * @since   11.1
     */
    protected function _getAssetParentId($table = null, $id = null)
    {
        $asset = JTable::getInstance('Asset');
        $asset-&gt;loadByName('com_biblestudy');

        return $asset-&gt;id;
</codefragment>
  </duplication>
  <duplication lines="22" tokens="23">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/tables/admin.php" line="192"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/tables/location.php" line="112"/>
    <codefragment>        return $title;
    }

    /**
     * Method to get the parent asset under which to register this one.
     * By default, all assets are registered to the ROOT node with ID 1.
     * The extended class can define a table and id to lookup.  If the
     * asset does not exist it will be created.
     *
     * @param   JTable  $table  A JTable object for the asset parent.
     * @param   integer $id     Id to look up
     *
     * @return  integer
     *
     * @since   11.1
     */
    protected function _getAssetParentId($table = null, $id = null)
    {
        $asset = JTable::getInstance('Asset');
        $asset-&gt;loadByName('com_biblestudy');

        return $asset-&gt;id;
</codefragment>
  </duplication>
  <duplication lines="22" tokens="23">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/tables/admin.php" line="192"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/tables/mediaimage.php" line="147"/>
    <codefragment>        return $title;
    }

    /**
     * Method to get the parent asset under which to register this one.
     * By default, all assets are registered to the ROOT node with ID 1.
     * The extended class can define a table and id to lookup.  If the
     * asset does not exist it will be created.
     *
     * @param   JTable  $table  A JTable object for the asset parent.
     * @param   integer $id     Id to look up
     *
     * @return  integer
     *
     * @since   11.1
     */
    protected function _getAssetParentId($table = null, $id = null)
    {
        $asset = JTable::getInstance('Asset');
        $asset-&gt;loadByName('com_biblestudy');

        return $asset-&gt;id;
</codefragment>
  </duplication>
  <duplication lines="22" tokens="23">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/tables/admin.php" line="192"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/tables/messagetype.php" line="112"/>
    <codefragment>        return $title;
    }

    /**
     * Method to get the parent asset under which to register this one.
     * By default, all assets are registered to the ROOT node with ID 1.
     * The extended class can define a table and id to lookup.  If the
     * asset does not exist it will be created.
     *
     * @param   JTable  $table  A JTable object for the asset parent.
     * @param   integer $id     Id to look up
     *
     * @return  integer
     *
     * @since   11.1
     */
    protected function _getAssetParentId($table = null, $id = null)
    {
        $asset = JTable::getInstance('Asset');
        $asset-&gt;loadByName('com_biblestudy');

        return $asset-&gt;id;
</codefragment>
  </duplication>
  <duplication lines="22" tokens="23">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/tables/admin.php" line="192"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/tables/mimetype.php" line="119"/>
    <codefragment>        return $title;
    }

    /**
     * Method to get the parent asset under which to register this one.
     * By default, all assets are registered to the ROOT node with ID 1.
     * The extended class can define a table and id to lookup.  If the
     * asset does not exist it will be created.
     *
     * @param   JTable  $table  A JTable object for the asset parent.
     * @param   integer $id     Id to look up
     *
     * @return  integer
     *
     * @since   11.1
     */
    protected function _getAssetParentId($table = null, $id = null)
    {
        $asset = JTable::getInstance('Asset');
        $asset-&gt;loadByName('com_biblestudy');

        return $asset-&gt;id;
</codefragment>
  </duplication>
  <duplication lines="22" tokens="23">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/tables/admin.php" line="192"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/tables/podcast.php" line="252"/>
    <codefragment>        return $title;
    }

    /**
     * Method to get the parent asset under which to register this one.
     * By default, all assets are registered to the ROOT node with ID 1.
     * The extended class can define a table and id to lookup.  If the
     * asset does not exist it will be created.
     *
     * @param   JTable  $table  A JTable object for the asset parent.
     * @param   integer $id     Id to look up
     *
     * @return  integer
     *
     * @since   11.1
     */
    protected function _getAssetParentId($table = null, $id = null)
    {
        $asset = JTable::getInstance('Asset');
        $asset-&gt;loadByName('com_biblestudy');

        return $asset-&gt;id;
</codefragment>
  </duplication>
  <duplication lines="22" tokens="23">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/tables/admin.php" line="192"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/tables/serie.php" line="101"/>
    <codefragment>        return $title;
    }

    /**
     * Method to get the parent asset under which to register this one.
     * By default, all assets are registered to the ROOT node with ID 1.
     * The extended class can define a table and id to lookup.  If the
     * asset does not exist it will be created.
     *
     * @param   JTable  $table  A JTable object for the asset parent.
     * @param   integer $id     Id to look up
     *
     * @return  integer
     *
     * @since   11.1
     */
    protected function _getAssetParentId($table = null, $id = null)
    {
        $asset = JTable::getInstance('Asset');
        $asset-&gt;loadByName('com_biblestudy');

        return $asset-&gt;id;
</codefragment>
  </duplication>
  <duplication lines="6" tokens="21">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/tables/admin.php" line="208"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/tables/server.php" line="167"/>
    <codefragment>    protected function _getAssetParentId($table = null, $id = null)
    {
        $asset = JTable::getInstance('Asset');
        $asset-&gt;loadByName('com_biblestudy');

        return $asset-&gt;id;
</codefragment>
  </duplication>
  <duplication lines="22" tokens="23">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/tables/admin.php" line="192"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/tables/studytopics.php" line="84"/>
    <codefragment>        return $title;
    }

    /**
     * Method to get the parent asset under which to register this one.
     * By default, all assets are registered to the ROOT node with ID 1.
     * The extended class can define a table and id to lookup.  If the
     * asset does not exist it will be created.
     *
     * @param   JTable  $table  A JTable object for the asset parent.
     * @param   integer $id     Id to look up
     *
     * @return  integer
     *
     * @since   11.1
     */
    protected function _getAssetParentId($table = null, $id = null)
    {
        $asset = JTable::getInstance('Asset');
        $asset-&gt;loadByName('com_biblestudy');

        return $asset-&gt;id;
</codefragment>
  </duplication>
  <duplication lines="22" tokens="23">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/tables/admin.php" line="192"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/tables/teacher.php" line="97"/>
    <codefragment>        return $title;
    }

    /**
     * Method to get the parent asset under which to register this one.
     * By default, all assets are registered to the ROOT node with ID 1.
     * The extended class can define a table and id to lookup.  If the
     * asset does not exist it will be created.
     *
     * @param   JTable  $table  A JTable object for the asset parent.
     * @param   integer $id     Id to look up
     *
     * @return  integer
     *
     * @since   11.1
     */
    protected function _getAssetParentId($table = null, $id = null)
    {
        $asset = JTable::getInstance('Asset');
        $asset-&gt;loadByName('com_biblestudy');

        return $asset-&gt;id;
</codefragment>
  </duplication>
  <duplication lines="11" tokens="25">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/tables/style.php" line="173"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/tables/templatecode.php" line="262"/>
    <codefragment>        if (JFile::exists($file))
        {
            if (!JFile::delete($file))
            {
                $this-&gt;setError(JText::_('JBS_STYLE_FILENAME_NOT_DELETED'));

                return false;
            }
        }

        return parent::delete($pk);
</codefragment>
  </duplication>
  <duplication lines="34" tokens="70">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/comments/tmpl/default.php" line="51"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/folders/tmpl/default.php" line="50"/>
    <codefragment>    &lt;?php if (!empty($this-&gt;sidebar)): ?&gt;
    &lt;div id="j-sidebar-container" class="span2"&gt;
        &lt;?php echo $this-&gt;sidebar; ?&gt;
    &lt;/div&gt;
        &lt;div id="j-main-container" class="span10"&gt;
        &lt;?php else : ?&gt;
            &lt;div id="j-main-container"&gt;
            &lt;?php endif; ?&gt;
    &lt;div id="filter-bar" class="btn-toolbar"&gt;
        &lt;div class="filter-search btn-group pull-left"&gt;
            &lt;label for="filter_search"
                   class="element-invisible"&gt;&lt;?php echo JText::_('JBS_CMN_FILTER_SEARCH_DESC'); ?&gt;&lt;/label&gt;
            &lt;input type="text" name="filter_search" placeholder="&lt;?php echo JText::_('JBS_CMN_FILTER_SEARCH_DESC'); ?&gt;"
                   id="filter_search" value="&lt;?php echo $this-&gt;escape($this-&gt;state-&gt;get('filter.search')); ?&gt;"
                   title="&lt;?php echo JText::_('JBS_CMN_FILTER_SEARCH_DESC'); ?&gt;"/&gt;
        &lt;/div&gt;
        &lt;div class="btn-group pull-left hidden-phone"&gt;
            &lt;button class="btn tip hasTooltip" type="submit" title="&lt;?php echo JText::_('JSEARCH_FILTER_SUBMIT'); ?&gt;"&gt;&lt;i
                    class="icon-search"&gt;&lt;/i&gt;&lt;/button&gt;
            &lt;button class="btn tip hasTooltip" type="button"
                    onclick="document.id('filter_search').value='';this.form.submit();"
                    title="&lt;?php echo JText::_('JSEARCH_FILTER_CLEAR'); ?&gt;"&gt;&lt;i class="icon-remove"&gt;&lt;/i&gt;&lt;/button&gt;
        &lt;/div&gt;
        &lt;div class="btn-group pull-right hidden-phone"&gt;
            &lt;label for="limit"
                   class="element-invisible"&gt;&lt;?php echo JText::_('JFIELD_PLG_SEARCH_SEARCHLIMIT_DESC'); ?&gt;&lt;/label&gt;
            &lt;?php echo $this-&gt;pagination-&gt;getLimitBox(); ?&gt;
        &lt;/div&gt;
        &lt;div class="btn-group pull-right hidden-phone"&gt;
            &lt;label for="directionTable"
                   class="element-invisible"&gt;&lt;?php echo JText::_('JFIELD_ORDERING_DESC'); ?&gt;&lt;/label&gt;
            &lt;select name="directionTable" id="directionTable" class="input-medium" onchange="Joomla.orderTable()"&gt;
                &lt;option value=""&gt;&lt;?php echo JText::_('JFIELD_ORDERING_DESC'); ?&gt;&lt;/option&gt;
                &lt;option value="asc" &lt;?php if ($listDirn == 'asc') echo 'selected="selected"'; ?&gt;&gt;&lt;?php echo JText::_('JBS_CMN_ASCENDING'); ?&gt;&lt;/option&gt;
</codefragment>
  </duplication>
  <duplication lines="14" tokens="27">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/comments/tmpl/default.php" line="224"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/folders/tmpl/default.php" line="198"/>
    <codefragment>                &lt;?php echo (int) $item-&gt;id; ?&gt;
            &lt;/td&gt;
        &lt;/tr&gt;
            &lt;?php endforeach; ?&gt;
        &lt;/tbody&gt;
    &lt;/table&gt;
    &lt;?php echo $this-&gt;pagination-&gt;getListFooter(); ?&gt;
    &lt;?php // Load the batch processing form. ?&gt;
    &lt;?php echo $this-&gt;loadTemplate('batch'); ?&gt;
    &lt;input type="hidden" name="task" value=""/&gt;
    &lt;input type="hidden" name="boxchecked" value="0"/&gt;
    &lt;input type="hidden" name="filter_order" value="&lt;?php echo $listOrder; ?&gt;"/&gt;
    &lt;input type="hidden" name="filter_order_Dir" value="&lt;?php echo $listDirn; ?&gt;"/&gt;
    &lt;?php echo JHtml::_('form.token'); ?&gt;
</codefragment>
  </duplication>
  <duplication lines="29" tokens="39">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/comments/tmpl/default_batch.php" line="10"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/folders/tmpl/default_batch.php" line="10"/>
    <codefragment>defined('_JEXEC') or die;

$published = $this-&gt;state-&gt;get('filter.published');
?&gt;
&lt;div class="modal hide fade" id="collapseModal"&gt;
    &lt;div class="modal-header"&gt;
        &lt;?php if (BIBLESTUDY_CHECKREL)
        {
            ?&gt;
            &lt;button type="button" role="presentation" class="close" data-dismiss="modal"&gt;x&lt;/button&gt;&lt;?php } ?&gt;
        &lt;h3&gt;&lt;?php echo JText::_('JBS_CMN_BATCH_OPTIONS'); ?&gt;&lt;/h3&gt;
    &lt;/div&gt;
    &lt;div class="modal-body"&gt;
        &lt;p&gt;&lt;?php echo JText::_('JBS_CMN_BATCH_TIP'); ?&gt;&lt;/p&gt;

        &lt;div class="control-group"&gt;
            &lt;div class="controls"&gt;
                &lt;?php echo JHtml::_('batch.access'); ?&gt;
            &lt;/div&gt;
        &lt;/div&gt;

    &lt;/div&gt;
    &lt;div class="modal-footer"&gt;
        &lt;button class="btn" type="button" onclick="document.id('batch-folders-id');document.id('batch-access').value=''"
                data-dismiss="modal"&gt;
            &lt;?php echo JText::_('JCANCEL'); ?&gt;
        &lt;/button&gt;
        &lt;button class="btn btn-primary" type="submit" onclick="Joomla.submitbutton('comment.batch');"&gt;
            &lt;?php echo JText::_('JGLOBAL_BATCH_PROCESS'); ?&gt;
</codefragment>
  </duplication>
  <duplication lines="17" tokens="93">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/comments/view.html.php" line="75"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/folders/view.html.php" line="83"/>
    <codefragment>        if (count($errors = $this-&gt;get('Errors')))
        {
            JFactory::getApplication()-&gt;enqueueMessage(implode("\n", $errors), 'error');

            return false;
        }

        // Levels filter.
        $options   = array();
        $options[] = JHtml::_('select.option', '1', JText::_('J1'));
        $options[] = JHtml::_('select.option', '2', JText::_('J2'));
        $options[] = JHtml::_('select.option', '3', JText::_('J3'));
        $options[] = JHtml::_('select.option', '4', JText::_('J4'));
        $options[] = JHtml::_('select.option', '5', JText::_('J5'));
        $options[] = JHtml::_('select.option', '6', JText::_('J6'));
        $options[] = JHtml::_('select.option', '7', JText::_('J7'));
        $options[] = JHtml::_('select.option', '8', JText::_('J8'));
</codefragment>
  </duplication>
  <duplication lines="12" tokens="31">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/folder/tmpl/edit.php" line="11"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/location/tmpl/edit.php" line="11"/>
    <codefragment>defined('_JEXEC') or die;

// Load the tooltip behavior.
JHtml::_('behavior.tooltip');
JHtml::_('behavior.formvalidation');
JHtml::_('behavior.keepalive');
if (BIBLESTUDY_CHECKREL)
    JHtml::_('formbehavior.chosen', 'select');

// Create shortcut to parameters.
$params = $this-&gt;state-&gt;get('params');
$params = $params-&gt;toArray();
</codefragment>
  </duplication>
  <duplication lines="13" tokens="25">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/folders/tmpl/default.php" line="11"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/locations/tmpl/default.php" line="11"/>
    <codefragment>defined('_JEXEC') or die;

if (BIBLESTUDY_CHECKREL)
{
    JHtml::_('bootstrap.tooltip');
    JHtml::_('dropdown.init');
    JHtml::_('formbehavior.chosen', 'select');
}
else
{
    JHtml::_('behavior.tooltip');
}
JHtml::_('behavior.multiselect');
</codefragment>
  </duplication>
  <duplication lines="55" tokens="111">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/comments/tmpl/default.php" line="51"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/locations/tmpl/default.php" line="50"/>
    <codefragment>    &lt;?php if (!empty($this-&gt;sidebar)): ?&gt;
    &lt;div id="j-sidebar-container" class="span2"&gt;
        &lt;?php echo $this-&gt;sidebar; ?&gt;
    &lt;/div&gt;
        &lt;div id="j-main-container" class="span10"&gt;
        &lt;?php else : ?&gt;
            &lt;div id="j-main-container"&gt;
            &lt;?php endif; ?&gt;
    &lt;div id="filter-bar" class="btn-toolbar"&gt;
        &lt;div class="filter-search btn-group pull-left"&gt;
            &lt;label for="filter_search"
                   class="element-invisible"&gt;&lt;?php echo JText::_('JBS_CMN_FILTER_SEARCH_DESC'); ?&gt;&lt;/label&gt;
            &lt;input type="text" name="filter_search" placeholder="&lt;?php echo JText::_('JBS_CMN_FILTER_SEARCH_DESC'); ?&gt;"
                   id="filter_search" value="&lt;?php echo $this-&gt;escape($this-&gt;state-&gt;get('filter.search')); ?&gt;"
                   title="&lt;?php echo JText::_('JBS_CMN_FILTER_SEARCH_DESC'); ?&gt;"/&gt;
        &lt;/div&gt;
        &lt;div class="btn-group pull-left hidden-phone"&gt;
            &lt;button class="btn tip hasTooltip" type="submit" title="&lt;?php echo JText::_('JSEARCH_FILTER_SUBMIT'); ?&gt;"&gt;&lt;i
                    class="icon-search"&gt;&lt;/i&gt;&lt;/button&gt;
            &lt;button class="btn tip hasTooltip" type="button"
                    onclick="document.id('filter_search').value='';this.form.submit();"
                    title="&lt;?php echo JText::_('JSEARCH_FILTER_CLEAR'); ?&gt;"&gt;&lt;i class="icon-remove"&gt;&lt;/i&gt;&lt;/button&gt;
        &lt;/div&gt;
        &lt;div class="btn-group pull-right hidden-phone"&gt;
            &lt;label for="limit"
                   class="element-invisible"&gt;&lt;?php echo JText::_('JFIELD_PLG_SEARCH_SEARCHLIMIT_DESC'); ?&gt;&lt;/label&gt;
            &lt;?php echo $this-&gt;pagination-&gt;getLimitBox(); ?&gt;
        &lt;/div&gt;
        &lt;div class="btn-group pull-right hidden-phone"&gt;
            &lt;label for="directionTable"
                   class="element-invisible"&gt;&lt;?php echo JText::_('JFIELD_ORDERING_DESC'); ?&gt;&lt;/label&gt;
            &lt;select name="directionTable" id="directionTable" class="input-medium" onchange="Joomla.orderTable()"&gt;
                &lt;option value=""&gt;&lt;?php echo JText::_('JFIELD_ORDERING_DESC'); ?&gt;&lt;/option&gt;
                &lt;option value="asc" &lt;?php if ($listDirn == 'asc') echo 'selected="selected"'; ?&gt;&gt;&lt;?php echo JText::_('JBS_CMN_ASCENDING'); ?&gt;&lt;/option&gt;
                &lt;option value="desc" &lt;?php if ($listDirn == 'desc') echo 'selected="selected"'; ?&gt;&gt;&lt;?php echo JText::_('JBS_CMN_DESCENDING'); ?&gt;&lt;/option&gt;
            &lt;/select&gt;
        &lt;/div&gt;
        &lt;div class="btn-group pull-right"&gt;
            &lt;label for="sortTable" class="element-invisible"&gt;&lt;?php echo JText::_('JBS_CMN_SELECT_BY'); ?&gt;&lt;/label&gt;
            &lt;select name="sortTable" id="sortTable" class="input-medium" onchange="Joomla.orderTable()"&gt;
                &lt;option value=""&gt;&lt;?php echo JText::_('JBS_CMN_SELECT_BY'); ?&gt;&lt;/option&gt;
                &lt;?php echo JHtml::_('select.options', $sortFields, 'value', 'text', $listOrder); ?&gt;
            &lt;/select&gt;
        &lt;/div&gt;
        &lt;?php if (!BIBLESTUDY_CHECKREL): ?&gt;
        &lt;div class="clearfix"&gt;&lt;/div&gt;
        &lt;div class="btn-group pull-right"&gt;
            &lt;label for="filter_published" id="filter_published"
                   class="element-invisible"&gt;&lt;?php echo JText::_('JBS_CMN_SELECT_BY'); ?&gt;&lt;/label&gt;
            &lt;select name="filter_published" class="input-medium" onchange="this.form.submit()"&gt;
                &lt;option value=""&gt;&lt;?php echo JText::_('JOPTION_SELECT_PUBLISHED'); ?&gt;&lt;/option&gt;
                &lt;?php echo JHtml::_('select.options', JHtml::_('jgrid.publishedOptions'), 'value', 'text', $this-&gt;state-&gt;get('filter.published'), true); ?&gt;
            &lt;/select&gt;
        &lt;/div&gt;

</codefragment>
  </duplication>
  <duplication lines="14" tokens="27">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/comments/tmpl/default.php" line="224"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/locations/tmpl/default.php" line="212"/>
    <codefragment>                &lt;?php echo (int) $item-&gt;id; ?&gt;
            &lt;/td&gt;
        &lt;/tr&gt;
            &lt;?php endforeach; ?&gt;
        &lt;/tbody&gt;
    &lt;/table&gt;
    &lt;?php echo $this-&gt;pagination-&gt;getListFooter(); ?&gt;
    &lt;?php // Load the batch processing form. ?&gt;
    &lt;?php echo $this-&gt;loadTemplate('batch'); ?&gt;
    &lt;input type="hidden" name="task" value=""/&gt;
    &lt;input type="hidden" name="boxchecked" value="0"/&gt;
    &lt;input type="hidden" name="filter_order" value="&lt;?php echo $listOrder; ?&gt;"/&gt;
    &lt;input type="hidden" name="filter_order_Dir" value="&lt;?php echo $listDirn; ?&gt;"/&gt;
    &lt;?php echo JHtml::_('form.token'); ?&gt;
</codefragment>
  </duplication>
  <duplication lines="29" tokens="39">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/comments/tmpl/default_batch.php" line="10"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/locations/tmpl/default_batch.php" line="10"/>
    <codefragment>defined('_JEXEC') or die;

$published = $this-&gt;state-&gt;get('filter.published');
?&gt;
&lt;div class="modal hide fade" id="collapseModal"&gt;
    &lt;div class="modal-header"&gt;
        &lt;?php if (BIBLESTUDY_CHECKREL)
        {
            ?&gt;
            &lt;button type="button" role="presentation" class="close" data-dismiss="modal"&gt;x&lt;/button&gt;&lt;?php } ?&gt;
        &lt;h3&gt;&lt;?php echo JText::_('JBS_CMN_BATCH_OPTIONS'); ?&gt;&lt;/h3&gt;
    &lt;/div&gt;
    &lt;div class="modal-body"&gt;
        &lt;p&gt;&lt;?php echo JText::_('JBS_CMN_BATCH_TIP'); ?&gt;&lt;/p&gt;

        &lt;div class="control-group"&gt;
            &lt;div class="controls"&gt;
                &lt;?php echo JHtml::_('batch.access'); ?&gt;
            &lt;/div&gt;
        &lt;/div&gt;

    &lt;/div&gt;
    &lt;div class="modal-footer"&gt;
        &lt;button class="btn" type="button" onclick="document.id('batch-folders-id');document.id('batch-access').value=''"
                data-dismiss="modal"&gt;
            &lt;?php echo JText::_('JCANCEL'); ?&gt;
        &lt;/button&gt;
        &lt;button class="btn btn-primary" type="submit" onclick="Joomla.submitbutton('comment.batch');"&gt;
            &lt;?php echo JText::_('JGLOBAL_BATCH_PROCESS'); ?&gt;
</codefragment>
  </duplication>
  <duplication lines="17" tokens="99">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/comments/view.html.php" line="75"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/locations/view.html.php" line="83"/>
    <codefragment>        if (count($errors = $this-&gt;get('Errors')))
        {
            JFactory::getApplication()-&gt;enqueueMessage(implode("\n", $errors), 'error');

            return false;
        }

        // Levels filter.
        $options   = array();
        $options[] = JHtml::_('select.option', '1', JText::_('J1'));
        $options[] = JHtml::_('select.option', '2', JText::_('J2'));
        $options[] = JHtml::_('select.option', '3', JText::_('J3'));
        $options[] = JHtml::_('select.option', '4', JText::_('J4'));
        $options[] = JHtml::_('select.option', '5', JText::_('J5'));
        $options[] = JHtml::_('select.option', '6', JText::_('J6'));
        $options[] = JHtml::_('select.option', '7', JText::_('J7'));
        $options[] = JHtml::_('select.option', '8', JText::_('J8'));
</codefragment>
  </duplication>
  <duplication lines="21" tokens="43">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/comment/tmpl/edit.php" line="134"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/mediafile/tmpl/edit.php" line="463"/>
    <codefragment>                    &lt;?php echo $this-&gt;form-&gt;getLabel('published'); ?&gt;
                &lt;/div&gt;
                &lt;div class="controls"&gt;
                    &lt;?php echo $this-&gt;form-&gt;getInput('published'); ?&gt;
                &lt;/div&gt;
            &lt;/div&gt;
            &lt;div class="control-group"&gt;
                &lt;div class="control-label"&gt;
                    &lt;?php echo $this-&gt;form-&gt;getLabel('access'); ?&gt;
                &lt;/div&gt;
                &lt;div class="controls"&gt;
                    &lt;?php echo $this-&gt;form-&gt;getInput('access'); ?&gt;
                &lt;/div&gt;
            &lt;/div&gt;

            &lt;div class="control-group"&gt;
                &lt;div class="control-label"&gt;
                    &lt;?php echo $this-&gt;form-&gt;getLabel('language'); ?&gt;
                &lt;/div&gt;
                &lt;div class="controls"&gt;
                    &lt;?php echo $this-&gt;form-&gt;getInput('language'); ?&gt;
</codefragment>
  </duplication>
  <duplication lines="8" tokens="23">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/comments/tmpl/default.php" line="11"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/mediafiles/tmpl/default.php" line="11"/>
    <codefragment>defined('_JEXEC') or die;

if (BIBLESTUDY_CHECKREL)
{
    JHtml::addIncludePath(JPATH_COMPONENT . '/helpers/html');
    JHtml::_('bootstrap.tooltip');
    JHtml::_('dropdown.init');
    JHtml::_('formbehavior.chosen', 'select');
</codefragment>
  </duplication>
  <duplication lines="34" tokens="72">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/comments/tmpl/default.php" line="51"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/mediafiles/tmpl/default.php" line="57"/>
    <codefragment>    &lt;?php if (!empty($this-&gt;sidebar)): ?&gt;
    &lt;div id="j-sidebar-container" class="span2"&gt;
        &lt;?php echo $this-&gt;sidebar; ?&gt;
    &lt;/div&gt;
        &lt;div id="j-main-container" class="span10"&gt;
        &lt;?php else : ?&gt;
            &lt;div id="j-main-container"&gt;
            &lt;?php endif; ?&gt;
    &lt;div id="filter-bar" class="btn-toolbar"&gt;
        &lt;div class="filter-search btn-group pull-left"&gt;
            &lt;label for="filter_search"
                   class="element-invisible"&gt;&lt;?php echo JText::_('JBS_CMN_FILTER_SEARCH_DESC'); ?&gt;&lt;/label&gt;
            &lt;input type="text" name="filter_search" placeholder="&lt;?php echo JText::_('JBS_CMN_FILTER_SEARCH_DESC'); ?&gt;"
                   id="filter_search" value="&lt;?php echo $this-&gt;escape($this-&gt;state-&gt;get('filter.search')); ?&gt;"
                   title="&lt;?php echo JText::_('JBS_CMN_FILTER_SEARCH_DESC'); ?&gt;"/&gt;
        &lt;/div&gt;
        &lt;div class="btn-group pull-left hidden-phone"&gt;
            &lt;button class="btn tip hasTooltip" type="submit" title="&lt;?php echo JText::_('JSEARCH_FILTER_SUBMIT'); ?&gt;"&gt;&lt;i
                    class="icon-search"&gt;&lt;/i&gt;&lt;/button&gt;
            &lt;button class="btn tip hasTooltip" type="button"
                    onclick="document.id('filter_search').value='';this.form.submit();"
                    title="&lt;?php echo JText::_('JSEARCH_FILTER_CLEAR'); ?&gt;"&gt;&lt;i class="icon-remove"&gt;&lt;/i&gt;&lt;/button&gt;
        &lt;/div&gt;
        &lt;div class="btn-group pull-right hidden-phone"&gt;
            &lt;label for="limit"
                   class="element-invisible"&gt;&lt;?php echo JText::_('JFIELD_PLG_SEARCH_SEARCHLIMIT_DESC'); ?&gt;&lt;/label&gt;
            &lt;?php echo $this-&gt;pagination-&gt;getLimitBox(); ?&gt;
        &lt;/div&gt;
        &lt;div class="btn-group pull-right hidden-phone"&gt;
            &lt;label for="directionTable"
                   class="element-invisible"&gt;&lt;?php echo JText::_('JFIELD_ORDERING_DESC'); ?&gt;&lt;/label&gt;
            &lt;select name="directionTable" id="directionTable" class="input-medium" onchange="Joomla.orderTable()"&gt;
                &lt;option value=""&gt;&lt;?php echo JText::_('JFIELD_ORDERING_DESC'); ?&gt;&lt;/option&gt;
                &lt;option value="asc" &lt;?php if ($listDirn == 'asc') echo 'selected="selected"'; ?&gt;&gt;&lt;?php echo JText::_('JBS_CMN_ASCENDING'); ?&gt;&lt;/option&gt;
</codefragment>
  </duplication>
  <duplication lines="14" tokens="27">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/comments/tmpl/default.php" line="224"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/mediafiles/tmpl/default.php" line="349"/>
    <codefragment>                &lt;?php echo (int) $item-&gt;id; ?&gt;
            &lt;/td&gt;
        &lt;/tr&gt;
            &lt;?php endforeach; ?&gt;
        &lt;/tbody&gt;
    &lt;/table&gt;
    &lt;?php echo $this-&gt;pagination-&gt;getListFooter(); ?&gt;
    &lt;?php // Load the batch processing form. ?&gt;
    &lt;?php echo $this-&gt;loadTemplate('batch'); ?&gt;
    &lt;input type="hidden" name="task" value=""/&gt;
    &lt;input type="hidden" name="boxchecked" value="0"/&gt;
    &lt;input type="hidden" name="filter_order" value="&lt;?php echo $listOrder; ?&gt;"/&gt;
    &lt;input type="hidden" name="filter_order_Dir" value="&lt;?php echo $listDirn; ?&gt;"/&gt;
    &lt;?php echo JHtml::_('form.token'); ?&gt;
</codefragment>
  </duplication>
  <duplication lines="17" tokens="99">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/comments/view.html.php" line="75"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/mediafiles/view.html.php" line="92"/>
    <codefragment>        if (count($errors = $this-&gt;get('Errors')))
        {
            JFactory::getApplication()-&gt;enqueueMessage(implode("\n", $errors), 'error');

            return false;
        }

        // Levels filter.
        $options   = array();
        $options[] = JHtml::_('select.option', '1', JText::_('J1'));
        $options[] = JHtml::_('select.option', '2', JText::_('J2'));
        $options[] = JHtml::_('select.option', '3', JText::_('J3'));
        $options[] = JHtml::_('select.option', '4', JText::_('J4'));
        $options[] = JHtml::_('select.option', '5', JText::_('J5'));
        $options[] = JHtml::_('select.option', '6', JText::_('J6'));
        $options[] = JHtml::_('select.option', '7', JText::_('J7'));
        $options[] = JHtml::_('select.option', '8', JText::_('J8'));
</codefragment>
  </duplication>
  <duplication lines="14" tokens="30">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/comments/tmpl/default.php" line="11"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/mediaimages/tmpl/default.php" line="11"/>
    <codefragment>defined('_JEXEC') or die;

if (BIBLESTUDY_CHECKREL)
{
    JHtml::addIncludePath(JPATH_COMPONENT . '/helpers/html');
    JHtml::_('bootstrap.tooltip');
    JHtml::_('dropdown.init');
    JHtml::_('formbehavior.chosen', 'select');
}
else
{
    JHtml::_('behavior.tooltip');
}
JHtml::_('behavior.multiselect');
</codefragment>
  </duplication>
  <duplication lines="35" tokens="82">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/comments/tmpl/default.php" line="51"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/mediaimages/tmpl/default.php" line="51"/>
    <codefragment>    &lt;?php if (!empty($this-&gt;sidebar)): ?&gt;
    &lt;div id="j-sidebar-container" class="span2"&gt;
        &lt;?php echo $this-&gt;sidebar; ?&gt;
    &lt;/div&gt;
        &lt;div id="j-main-container" class="span10"&gt;
        &lt;?php else : ?&gt;
            &lt;div id="j-main-container"&gt;
            &lt;?php endif; ?&gt;
    &lt;div id="filter-bar" class="btn-toolbar"&gt;
        &lt;div class="filter-search btn-group pull-left"&gt;
            &lt;label for="filter_search"
                   class="element-invisible"&gt;&lt;?php echo JText::_('JBS_CMN_FILTER_SEARCH_DESC'); ?&gt;&lt;/label&gt;
            &lt;input type="text" name="filter_search" placeholder="&lt;?php echo JText::_('JBS_CMN_FILTER_SEARCH_DESC'); ?&gt;"
                   id="filter_search" value="&lt;?php echo $this-&gt;escape($this-&gt;state-&gt;get('filter.search')); ?&gt;"
                   title="&lt;?php echo JText::_('JBS_CMN_FILTER_SEARCH_DESC'); ?&gt;"/&gt;
        &lt;/div&gt;
        &lt;div class="btn-group pull-left hidden-phone"&gt;
            &lt;button class="btn tip hasTooltip" type="submit" title="&lt;?php echo JText::_('JSEARCH_FILTER_SUBMIT'); ?&gt;"&gt;&lt;i
                    class="icon-search"&gt;&lt;/i&gt;&lt;/button&gt;
            &lt;button class="btn tip hasTooltip" type="button"
                    onclick="document.id('filter_search').value='';this.form.submit();"
                    title="&lt;?php echo JText::_('JSEARCH_FILTER_CLEAR'); ?&gt;"&gt;&lt;i class="icon-remove"&gt;&lt;/i&gt;&lt;/button&gt;
        &lt;/div&gt;
        &lt;div class="btn-group pull-right hidden-phone"&gt;
            &lt;label for="limit"
                   class="element-invisible"&gt;&lt;?php echo JText::_('JFIELD_PLG_SEARCH_SEARCHLIMIT_DESC'); ?&gt;&lt;/label&gt;
            &lt;?php echo $this-&gt;pagination-&gt;getLimitBox(); ?&gt;
        &lt;/div&gt;
        &lt;div class="btn-group pull-right hidden-phone"&gt;
            &lt;label for="directionTable"
                   class="element-invisible"&gt;&lt;?php echo JText::_('JFIELD_ORDERING_DESC'); ?&gt;&lt;/label&gt;
            &lt;select name="directionTable" id="directionTable" class="input-medium" onchange="Joomla.orderTable()"&gt;
                &lt;option value=""&gt;&lt;?php echo JText::_('JFIELD_ORDERING_DESC'); ?&gt;&lt;/option&gt;
                &lt;option value="asc" &lt;?php if ($listDirn == 'asc') echo 'selected="selected"'; ?&gt;&gt;&lt;?php echo JText::_('JBS_CMN_ASCENDING'); ?&gt;&lt;/option&gt;
                &lt;option value="desc" &lt;?php if ($listDirn == 'desc') echo 'selected="selected"'; ?&gt;&gt;&lt;?php echo JText::_('JBS_CMN_DESCENDING'); ?&gt;&lt;/option&gt;
</codefragment>
  </duplication>
  <duplication lines="16" tokens="84">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/comments/view.html.php" line="75"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/mediaimages/view.html.php" line="99"/>
    <codefragment>        if (count($errors = $this-&gt;get('Errors')))
        {
            JFactory::getApplication()-&gt;enqueueMessage(implode("\n", $errors), 'error');

            return false;
        }

        // Levels filter.
        $options   = array();
        $options[] = JHtml::_('select.option', '1', JText::_('J1'));
        $options[] = JHtml::_('select.option', '2', JText::_('J2'));
        $options[] = JHtml::_('select.option', '3', JText::_('J3'));
        $options[] = JHtml::_('select.option', '4', JText::_('J4'));
        $options[] = JHtml::_('select.option', '5', JText::_('J5'));
        $options[] = JHtml::_('select.option', '6', JText::_('J6'));
        $options[] = JHtml::_('select.option', '7', JText::_('J7'));
</codefragment>
  </duplication>
  <duplication lines="37" tokens="79">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/comments/tmpl/default.php" line="51"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/messages/tmpl/default.php" line="59"/>
    <codefragment>    &lt;?php if (!empty($this-&gt;sidebar)): ?&gt;
    &lt;div id="j-sidebar-container" class="span2"&gt;
        &lt;?php echo $this-&gt;sidebar; ?&gt;
    &lt;/div&gt;
        &lt;div id="j-main-container" class="span10"&gt;
        &lt;?php else : ?&gt;
            &lt;div id="j-main-container"&gt;
            &lt;?php endif; ?&gt;
    &lt;div id="filter-bar" class="btn-toolbar"&gt;
        &lt;div class="filter-search btn-group pull-left"&gt;
            &lt;label for="filter_search"
                   class="element-invisible"&gt;&lt;?php echo JText::_('JBS_CMN_FILTER_SEARCH_DESC'); ?&gt;&lt;/label&gt;
            &lt;input type="text" name="filter_search" placeholder="&lt;?php echo JText::_('JBS_CMN_FILTER_SEARCH_DESC'); ?&gt;"
                   id="filter_search" value="&lt;?php echo $this-&gt;escape($this-&gt;state-&gt;get('filter.search')); ?&gt;"
                   title="&lt;?php echo JText::_('JBS_CMN_FILTER_SEARCH_DESC'); ?&gt;"/&gt;
        &lt;/div&gt;
        &lt;div class="btn-group pull-left hidden-phone"&gt;
            &lt;button class="btn tip hasTooltip" type="submit" title="&lt;?php echo JText::_('JSEARCH_FILTER_SUBMIT'); ?&gt;"&gt;&lt;i
                    class="icon-search"&gt;&lt;/i&gt;&lt;/button&gt;
            &lt;button class="btn tip hasTooltip" type="button"
                    onclick="document.id('filter_search').value='';this.form.submit();"
                    title="&lt;?php echo JText::_('JSEARCH_FILTER_CLEAR'); ?&gt;"&gt;&lt;i class="icon-remove"&gt;&lt;/i&gt;&lt;/button&gt;
        &lt;/div&gt;
        &lt;div class="btn-group pull-right hidden-phone"&gt;
            &lt;label for="limit"
                   class="element-invisible"&gt;&lt;?php echo JText::_('JFIELD_PLG_SEARCH_SEARCHLIMIT_DESC'); ?&gt;&lt;/label&gt;
            &lt;?php echo $this-&gt;pagination-&gt;getLimitBox(); ?&gt;
        &lt;/div&gt;
        &lt;div class="btn-group pull-right hidden-phone"&gt;
            &lt;label for="directionTable"
                   class="element-invisible"&gt;&lt;?php echo JText::_('JFIELD_ORDERING_DESC'); ?&gt;&lt;/label&gt;
            &lt;select name="directionTable" id="directionTable" class="input-medium" onchange="Joomla.orderTable()"&gt;
                &lt;option value=""&gt;&lt;?php echo JText::_('JFIELD_ORDERING_DESC'); ?&gt;&lt;/option&gt;
                &lt;option value="asc" &lt;?php if ($listDirn == 'asc') echo 'selected="selected"'; ?&gt;&gt;&lt;?php echo JText::_('JBS_CMN_ASCENDING'); ?&gt;&lt;/option&gt;
                &lt;option value="desc" &lt;?php if ($listDirn == 'desc') echo 'selected="selected"'; ?&gt;&gt;&lt;?php echo JText::_('JBS_CMN_DESCENDING'); ?&gt;&lt;/option&gt;
            &lt;/select&gt;
        &lt;/div&gt;
</codefragment>
  </duplication>
  <duplication lines="21" tokens="55">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/comments/tmpl/default.php" line="215"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/messages/tmpl/default.php" line="334"/>
    <codefragment>                &lt;?php if ($item-&gt;language == '*'): ?&gt;
                &lt;?php echo JText::alt('JALL', 'language'); ?&gt;
                &lt;?php else: ?&gt;
                &lt;?php echo $item-&gt;language_title ? $this-&gt;escape($item-&gt;language_title) : JText::_('JUNDEFINED'); ?&gt;
                &lt;?php endif; ?&gt;
            &lt;/td&gt;

            &lt;/td&gt;
            &lt;td class="center hidden-phone"&gt;
                &lt;?php echo (int) $item-&gt;id; ?&gt;
            &lt;/td&gt;
        &lt;/tr&gt;
            &lt;?php endforeach; ?&gt;
        &lt;/tbody&gt;
    &lt;/table&gt;
    &lt;?php echo $this-&gt;pagination-&gt;getListFooter(); ?&gt;
    &lt;?php // Load the batch processing form. ?&gt;
    &lt;?php echo $this-&gt;loadTemplate('batch'); ?&gt;
    &lt;input type="hidden" name="task" value=""/&gt;
    &lt;input type="hidden" name="boxchecked" value="0"/&gt;
    &lt;input type="hidden" name="filter_order" value="&lt;?php echo $listOrder; ?&gt;"/&gt;
</codefragment>
  </duplication>
  <duplication lines="11" tokens="16">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/mediafiles/tmpl/default_batch.php" line="53"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/messages/tmpl/default_batch.php" line="47"/>
    <codefragment>                &lt;?php echo JHtml::_('batch.language'); ?&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="modal-footer"&gt;
        &lt;button class="btn" type="button"
                onclick="document.id('batch-mediafiles-id');document.id('batch-access').value=''" data-dismiss="modal"&gt;
            &lt;?php echo JText::_('JCANCEL'); ?&gt;
        &lt;/button&gt;
        &lt;button class="btn btn-primary" type="submit" onclick="Joomla.submitbutton('mediafile.batch');"&gt;
            &lt;?php echo JText::_('JGLOBAL_BATCH_PROCESS'); ?&gt;
</codefragment>
  </duplication>
  <duplication lines="17" tokens="99">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/comments/view.html.php" line="75"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/messages/view.html.php" line="128"/>
    <codefragment>        if (count($errors = $this-&gt;get('Errors')))
        {
            JFactory::getApplication()-&gt;enqueueMessage(implode("\n", $errors), 'error');

            return false;
        }

        // Levels filter.
        $options   = array();
        $options[] = JHtml::_('select.option', '1', JText::_('J1'));
        $options[] = JHtml::_('select.option', '2', JText::_('J2'));
        $options[] = JHtml::_('select.option', '3', JText::_('J3'));
        $options[] = JHtml::_('select.option', '4', JText::_('J4'));
        $options[] = JHtml::_('select.option', '5', JText::_('J5'));
        $options[] = JHtml::_('select.option', '6', JText::_('J6'));
        $options[] = JHtml::_('select.option', '7', JText::_('J7'));
        $options[] = JHtml::_('select.option', '8', JText::_('J8'));
</codefragment>
  </duplication>
  <duplication lines="8" tokens="17">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/folder/tmpl/edit.php" line="11"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/messagetype/tmpl/edit.php" line="11"/>
    <codefragment>defined('_JEXEC') or die;

// Load the tooltip behavior.
JHtml::_('behavior.tooltip');
JHtml::_('behavior.formvalidation');
JHtml::_('behavior.keepalive');
if (BIBLESTUDY_CHECKREL)
    JHtml::_('formbehavior.chosen', 'select');
</codefragment>
  </duplication>
  <duplication lines="20" tokens="39">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/mediaimage/tmpl/edit.php" line="110"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/messagetype/tmpl/edit.php" line="88"/>
    <codefragment>                &lt;?php echo JHtml::_('form.token'); ?&gt;
            &lt;/div&gt;
        &lt;/div&gt;
        &lt;!-- Begin Sidebar --&gt;
        &lt;div class="span2 form-vertical"&gt;
            &lt;h4&gt;&lt;?php echo JText::_('JDETAILS');?&gt;&lt;/h4&gt;
            &lt;hr/&gt;
            &lt;div class="control-group"&gt;
                &lt;div class="control-label"&gt;
                    &lt;?php echo $this-&gt;form-&gt;getLabel('id'); ?&gt;
                &lt;/div&gt;
                &lt;div class="controls"&gt;
                    &lt;?php echo $this-&gt;form-&gt;getInput('id'); ?&gt;
                &lt;/div&gt;
            &lt;/div&gt;
            &lt;div class="control-group"&gt;
                &lt;div class="control-label"&gt;
                    &lt;?php echo $this-&gt;form-&gt;getLabel('published'); ?&gt;
                &lt;/div&gt;
                &lt;div class="controls"&gt;
</codefragment>
  </duplication>
  <duplication lines="13" tokens="25">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/folders/tmpl/default.php" line="11"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/messagetypes/tmpl/default.php" line="11"/>
    <codefragment>defined('_JEXEC') or die;

if (BIBLESTUDY_CHECKREL)
{
    JHtml::_('bootstrap.tooltip');
    JHtml::_('dropdown.init');
    JHtml::_('formbehavior.chosen', 'select');
}
else
{
    JHtml::_('behavior.tooltip');
}
JHtml::_('behavior.multiselect');
</codefragment>
  </duplication>
  <duplication lines="18" tokens="40">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/comments/tmpl/default.php" line="51"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/messagetypes/tmpl/default.php" line="50"/>
    <codefragment>    &lt;?php if (!empty($this-&gt;sidebar)): ?&gt;
    &lt;div id="j-sidebar-container" class="span2"&gt;
        &lt;?php echo $this-&gt;sidebar; ?&gt;
    &lt;/div&gt;
        &lt;div id="j-main-container" class="span10"&gt;
        &lt;?php else : ?&gt;
            &lt;div id="j-main-container"&gt;
            &lt;?php endif; ?&gt;
    &lt;div id="filter-bar" class="btn-toolbar"&gt;
        &lt;div class="filter-search btn-group pull-left"&gt;
            &lt;label for="filter_search"
                   class="element-invisible"&gt;&lt;?php echo JText::_('JBS_CMN_FILTER_SEARCH_DESC'); ?&gt;&lt;/label&gt;
            &lt;input type="text" name="filter_search" placeholder="&lt;?php echo JText::_('JBS_CMN_FILTER_SEARCH_DESC'); ?&gt;"
                   id="filter_search" value="&lt;?php echo $this-&gt;escape($this-&gt;state-&gt;get('filter.search')); ?&gt;"
                   title="&lt;?php echo JText::_('JBS_CMN_FILTER_SEARCH_DESC'); ?&gt;"/&gt;
        &lt;/div&gt;
        &lt;div class="btn-group pull-left hidden-phone"&gt;
            &lt;button class="btn tip hasTooltip" type="submit" title="&lt;?php echo JText::_('JSEARCH_FILTER_SUBMIT'); ?&gt;"&gt;&lt;i
</codefragment>
  </duplication>
  <duplication lines="24" tokens="33">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/folders/tmpl/default.php" line="189"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/messagetypes/tmpl/default.php" line="171"/>
    <codefragment>                        endif;

                        // Render dropdown list
                        echo JHtml::_('dropdown.render');
                    }
                    ?&gt;
                &lt;/div&gt;
            &lt;/td&gt;
            &lt;td class="center hidden-phone"&gt;
                &lt;?php echo (int) $item-&gt;id; ?&gt;
            &lt;/td&gt;
        &lt;/tr&gt;
            &lt;?php endforeach; ?&gt;
        &lt;/tbody&gt;
    &lt;/table&gt;
    &lt;?php echo $this-&gt;pagination-&gt;getListFooter(); ?&gt;
    &lt;?php //Load the batch processing form. ?&gt;
    &lt;?php echo $this-&gt;loadTemplate('batch'); ?&gt;
    &lt;input type="hidden" name="task" value=""/&gt;
    &lt;input type="hidden" name="boxchecked" value="0"/&gt;
    &lt;input type="hidden" name="filter_order" value="&lt;?php echo $listOrder; ?&gt;"/&gt;
    &lt;input type="hidden" name="filter_order_Dir" value="&lt;?php echo $listDirn; ?&gt;"/&gt;
    &lt;?php echo JHtml::_('form.token'); ?&gt;
&lt;/div&gt;
</codefragment>
  </duplication>
  <duplication lines="30" tokens="39">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/comments/tmpl/default_batch.php" line="10"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/messagetypes/tmpl/default_batch.php" line="10"/>
    <codefragment>defined('_JEXEC') or die;

$published = $this-&gt;state-&gt;get('filter.published');
?&gt;
&lt;div class="modal hide fade" id="collapseModal"&gt;
    &lt;div class="modal-header"&gt;
        &lt;?php if (BIBLESTUDY_CHECKREL)
        {
            ?&gt;
            &lt;button type="button" role="presentation" class="close" data-dismiss="modal"&gt;x&lt;/button&gt;&lt;?php } ?&gt;
        &lt;h3&gt;&lt;?php echo JText::_('JBS_CMN_BATCH_OPTIONS'); ?&gt;&lt;/h3&gt;
    &lt;/div&gt;
    &lt;div class="modal-body"&gt;
        &lt;p&gt;&lt;?php echo JText::_('JBS_CMN_BATCH_TIP'); ?&gt;&lt;/p&gt;

        &lt;div class="control-group"&gt;
            &lt;div class="controls"&gt;
                &lt;?php echo JHtml::_('batch.access'); ?&gt;
            &lt;/div&gt;
        &lt;/div&gt;

    &lt;/div&gt;
    &lt;div class="modal-footer"&gt;
        &lt;button class="btn" type="button" onclick="document.id('batch-folders-id');document.id('batch-access').value=''"
                data-dismiss="modal"&gt;
            &lt;?php echo JText::_('JCANCEL'); ?&gt;
        &lt;/button&gt;
        &lt;button class="btn btn-primary" type="submit" onclick="Joomla.submitbutton('comment.batch');"&gt;
            &lt;?php echo JText::_('JGLOBAL_BATCH_PROCESS'); ?&gt;
        &lt;/button&gt;
</codefragment>
  </duplication>
  <duplication lines="10" tokens="11">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/messages/tmpl/modal.php" line="149"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/messagetypes/tmpl/modal.php" line="100"/>
    <codefragment>            &lt;?php endforeach; ?&gt;
    &lt;/table&gt;
    &lt;div&gt;
        &lt;input type="hidden" name="task" value=""/&gt;
        &lt;input type="hidden" name="boxchecked" value="0"/&gt;
        &lt;input type="hidden" name="filter_order" value="&lt;?php echo $listOrder; ?&gt;"/&gt;
        &lt;input type="hidden" name="filter_order_Dir" value="&lt;?php echo $listDirn; ?&gt;"/&gt;
        &lt;?php echo JHtml::_('form.token'); ?&gt;
    &lt;/div&gt;
&lt;/form&gt;
</codefragment>
  </duplication>
  <duplication lines="17" tokens="99">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/comments/view.html.php" line="75"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/messagetypes/view.html.php" line="83"/>
    <codefragment>        if (count($errors = $this-&gt;get('Errors')))
        {
            JFactory::getApplication()-&gt;enqueueMessage(implode("\n", $errors), 'error');

            return false;
        }

        // Levels filter.
        $options   = array();
        $options[] = JHtml::_('select.option', '1', JText::_('J1'));
        $options[] = JHtml::_('select.option', '2', JText::_('J2'));
        $options[] = JHtml::_('select.option', '3', JText::_('J3'));
        $options[] = JHtml::_('select.option', '4', JText::_('J4'));
        $options[] = JHtml::_('select.option', '5', JText::_('J5'));
        $options[] = JHtml::_('select.option', '6', JText::_('J6'));
        $options[] = JHtml::_('select.option', '7', JText::_('J7'));
        $options[] = JHtml::_('select.option', '8', JText::_('J8'));
</codefragment>
  </duplication>
  <duplication lines="6" tokens="17">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/models/migration.php" line="145"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/migration/view.html.php" line="102"/>
    <codefragment>    private function loadStack()
    {
        $session = JFactory::getSession();
        $stack   = $session-&gt;get('migration_stack', '', 'biblestudy');

        if (empty($stack))
</codefragment>
  </duplication>
  <duplication lines="7" tokens="17">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/folder/tmpl/edit.php" line="11"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/mimetype/tmpl/edit.php" line="11"/>
    <codefragment>defined('_JEXEC') or die;

// Load the tooltip behavior.
JHtml::_('behavior.tooltip');
JHtml::_('behavior.formvalidation');
JHtml::_('behavior.keepalive');
if (BIBLESTUDY_CHECKREL)
</codefragment>
  </duplication>
  <duplication lines="30" tokens="59">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/messagetype/tmpl/edit.php" line="80"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/mimetype/tmpl/edit.php" line="76"/>
    <codefragment>                &lt;?php if ($this-&gt;canDo-&gt;get('core.admin')): ?&gt;
                &lt;div class="tab-pane" id="permissions"&gt;
                    &lt;?php echo $this-&gt;form-&gt;getInput('rules'); ?&gt;
                &lt;/div&gt;
                &lt;?php endif; ?&gt;
            &lt;/div&gt;
            &lt;input type="hidden" name="task" value=""/&gt;
            &lt;input type="hidden" name="return" value="&lt;?php echo $input-&gt;getCmd('return'); ?&gt;"/&gt;
            &lt;?php echo JHtml::_('form.token'); ?&gt;
        &lt;/div&gt;
        &lt;!-- Begin Sidebar --&gt;
        &lt;div class="span2 form-vertical"&gt;
            &lt;h4&gt;&lt;?php echo JText::_('JDETAILS');?&gt;&lt;/h4&gt;
            &lt;hr/&gt;
            &lt;div class="control-group"&gt;
                &lt;div class="control-label"&gt;
                    &lt;?php echo $this-&gt;form-&gt;getLabel('id'); ?&gt;
                &lt;/div&gt;
                &lt;div class="controls"&gt;
                    &lt;?php echo $this-&gt;form-&gt;getInput('id'); ?&gt;
                &lt;/div&gt;
            &lt;/div&gt;
            &lt;div class="control-group"&gt;
                &lt;div class="control-label"&gt;
                    &lt;?php echo $this-&gt;form-&gt;getLabel('published'); ?&gt;
                &lt;/div&gt;
                &lt;div class="controls"&gt;
                    &lt;?php echo $this-&gt;form-&gt;getInput('published'); ?&gt;
                &lt;/div&gt;
            &lt;/div&gt;
</codefragment>
  </duplication>
  <duplication lines="13" tokens="25">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/folders/tmpl/default.php" line="11"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/mimetypes/tmpl/default.php" line="11"/>
    <codefragment>defined('_JEXEC') or die;

if (BIBLESTUDY_CHECKREL)
{
    JHtml::_('bootstrap.tooltip');
    JHtml::_('dropdown.init');
    JHtml::_('formbehavior.chosen', 'select');
}
else
{
    JHtml::_('behavior.tooltip');
}
JHtml::_('behavior.multiselect');
</codefragment>
  </duplication>
  <duplication lines="49" tokens="111">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/comments/tmpl/default.php" line="51"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/mimetypes/tmpl/default.php" line="50"/>
    <codefragment>    &lt;?php if (!empty($this-&gt;sidebar)): ?&gt;
    &lt;div id="j-sidebar-container" class="span2"&gt;
        &lt;?php echo $this-&gt;sidebar; ?&gt;
    &lt;/div&gt;
        &lt;div id="j-main-container" class="span10"&gt;
        &lt;?php else : ?&gt;
            &lt;div id="j-main-container"&gt;
            &lt;?php endif; ?&gt;
    &lt;div id="filter-bar" class="btn-toolbar"&gt;
        &lt;div class="filter-search btn-group pull-left"&gt;
            &lt;label for="filter_search"
                   class="element-invisible"&gt;&lt;?php echo JText::_('JBS_CMN_FILTER_SEARCH_DESC'); ?&gt;&lt;/label&gt;
            &lt;input type="text" name="filter_search" placeholder="&lt;?php echo JText::_('JBS_CMN_FILTER_SEARCH_DESC'); ?&gt;"
                   id="filter_search" value="&lt;?php echo $this-&gt;escape($this-&gt;state-&gt;get('filter.search')); ?&gt;"
                   title="&lt;?php echo JText::_('JBS_CMN_FILTER_SEARCH_DESC'); ?&gt;"/&gt;
        &lt;/div&gt;
        &lt;div class="btn-group pull-left hidden-phone"&gt;
            &lt;button class="btn tip hasTooltip" type="submit" title="&lt;?php echo JText::_('JSEARCH_FILTER_SUBMIT'); ?&gt;"&gt;&lt;i
                    class="icon-search"&gt;&lt;/i&gt;&lt;/button&gt;
            &lt;button class="btn tip hasTooltip" type="button"
                    onclick="document.id('filter_search').value='';this.form.submit();"
                    title="&lt;?php echo JText::_('JSEARCH_FILTER_CLEAR'); ?&gt;"&gt;&lt;i class="icon-remove"&gt;&lt;/i&gt;&lt;/button&gt;
        &lt;/div&gt;
        &lt;div class="btn-group pull-right hidden-phone"&gt;
            &lt;label for="limit"
                   class="element-invisible"&gt;&lt;?php echo JText::_('JFIELD_PLG_SEARCH_SEARCHLIMIT_DESC'); ?&gt;&lt;/label&gt;
            &lt;?php echo $this-&gt;pagination-&gt;getLimitBox(); ?&gt;
        &lt;/div&gt;
        &lt;div class="btn-group pull-right hidden-phone"&gt;
            &lt;label for="directionTable"
                   class="element-invisible"&gt;&lt;?php echo JText::_('JFIELD_ORDERING_DESC'); ?&gt;&lt;/label&gt;
            &lt;select name="directionTable" id="directionTable" class="input-medium" onchange="Joomla.orderTable()"&gt;
                &lt;option value=""&gt;&lt;?php echo JText::_('JFIELD_ORDERING_DESC'); ?&gt;&lt;/option&gt;
                &lt;option value="asc" &lt;?php if ($listDirn == 'asc') echo 'selected="selected"'; ?&gt;&gt;&lt;?php echo JText::_('JBS_CMN_ASCENDING'); ?&gt;&lt;/option&gt;
                &lt;option value="desc" &lt;?php if ($listDirn == 'desc') echo 'selected="selected"'; ?&gt;&gt;&lt;?php echo JText::_('JBS_CMN_DESCENDING'); ?&gt;&lt;/option&gt;
            &lt;/select&gt;
        &lt;/div&gt;
        &lt;div class="btn-group pull-right"&gt;
            &lt;label for="sortTable" class="element-invisible"&gt;&lt;?php echo JText::_('JBS_CMN_SELECT_BY'); ?&gt;&lt;/label&gt;
            &lt;select name="sortTable" id="sortTable" class="input-medium" onchange="Joomla.orderTable()"&gt;
                &lt;option value=""&gt;&lt;?php echo JText::_('JBS_CMN_SELECT_BY'); ?&gt;&lt;/option&gt;
                &lt;?php echo JHtml::_('select.options', $sortFields, 'value', 'text', $listOrder); ?&gt;
            &lt;/select&gt;
        &lt;/div&gt;
        &lt;?php if (!BIBLESTUDY_CHECKREL): ?&gt;
        &lt;div class="clearfix"&gt;&lt;/div&gt;
        &lt;div class="btn-group pull-right"&gt;
            &lt;label for="filter_published" id="filter_published"
                   class="element-invisible"&gt;&lt;?php echo JText::_('JBS_CMN_SELECT_BY'); ?&gt;&lt;/label&gt;
</codefragment>
  </duplication>
  <duplication lines="9" tokens="13">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/folders/tmpl/default.php" line="162"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/mimetypes/tmpl/default.php" line="163"/>
    <codefragment>                    &lt;?php endif; ?&gt;
                &lt;/div&gt;
                &lt;div class="pull-left"&gt;
                    &lt;?php
                    if (BIBLESTUDY_CHECKREL)
                    {
                        // Create dropdown items
                        JHtml::_('dropdown.edit', $item-&gt;id, 'folder.');
                        JHtml::_('dropdown.divider');
</codefragment>
  </duplication>
  <duplication lines="14" tokens="22">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/mediaimages/tmpl/default.php" line="222"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/mimetypes/tmpl/default.php" line="202"/>
    <codefragment>                &lt;?php echo (int) $item-&gt;id; ?&gt;
            &lt;/td&gt;
        &lt;/tr&gt;
            &lt;?php endforeach; ?&gt;
        &lt;/tbody&gt;
    &lt;/table&gt;
    &lt;?php echo $this-&gt;pagination-&gt;getListFooter(); ?&gt;
    &lt;?php //Load the batch processing form. ?&gt;
    &lt;?php //echo $this-&gt;loadTemplate('batch'); ?&gt;
    &lt;input type="hidden" name="task" value=""/&gt;
    &lt;input type="hidden" name="boxchecked" value="0"/&gt;
    &lt;input type="hidden" name="filter_order" value="&lt;?php echo $listOrder; ?&gt;"/&gt;
    &lt;input type="hidden" name="filter_order_Dir" value="&lt;?php echo $listDirn; ?&gt;"/&gt;
    &lt;?php echo JHtml::_('form.token'); ?&gt;
</codefragment>
  </duplication>
  <duplication lines="15" tokens="90">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/comments/view.html.php" line="75"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/mimetypes/view.html.php" line="74"/>
    <codefragment>        if (count($errors = $this-&gt;get('Errors')))
        {
            JFactory::getApplication()-&gt;enqueueMessage(implode("\n", $errors), 'error');

            return false;
        }

        // Levels filter.
        $options   = array();
        $options[] = JHtml::_('select.option', '1', JText::_('J1'));
        $options[] = JHtml::_('select.option', '2', JText::_('J2'));
        $options[] = JHtml::_('select.option', '3', JText::_('J3'));
        $options[] = JHtml::_('select.option', '4', JText::_('J4'));
        $options[] = JHtml::_('select.option', '5', JText::_('J5'));
        $options[] = JHtml::_('select.option', '6', JText::_('J6'));
</codefragment>
  </duplication>
  <duplication lines="13" tokens="25">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/folders/tmpl/default.php" line="11"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/podcasts/tmpl/default.php" line="11"/>
    <codefragment>defined('_JEXEC') or die;

if (BIBLESTUDY_CHECKREL)
{
    JHtml::_('bootstrap.tooltip');
    JHtml::_('dropdown.init');
    JHtml::_('formbehavior.chosen', 'select');
}
else
{
    JHtml::_('behavior.tooltip');
}
JHtml::_('behavior.multiselect');
</codefragment>
  </duplication>
  <duplication lines="28" tokens="51">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/comments/tmpl/default.php" line="51"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/podcasts/tmpl/default.php" line="50"/>
    <codefragment>    &lt;?php if (!empty($this-&gt;sidebar)): ?&gt;
    &lt;div id="j-sidebar-container" class="span2"&gt;
        &lt;?php echo $this-&gt;sidebar; ?&gt;
    &lt;/div&gt;
        &lt;div id="j-main-container" class="span10"&gt;
        &lt;?php else : ?&gt;
            &lt;div id="j-main-container"&gt;
            &lt;?php endif; ?&gt;
    &lt;div id="filter-bar" class="btn-toolbar"&gt;
        &lt;div class="filter-search btn-group pull-left"&gt;
            &lt;label for="filter_search"
                   class="element-invisible"&gt;&lt;?php echo JText::_('JBS_CMN_FILTER_SEARCH_DESC'); ?&gt;&lt;/label&gt;
            &lt;input type="text" name="filter_search" placeholder="&lt;?php echo JText::_('JBS_CMN_FILTER_SEARCH_DESC'); ?&gt;"
                   id="filter_search" value="&lt;?php echo $this-&gt;escape($this-&gt;state-&gt;get('filter.search')); ?&gt;"
                   title="&lt;?php echo JText::_('JBS_CMN_FILTER_SEARCH_DESC'); ?&gt;"/&gt;
        &lt;/div&gt;
        &lt;div class="btn-group pull-left hidden-phone"&gt;
            &lt;button class="btn tip hasTooltip" type="submit" title="&lt;?php echo JText::_('JSEARCH_FILTER_SUBMIT'); ?&gt;"&gt;&lt;i
                    class="icon-search"&gt;&lt;/i&gt;&lt;/button&gt;
            &lt;button class="btn tip hasTooltip" type="button"
                    onclick="document.id('filter_search').value='';this.form.submit();"
                    title="&lt;?php echo JText::_('JSEARCH_FILTER_CLEAR'); ?&gt;"&gt;&lt;i class="icon-remove"&gt;&lt;/i&gt;&lt;/button&gt;
        &lt;/div&gt;
        &lt;div class="btn-group pull-right hidden-phone"&gt;
            &lt;label for="limit"
                   class="element-invisible"&gt;&lt;?php echo JText::_('JFIELD_PLG_SEARCH_SEARCHLIMIT_DESC'); ?&gt;&lt;/label&gt;
            &lt;?php echo $this-&gt;pagination-&gt;getLimitBox(); ?&gt;
        &lt;/div&gt;
</codefragment>
  </duplication>
  <duplication lines="14" tokens="22">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/mediaimages/tmpl/default.php" line="222"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/podcasts/tmpl/default.php" line="206"/>
    <codefragment>                &lt;?php echo (int) $item-&gt;id; ?&gt;
            &lt;/td&gt;
        &lt;/tr&gt;
            &lt;?php endforeach; ?&gt;
        &lt;/tbody&gt;
    &lt;/table&gt;
    &lt;?php echo $this-&gt;pagination-&gt;getListFooter(); ?&gt;
    &lt;?php //Load the batch processing form. ?&gt;
    &lt;?php //echo $this-&gt;loadTemplate('batch'); ?&gt;
    &lt;input type="hidden" name="task" value=""/&gt;
    &lt;input type="hidden" name="boxchecked" value="0"/&gt;
    &lt;input type="hidden" name="filter_order" value="&lt;?php echo $listOrder; ?&gt;"/&gt;
    &lt;input type="hidden" name="filter_order_Dir" value="&lt;?php echo $listDirn; ?&gt;"/&gt;
    &lt;?php echo JHtml::_('form.token'); ?&gt;
</codefragment>
  </duplication>
  <duplication lines="17" tokens="43">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/comment/tmpl/edit.php" line="134"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/serie/tmpl/edit.php" line="146"/>
    <codefragment>                    &lt;?php echo $this-&gt;form-&gt;getLabel('published'); ?&gt;
                &lt;/div&gt;
                &lt;div class="controls"&gt;
                    &lt;?php echo $this-&gt;form-&gt;getInput('published'); ?&gt;
                &lt;/div&gt;
            &lt;/div&gt;
            &lt;div class="control-group"&gt;
                &lt;div class="control-label"&gt;
                    &lt;?php echo $this-&gt;form-&gt;getLabel('access'); ?&gt;
                &lt;/div&gt;
                &lt;div class="controls"&gt;
                    &lt;?php echo $this-&gt;form-&gt;getInput('access'); ?&gt;
                &lt;/div&gt;
            &lt;/div&gt;

            &lt;div class="control-group"&gt;
                &lt;div class="control-label"&gt;
</codefragment>
  </duplication>
  <duplication lines="7" tokens="18">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/folders/tmpl/default.php" line="11"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/series/tmpl/default.php" line="11"/>
    <codefragment>defined('_JEXEC') or die;

if (BIBLESTUDY_CHECKREL)
{
    JHtml::_('bootstrap.tooltip');
    JHtml::_('dropdown.init');
    JHtml::_('formbehavior.chosen', 'select');
</codefragment>
  </duplication>
  <duplication lines="42" tokens="101">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/comments/tmpl/default.php" line="51"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/series/tmpl/default.php" line="56"/>
    <codefragment>    &lt;?php if (!empty($this-&gt;sidebar)): ?&gt;
    &lt;div id="j-sidebar-container" class="span2"&gt;
        &lt;?php echo $this-&gt;sidebar; ?&gt;
    &lt;/div&gt;
        &lt;div id="j-main-container" class="span10"&gt;
        &lt;?php else : ?&gt;
            &lt;div id="j-main-container"&gt;
            &lt;?php endif; ?&gt;
    &lt;div id="filter-bar" class="btn-toolbar"&gt;
        &lt;div class="filter-search btn-group pull-left"&gt;
            &lt;label for="filter_search"
                   class="element-invisible"&gt;&lt;?php echo JText::_('JBS_CMN_FILTER_SEARCH_DESC'); ?&gt;&lt;/label&gt;
            &lt;input type="text" name="filter_search" placeholder="&lt;?php echo JText::_('JBS_CMN_FILTER_SEARCH_DESC'); ?&gt;"
                   id="filter_search" value="&lt;?php echo $this-&gt;escape($this-&gt;state-&gt;get('filter.search')); ?&gt;"
                   title="&lt;?php echo JText::_('JBS_CMN_FILTER_SEARCH_DESC'); ?&gt;"/&gt;
        &lt;/div&gt;
        &lt;div class="btn-group pull-left hidden-phone"&gt;
            &lt;button class="btn tip hasTooltip" type="submit" title="&lt;?php echo JText::_('JSEARCH_FILTER_SUBMIT'); ?&gt;"&gt;&lt;i
                    class="icon-search"&gt;&lt;/i&gt;&lt;/button&gt;
            &lt;button class="btn tip hasTooltip" type="button"
                    onclick="document.id('filter_search').value='';this.form.submit();"
                    title="&lt;?php echo JText::_('JSEARCH_FILTER_CLEAR'); ?&gt;"&gt;&lt;i class="icon-remove"&gt;&lt;/i&gt;&lt;/button&gt;
        &lt;/div&gt;
        &lt;div class="btn-group pull-right hidden-phone"&gt;
            &lt;label for="limit"
                   class="element-invisible"&gt;&lt;?php echo JText::_('JFIELD_PLG_SEARCH_SEARCHLIMIT_DESC'); ?&gt;&lt;/label&gt;
            &lt;?php echo $this-&gt;pagination-&gt;getLimitBox(); ?&gt;
        &lt;/div&gt;
        &lt;div class="btn-group pull-right hidden-phone"&gt;
            &lt;label for="directionTable"
                   class="element-invisible"&gt;&lt;?php echo JText::_('JFIELD_ORDERING_DESC'); ?&gt;&lt;/label&gt;
            &lt;select name="directionTable" id="directionTable" class="input-medium" onchange="Joomla.orderTable()"&gt;
                &lt;option value=""&gt;&lt;?php echo JText::_('JFIELD_ORDERING_DESC'); ?&gt;&lt;/option&gt;
                &lt;option value="asc" &lt;?php if ($listDirn == 'asc') echo 'selected="selected"'; ?&gt;&gt;&lt;?php echo JText::_('JBS_CMN_ASCENDING'); ?&gt;&lt;/option&gt;
                &lt;option value="desc" &lt;?php if ($listDirn == 'desc') echo 'selected="selected"'; ?&gt;&gt;&lt;?php echo JText::_('JBS_CMN_DESCENDING'); ?&gt;&lt;/option&gt;
            &lt;/select&gt;
        &lt;/div&gt;
        &lt;div class="btn-group pull-right"&gt;
            &lt;label for="sortTable" class="element-invisible"&gt;&lt;?php echo JText::_('JBS_CMN_SELECT_BY'); ?&gt;&lt;/label&gt;
            &lt;select name="sortTable" id="sortTable" class="input-medium" onchange="Joomla.orderTable()"&gt;
                &lt;option value=""&gt;&lt;?php echo JText::_('JBS_CMN_SELECT_BY'); ?&gt;&lt;/option&gt;
                &lt;?php echo JHtml::_('select.options', $sortFields, 'value', 'text', $listOrder); ?&gt;
</codefragment>
  </duplication>
  <duplication lines="21" tokens="55">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/comments/tmpl/default.php" line="215"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/series/tmpl/default.php" line="243"/>
    <codefragment>                &lt;?php if ($item-&gt;language == '*'): ?&gt;
                &lt;?php echo JText::alt('JALL', 'language'); ?&gt;
                &lt;?php else: ?&gt;
                &lt;?php echo $item-&gt;language_title ? $this-&gt;escape($item-&gt;language_title) : JText::_('JUNDEFINED'); ?&gt;
                &lt;?php endif; ?&gt;
            &lt;/td&gt;

            &lt;/td&gt;
            &lt;td class="center hidden-phone"&gt;
                &lt;?php echo (int) $item-&gt;id; ?&gt;
            &lt;/td&gt;
        &lt;/tr&gt;
            &lt;?php endforeach; ?&gt;
        &lt;/tbody&gt;
    &lt;/table&gt;
    &lt;?php echo $this-&gt;pagination-&gt;getListFooter(); ?&gt;
    &lt;?php // Load the batch processing form. ?&gt;
    &lt;?php echo $this-&gt;loadTemplate('batch'); ?&gt;
    &lt;input type="hidden" name="task" value=""/&gt;
    &lt;input type="hidden" name="boxchecked" value="0"/&gt;
    &lt;input type="hidden" name="filter_order" value="&lt;?php echo $listOrder; ?&gt;"/&gt;
</codefragment>
  </duplication>
  <duplication lines="17" tokens="21">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/mediafiles/tmpl/default_batch.php" line="48"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/series/tmpl/default_batch.php" line="27"/>
    <codefragment>                &lt;?php echo JHtml::_('batch.access'); ?&gt;
            &lt;/div&gt;
        &lt;/div&gt;
        &lt;div class="control-group"&gt;
            &lt;div class="controls"&gt;
                &lt;?php echo JHtml::_('batch.language'); ?&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="modal-footer"&gt;
        &lt;button class="btn" type="button"
                onclick="document.id('batch-mediafiles-id');document.id('batch-access').value=''" data-dismiss="modal"&gt;
            &lt;?php echo JText::_('JCANCEL'); ?&gt;
        &lt;/button&gt;
        &lt;button class="btn btn-primary" type="submit" onclick="Joomla.submitbutton('mediafile.batch');"&gt;
            &lt;?php echo JText::_('JGLOBAL_BATCH_PROCESS'); ?&gt;
        &lt;/button&gt;
</codefragment>
  </duplication>
  <duplication lines="13" tokens="16">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/messagetypes/tmpl/modal.php" line="97"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/series/tmpl/modal.php" line="91"/>
    <codefragment>                &lt;?php echo (int) $item-&gt;id; ?&gt;
            &lt;/td&gt;
        &lt;/tr&gt;
            &lt;?php endforeach; ?&gt;
        &lt;/tbody&gt;
    &lt;/table&gt;

    &lt;div&gt;
        &lt;input type="hidden" name="task" value=""/&gt;
        &lt;input type="hidden" name="boxchecked" value="0"/&gt;
        &lt;input type="hidden" name="filter_order" value="&lt;?php echo $listOrder; ?&gt;"/&gt;
        &lt;input type="hidden" name="filter_order_Dir" value="&lt;?php echo $listDirn; ?&gt;"/&gt;
        &lt;?php echo JHtml::_('form.token'); ?&gt;
</codefragment>
  </duplication>
  <duplication lines="17" tokens="99">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/comments/view.html.php" line="75"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/series/view.html.php" line="83"/>
    <codefragment>        if (count($errors = $this-&gt;get('Errors')))
        {
            JFactory::getApplication()-&gt;enqueueMessage(implode("\n", $errors), 'error');

            return false;
        }

        // Levels filter.
        $options   = array();
        $options[] = JHtml::_('select.option', '1', JText::_('J1'));
        $options[] = JHtml::_('select.option', '2', JText::_('J2'));
        $options[] = JHtml::_('select.option', '3', JText::_('J3'));
        $options[] = JHtml::_('select.option', '4', JText::_('J4'));
        $options[] = JHtml::_('select.option', '5', JText::_('J5'));
        $options[] = JHtml::_('select.option', '6', JText::_('J6'));
        $options[] = JHtml::_('select.option', '7', JText::_('J7'));
        $options[] = JHtml::_('select.option', '8', JText::_('J8'));
</codefragment>
  </duplication>
  <duplication lines="7" tokens="26">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/podcasts/view.html.php" line="141"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/series/view.html.php" line="177"/>
    <codefragment>        if (BIBLESTUDY_CHECKREL)
        {
            JHtmlSidebar::setAction('index.php?option=com_biblestudy&amp;view=series');

            JHtmlSidebar::addFilter(
                JText::_('JOPTION_SELECT_PUBLISHED'), 'filter_published',
                JHtml::_('select.options', JHtml::_('jgrid.publishedOptions'), 'value', 'text', $this-&gt;state-&gt;get('filter.published'), true)
</codefragment>
  </duplication>
  <duplication lines="14" tokens="30">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/messages/tmpl/default.php" line="11"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/servers/tmpl/default.php" line="11"/>
    <codefragment>defined('_JEXEC') or die;

JHtml::addIncludePath(JPATH_COMPONENT . '/helpers/html');
if (BIBLESTUDY_CHECKREL)
{
    JHtml::_('bootstrap.tooltip');
    JHtml::_('dropdown.init');
    JHtml::_('formbehavior.chosen', 'select');
}
else
{
    JHtml::_('behavior.tooltip');
}
JHtml::_('behavior.multiselect');
</codefragment>
  </duplication>
  <duplication lines="28" tokens="51">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/comments/tmpl/default.php" line="51"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/servers/tmpl/default.php" line="51"/>
    <codefragment>    &lt;?php if (!empty($this-&gt;sidebar)): ?&gt;
    &lt;div id="j-sidebar-container" class="span2"&gt;
        &lt;?php echo $this-&gt;sidebar; ?&gt;
    &lt;/div&gt;
        &lt;div id="j-main-container" class="span10"&gt;
        &lt;?php else : ?&gt;
            &lt;div id="j-main-container"&gt;
            &lt;?php endif; ?&gt;
    &lt;div id="filter-bar" class="btn-toolbar"&gt;
        &lt;div class="filter-search btn-group pull-left"&gt;
            &lt;label for="filter_search"
                   class="element-invisible"&gt;&lt;?php echo JText::_('JBS_CMN_FILTER_SEARCH_DESC'); ?&gt;&lt;/label&gt;
            &lt;input type="text" name="filter_search" placeholder="&lt;?php echo JText::_('JBS_CMN_FILTER_SEARCH_DESC'); ?&gt;"
                   id="filter_search" value="&lt;?php echo $this-&gt;escape($this-&gt;state-&gt;get('filter.search')); ?&gt;"
                   title="&lt;?php echo JText::_('JBS_CMN_FILTER_SEARCH_DESC'); ?&gt;"/&gt;
        &lt;/div&gt;
        &lt;div class="btn-group pull-left hidden-phone"&gt;
            &lt;button class="btn tip hasTooltip" type="submit" title="&lt;?php echo JText::_('JSEARCH_FILTER_SUBMIT'); ?&gt;"&gt;&lt;i
                    class="icon-search"&gt;&lt;/i&gt;&lt;/button&gt;
            &lt;button class="btn tip hasTooltip" type="button"
                    onclick="document.id('filter_search').value='';this.form.submit();"
                    title="&lt;?php echo JText::_('JSEARCH_FILTER_CLEAR'); ?&gt;"&gt;&lt;i class="icon-remove"&gt;&lt;/i&gt;&lt;/button&gt;
        &lt;/div&gt;
        &lt;div class="btn-group pull-right hidden-phone"&gt;
            &lt;label for="limit"
                   class="element-invisible"&gt;&lt;?php echo JText::_('JFIELD_PLG_SEARCH_SEARCHLIMIT_DESC'); ?&gt;&lt;/label&gt;
            &lt;?php echo $this-&gt;pagination-&gt;getLimitBox(); ?&gt;
        &lt;/div&gt;
</codefragment>
  </duplication>
  <duplication lines="23" tokens="33">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/folders/tmpl/default.php" line="189"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/servers/tmpl/default.php" line="180"/>
    <codefragment>                        endif;

                        // Render dropdown list
                        echo JHtml::_('dropdown.render');
                    }
                    ?&gt;
                &lt;/div&gt;
            &lt;/td&gt;
            &lt;td class="center hidden-phone"&gt;
                &lt;?php echo (int) $item-&gt;id; ?&gt;
            &lt;/td&gt;
        &lt;/tr&gt;
            &lt;?php endforeach; ?&gt;
        &lt;/tbody&gt;
    &lt;/table&gt;
    &lt;?php echo $this-&gt;pagination-&gt;getListFooter(); ?&gt;
    &lt;?php //Load the batch processing form. ?&gt;
    &lt;?php echo $this-&gt;loadTemplate('batch'); ?&gt;
    &lt;input type="hidden" name="task" value=""/&gt;
    &lt;input type="hidden" name="boxchecked" value="0"/&gt;
    &lt;input type="hidden" name="filter_order" value="&lt;?php echo $listOrder; ?&gt;"/&gt;
    &lt;input type="hidden" name="filter_order_Dir" value="&lt;?php echo $listDirn; ?&gt;"/&gt;
    &lt;?php echo JHtml::_('form.token'); ?&gt;
</codefragment>
  </duplication>
  <duplication lines="29" tokens="39">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/comments/tmpl/default_batch.php" line="10"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/servers/tmpl/default_batch.php" line="10"/>
    <codefragment>defined('_JEXEC') or die;

$published = $this-&gt;state-&gt;get('filter.published');
?&gt;
&lt;div class="modal hide fade" id="collapseModal"&gt;
    &lt;div class="modal-header"&gt;
        &lt;?php if (BIBLESTUDY_CHECKREL)
        {
            ?&gt;
            &lt;button type="button" role="presentation" class="close" data-dismiss="modal"&gt;x&lt;/button&gt;&lt;?php } ?&gt;
        &lt;h3&gt;&lt;?php echo JText::_('JBS_CMN_BATCH_OPTIONS'); ?&gt;&lt;/h3&gt;
    &lt;/div&gt;
    &lt;div class="modal-body"&gt;
        &lt;p&gt;&lt;?php echo JText::_('JBS_CMN_BATCH_TIP'); ?&gt;&lt;/p&gt;

        &lt;div class="control-group"&gt;
            &lt;div class="controls"&gt;
                &lt;?php echo JHtml::_('batch.access'); ?&gt;
            &lt;/div&gt;
        &lt;/div&gt;

    &lt;/div&gt;
    &lt;div class="modal-footer"&gt;
        &lt;button class="btn" type="button" onclick="document.id('batch-folders-id');document.id('batch-access').value=''"
                data-dismiss="modal"&gt;
            &lt;?php echo JText::_('JCANCEL'); ?&gt;
        &lt;/button&gt;
        &lt;button class="btn btn-primary" type="submit" onclick="Joomla.submitbutton('comment.batch');"&gt;
            &lt;?php echo JText::_('JGLOBAL_BATCH_PROCESS'); ?&gt;
</codefragment>
  </duplication>
  <duplication lines="17" tokens="99">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/comments/view.html.php" line="75"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/servers/view.html.php" line="74"/>
    <codefragment>        if (count($errors = $this-&gt;get('Errors')))
        {
            JFactory::getApplication()-&gt;enqueueMessage(implode("\n", $errors), 'error');

            return false;
        }

        // Levels filter.
        $options   = array();
        $options[] = JHtml::_('select.option', '1', JText::_('J1'));
        $options[] = JHtml::_('select.option', '2', JText::_('J2'));
        $options[] = JHtml::_('select.option', '3', JText::_('J3'));
        $options[] = JHtml::_('select.option', '4', JText::_('J4'));
        $options[] = JHtml::_('select.option', '5', JText::_('J5'));
        $options[] = JHtml::_('select.option', '6', JText::_('J6'));
        $options[] = JHtml::_('select.option', '7', JText::_('J7'));
        $options[] = JHtml::_('select.option', '8', JText::_('J8'));
</codefragment>
  </duplication>
  <duplication lines="7" tokens="17">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/folder/tmpl/edit.php" line="11"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/share/tmpl/edit.php" line="11"/>
    <codefragment>defined('_JEXEC') or die;

// Load the tooltip behavior.
JHtml::_('behavior.tooltip');
JHtml::_('behavior.formvalidation');
JHtml::_('behavior.keepalive');
if (BIBLESTUDY_CHECKREL)
</codefragment>
  </duplication>
  <duplication lines="28" tokens="54">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/mediaimage/tmpl/edit.php" line="103"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/share/tmpl/edit.php" line="95"/>
    <codefragment>                &lt;?php if ($this-&gt;canDo-&gt;get('core.admin')): ?&gt;
                &lt;div class="tab-pane" id="fieldsetrules"&gt;
                    &lt;?php echo $this-&gt;form-&gt;getInput('rules'); ?&gt;
                &lt;/div&gt;

                &lt;?php endif; ?&gt;
                &lt;input type="hidden" name="task" value=""/&gt;
                &lt;?php echo JHtml::_('form.token'); ?&gt;
            &lt;/div&gt;
        &lt;/div&gt;
        &lt;!-- Begin Sidebar --&gt;
        &lt;div class="span2 form-vertical"&gt;
            &lt;h4&gt;&lt;?php echo JText::_('JDETAILS');?&gt;&lt;/h4&gt;
            &lt;hr/&gt;
            &lt;div class="control-group"&gt;
                &lt;div class="control-label"&gt;
                    &lt;?php echo $this-&gt;form-&gt;getLabel('id'); ?&gt;
                &lt;/div&gt;
                &lt;div class="controls"&gt;
                    &lt;?php echo $this-&gt;form-&gt;getInput('id'); ?&gt;
                &lt;/div&gt;
            &lt;/div&gt;
            &lt;div class="control-group"&gt;
                &lt;div class="control-label"&gt;
                    &lt;?php echo $this-&gt;form-&gt;getLabel('published'); ?&gt;
                &lt;/div&gt;
                &lt;div class="controls"&gt;
                    &lt;?php echo $this-&gt;form-&gt;getInput('published'); ?&gt;
</codefragment>
  </duplication>
  <duplication lines="13" tokens="25">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/folders/tmpl/default.php" line="11"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/shares/tmpl/default.php" line="11"/>
    <codefragment>defined('_JEXEC') or die;

if (BIBLESTUDY_CHECKREL)
{
    JHtml::_('bootstrap.tooltip');
    JHtml::_('dropdown.init');
    JHtml::_('formbehavior.chosen', 'select');
}
else
{
    JHtml::_('behavior.tooltip');
}
JHtml::_('behavior.multiselect');
</codefragment>
  </duplication>
  <duplication lines="26" tokens="51">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/comments/tmpl/default.php" line="51"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/shares/tmpl/default.php" line="50"/>
    <codefragment>    &lt;?php if (!empty($this-&gt;sidebar)): ?&gt;
    &lt;div id="j-sidebar-container" class="span2"&gt;
        &lt;?php echo $this-&gt;sidebar; ?&gt;
    &lt;/div&gt;
        &lt;div id="j-main-container" class="span10"&gt;
        &lt;?php else : ?&gt;
            &lt;div id="j-main-container"&gt;
            &lt;?php endif; ?&gt;
    &lt;div id="filter-bar" class="btn-toolbar"&gt;
        &lt;div class="filter-search btn-group pull-left"&gt;
            &lt;label for="filter_search"
                   class="element-invisible"&gt;&lt;?php echo JText::_('JBS_CMN_FILTER_SEARCH_DESC'); ?&gt;&lt;/label&gt;
            &lt;input type="text" name="filter_search" placeholder="&lt;?php echo JText::_('JBS_CMN_FILTER_SEARCH_DESC'); ?&gt;"
                   id="filter_search" value="&lt;?php echo $this-&gt;escape($this-&gt;state-&gt;get('filter.search')); ?&gt;"
                   title="&lt;?php echo JText::_('JBS_CMN_FILTER_SEARCH_DESC'); ?&gt;"/&gt;
        &lt;/div&gt;
        &lt;div class="btn-group pull-left hidden-phone"&gt;
            &lt;button class="btn tip hasTooltip" type="submit" title="&lt;?php echo JText::_('JSEARCH_FILTER_SUBMIT'); ?&gt;"&gt;&lt;i
                    class="icon-search"&gt;&lt;/i&gt;&lt;/button&gt;
            &lt;button class="btn tip hasTooltip" type="button"
                    onclick="document.id('filter_search').value='';this.form.submit();"
                    title="&lt;?php echo JText::_('JSEARCH_FILTER_CLEAR'); ?&gt;"&gt;&lt;i class="icon-remove"&gt;&lt;/i&gt;&lt;/button&gt;
        &lt;/div&gt;
        &lt;div class="btn-group pull-right hidden-phone"&gt;
            &lt;label for="limit"
                   class="element-invisible"&gt;&lt;?php echo JText::_('JFIELD_PLG_SEARCH_SEARCHLIMIT_DESC'); ?&gt;&lt;/label&gt;
</codefragment>
  </duplication>
  <duplication lines="24" tokens="28">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/mediaimages/tmpl/default.php" line="212"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/shares/tmpl/default.php" line="177"/>
    <codefragment>                        endif;

                        // Render dropdown list
                        echo JHtml::_('dropdown.render');
                    }
                    ?&gt;
                &lt;/div&gt;
            &lt;/td&gt;

            &lt;td class="center hidden-phone"&gt;
                &lt;?php echo (int) $item-&gt;id; ?&gt;
            &lt;/td&gt;
        &lt;/tr&gt;
            &lt;?php endforeach; ?&gt;
        &lt;/tbody&gt;
    &lt;/table&gt;
    &lt;?php echo $this-&gt;pagination-&gt;getListFooter(); ?&gt;
    &lt;?php //Load the batch processing form. ?&gt;
    &lt;?php //echo $this-&gt;loadTemplate('batch'); ?&gt;
    &lt;input type="hidden" name="task" value=""/&gt;
    &lt;input type="hidden" name="boxchecked" value="0"/&gt;
    &lt;input type="hidden" name="filter_order" value="&lt;?php echo $listOrder; ?&gt;"/&gt;
    &lt;input type="hidden" name="filter_order_Dir" value="&lt;?php echo $listDirn; ?&gt;"/&gt;
    &lt;?php echo JHtml::_('form.token'); ?&gt;
</codefragment>
  </duplication>
  <duplication lines="8" tokens="70">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/comments/view.html.php" line="83"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/shares/view.html.php" line="91"/>
    <codefragment>        $options   = array();
        $options[] = JHtml::_('select.option', '1', JText::_('J1'));
        $options[] = JHtml::_('select.option', '2', JText::_('J2'));
        $options[] = JHtml::_('select.option', '3', JText::_('J3'));
        $options[] = JHtml::_('select.option', '4', JText::_('J4'));
        $options[] = JHtml::_('select.option', '5', JText::_('J5'));
        $options[] = JHtml::_('select.option', '6', JText::_('J6'));
        $options[] = JHtml::_('select.option', '7', JText::_('J7'));
</codefragment>
  </duplication>
  <duplication lines="30" tokens="54">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/mediaimage/tmpl/edit.php" line="103"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/style/tmpl/edit.php" line="68"/>
    <codefragment>                &lt;?php if ($this-&gt;canDo-&gt;get('core.admin')): ?&gt;
                &lt;div class="tab-pane" id="fieldsetrules"&gt;
                    &lt;?php echo $this-&gt;form-&gt;getInput('rules'); ?&gt;
                &lt;/div&gt;

                &lt;?php endif; ?&gt;
                &lt;input type="hidden" name="task" value=""/&gt;
                &lt;?php echo JHtml::_('form.token'); ?&gt;
            &lt;/div&gt;
        &lt;/div&gt;
        &lt;!-- Begin Sidebar --&gt;
        &lt;div class="span2 form-vertical"&gt;
            &lt;h4&gt;&lt;?php echo JText::_('JDETAILS');?&gt;&lt;/h4&gt;
            &lt;hr/&gt;
            &lt;div class="control-group"&gt;
                &lt;div class="control-label"&gt;
                    &lt;?php echo $this-&gt;form-&gt;getLabel('id'); ?&gt;
                &lt;/div&gt;
                &lt;div class="controls"&gt;
                    &lt;?php echo $this-&gt;form-&gt;getInput('id'); ?&gt;
                &lt;/div&gt;
            &lt;/div&gt;
            &lt;div class="control-group"&gt;
                &lt;div class="control-label"&gt;
                    &lt;?php echo $this-&gt;form-&gt;getLabel('published'); ?&gt;
                &lt;/div&gt;
                &lt;div class="controls"&gt;
                    &lt;?php echo $this-&gt;form-&gt;getInput('published'); ?&gt;
                &lt;/div&gt;
            &lt;/div&gt;
</codefragment>
  </duplication>
  <duplication lines="13" tokens="21">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/comments/tmpl/default.php" line="51"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/styles/tmpl/default.php" line="28"/>
    <codefragment>    &lt;?php if (!empty($this-&gt;sidebar)): ?&gt;
    &lt;div id="j-sidebar-container" class="span2"&gt;
        &lt;?php echo $this-&gt;sidebar; ?&gt;
    &lt;/div&gt;
        &lt;div id="j-main-container" class="span10"&gt;
        &lt;?php else : ?&gt;
            &lt;div id="j-main-container"&gt;
            &lt;?php endif; ?&gt;
    &lt;div id="filter-bar" class="btn-toolbar"&gt;
        &lt;div class="filter-search btn-group pull-left"&gt;
            &lt;label for="filter_search"
                   class="element-invisible"&gt;&lt;?php echo JText::_('JBS_CMN_FILTER_SEARCH_DESC'); ?&gt;&lt;/label&gt;
            &lt;input type="text" name="filter_search" placeholder="&lt;?php echo JText::_('JBS_CMN_FILTER_SEARCH_DESC'); ?&gt;"
</codefragment>
  </duplication>
  <duplication lines="13" tokens="20">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/mediaimages/tmpl/default.php" line="222"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/styles/tmpl/default.php" line="115"/>
    <codefragment>                &lt;?php echo (int) $item-&gt;id; ?&gt;
            &lt;/td&gt;
        &lt;/tr&gt;
            &lt;?php endforeach; ?&gt;
        &lt;/tbody&gt;
    &lt;/table&gt;
    &lt;?php echo $this-&gt;pagination-&gt;getListFooter(); ?&gt;
    &lt;?php //Load the batch processing form. ?&gt;
    &lt;?php //echo $this-&gt;loadTemplate('batch'); ?&gt;
    &lt;input type="hidden" name="task" value=""/&gt;
    &lt;input type="hidden" name="boxchecked" value="0"/&gt;
    &lt;input type="hidden" name="filter_order" value="&lt;?php echo $listOrder; ?&gt;"/&gt;
    &lt;input type="hidden" name="filter_order_Dir" value="&lt;?php echo $listDirn; ?&gt;"/&gt;
</codefragment>
  </duplication>
  <duplication lines="16" tokens="90">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/comments/view.html.php" line="75"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/styles/view.html.php" line="73"/>
    <codefragment>        if (count($errors = $this-&gt;get('Errors')))
        {
            JFactory::getApplication()-&gt;enqueueMessage(implode("\n", $errors), 'error');

            return false;
        }

        // Levels filter.
        $options   = array();
        $options[] = JHtml::_('select.option', '1', JText::_('J1'));
        $options[] = JHtml::_('select.option', '2', JText::_('J2'));
        $options[] = JHtml::_('select.option', '3', JText::_('J3'));
        $options[] = JHtml::_('select.option', '4', JText::_('J4'));
        $options[] = JHtml::_('select.option', '5', JText::_('J5'));
        $options[] = JHtml::_('select.option', '6', JText::_('J6'));
        $options[] = JHtml::_('select.option', '7', JText::_('J7'));
</codefragment>
  </duplication>
  <duplication lines="8" tokens="23">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/comments/tmpl/default.php" line="11"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/teachers/tmpl/default.php" line="11"/>
    <codefragment>defined('_JEXEC') or die;

if (BIBLESTUDY_CHECKREL)
{
    JHtml::addIncludePath(JPATH_COMPONENT . '/helpers/html');
    JHtml::_('bootstrap.tooltip');
    JHtml::_('dropdown.init');
    JHtml::_('formbehavior.chosen', 'select');
</codefragment>
  </duplication>
  <duplication lines="34" tokens="77">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/comments/tmpl/default.php" line="51"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/teachers/tmpl/default.php" line="57"/>
    <codefragment>    &lt;?php if (!empty($this-&gt;sidebar)): ?&gt;
    &lt;div id="j-sidebar-container" class="span2"&gt;
        &lt;?php echo $this-&gt;sidebar; ?&gt;
    &lt;/div&gt;
        &lt;div id="j-main-container" class="span10"&gt;
        &lt;?php else : ?&gt;
            &lt;div id="j-main-container"&gt;
            &lt;?php endif; ?&gt;
    &lt;div id="filter-bar" class="btn-toolbar"&gt;
        &lt;div class="filter-search btn-group pull-left"&gt;
            &lt;label for="filter_search"
                   class="element-invisible"&gt;&lt;?php echo JText::_('JBS_CMN_FILTER_SEARCH_DESC'); ?&gt;&lt;/label&gt;
            &lt;input type="text" name="filter_search" placeholder="&lt;?php echo JText::_('JBS_CMN_FILTER_SEARCH_DESC'); ?&gt;"
                   id="filter_search" value="&lt;?php echo $this-&gt;escape($this-&gt;state-&gt;get('filter.search')); ?&gt;"
                   title="&lt;?php echo JText::_('JBS_CMN_FILTER_SEARCH_DESC'); ?&gt;"/&gt;
        &lt;/div&gt;
        &lt;div class="btn-group pull-left hidden-phone"&gt;
            &lt;button class="btn tip hasTooltip" type="submit" title="&lt;?php echo JText::_('JSEARCH_FILTER_SUBMIT'); ?&gt;"&gt;&lt;i
                    class="icon-search"&gt;&lt;/i&gt;&lt;/button&gt;
            &lt;button class="btn tip hasTooltip" type="button"
                    onclick="document.id('filter_search').value='';this.form.submit();"
                    title="&lt;?php echo JText::_('JSEARCH_FILTER_CLEAR'); ?&gt;"&gt;&lt;i class="icon-remove"&gt;&lt;/i&gt;&lt;/button&gt;
        &lt;/div&gt;
        &lt;div class="btn-group pull-right hidden-phone"&gt;
            &lt;label for="limit"
                   class="element-invisible"&gt;&lt;?php echo JText::_('JFIELD_PLG_SEARCH_SEARCHLIMIT_DESC'); ?&gt;&lt;/label&gt;
            &lt;?php echo $this-&gt;pagination-&gt;getLimitBox(); ?&gt;
        &lt;/div&gt;
        &lt;div class="btn-group pull-right hidden-phone"&gt;
            &lt;label for="directionTable"
                   class="element-invisible"&gt;&lt;?php echo JText::_('JFIELD_ORDERING_DESC'); ?&gt;&lt;/label&gt;
            &lt;select name="directionTable" id="directionTable" class="input-medium" onchange="Joomla.orderTable()"&gt;
                &lt;option value=""&gt;&lt;?php echo JText::_('JFIELD_ORDERING_DESC'); ?&gt;&lt;/option&gt;
                &lt;option value="asc" &lt;?php if ($listDirn == 'asc') echo 'selected="selected"'; ?&gt;&gt;&lt;?php echo JText::_('JBS_CMN_ASCENDING'); ?&gt;&lt;/option&gt;
</codefragment>
  </duplication>
  <duplication lines="14" tokens="27">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/comments/tmpl/default.php" line="224"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/teachers/tmpl/default.php" line="282"/>
    <codefragment>                &lt;?php echo (int) $item-&gt;id; ?&gt;
            &lt;/td&gt;
        &lt;/tr&gt;
            &lt;?php endforeach; ?&gt;
        &lt;/tbody&gt;
    &lt;/table&gt;
    &lt;?php echo $this-&gt;pagination-&gt;getListFooter(); ?&gt;
    &lt;?php // Load the batch processing form. ?&gt;
    &lt;?php echo $this-&gt;loadTemplate('batch'); ?&gt;
    &lt;input type="hidden" name="task" value=""/&gt;
    &lt;input type="hidden" name="boxchecked" value="0"/&gt;
    &lt;input type="hidden" name="filter_order" value="&lt;?php echo $listOrder; ?&gt;"/&gt;
    &lt;input type="hidden" name="filter_order_Dir" value="&lt;?php echo $listDirn; ?&gt;"/&gt;
    &lt;?php echo JHtml::_('form.token'); ?&gt;
</codefragment>
  </duplication>
  <duplication lines="29" tokens="39">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/comments/tmpl/default_batch.php" line="10"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/teachers/tmpl/default_batch.php" line="10"/>
    <codefragment>defined('_JEXEC') or die;

$published = $this-&gt;state-&gt;get('filter.published');
?&gt;
&lt;div class="modal hide fade" id="collapseModal"&gt;
    &lt;div class="modal-header"&gt;
        &lt;?php if (BIBLESTUDY_CHECKREL)
        {
            ?&gt;
            &lt;button type="button" role="presentation" class="close" data-dismiss="modal"&gt;x&lt;/button&gt;&lt;?php } ?&gt;
        &lt;h3&gt;&lt;?php echo JText::_('JBS_CMN_BATCH_OPTIONS'); ?&gt;&lt;/h3&gt;
    &lt;/div&gt;
    &lt;div class="modal-body"&gt;
        &lt;p&gt;&lt;?php echo JText::_('JBS_CMN_BATCH_TIP'); ?&gt;&lt;/p&gt;

        &lt;div class="control-group"&gt;
            &lt;div class="controls"&gt;
                &lt;?php echo JHtml::_('batch.access'); ?&gt;
            &lt;/div&gt;
        &lt;/div&gt;

    &lt;/div&gt;
    &lt;div class="modal-footer"&gt;
        &lt;button class="btn" type="button" onclick="document.id('batch-folders-id');document.id('batch-access').value=''"
                data-dismiss="modal"&gt;
            &lt;?php echo JText::_('JCANCEL'); ?&gt;
        &lt;/button&gt;
        &lt;button class="btn btn-primary" type="submit" onclick="Joomla.submitbutton('comment.batch');"&gt;
            &lt;?php echo JText::_('JGLOBAL_BATCH_PROCESS'); ?&gt;
</codefragment>
  </duplication>
  <duplication lines="17" tokens="99">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/comments/view.html.php" line="75"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/teachers/view.html.php" line="77"/>
    <codefragment>        if (count($errors = $this-&gt;get('Errors')))
        {
            JFactory::getApplication()-&gt;enqueueMessage(implode("\n", $errors), 'error');

            return false;
        }

        // Levels filter.
        $options   = array();
        $options[] = JHtml::_('select.option', '1', JText::_('J1'));
        $options[] = JHtml::_('select.option', '2', JText::_('J2'));
        $options[] = JHtml::_('select.option', '3', JText::_('J3'));
        $options[] = JHtml::_('select.option', '4', JText::_('J4'));
        $options[] = JHtml::_('select.option', '5', JText::_('J5'));
        $options[] = JHtml::_('select.option', '6', JText::_('J6'));
        $options[] = JHtml::_('select.option', '7', JText::_('J7'));
        $options[] = JHtml::_('select.option', '8', JText::_('J8'));
</codefragment>
  </duplication>
  <duplication lines="12" tokens="29">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/mediaimage/tmpl/edit.php" line="119"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/template/tmpl/edit.php" line="454"/>
    <codefragment>                    &lt;?php echo $this-&gt;form-&gt;getLabel('id'); ?&gt;
                &lt;/div&gt;
                &lt;div class="controls"&gt;
                    &lt;?php echo $this-&gt;form-&gt;getInput('id'); ?&gt;
                &lt;/div&gt;
            &lt;/div&gt;
            &lt;div class="control-group"&gt;
                &lt;div class="control-label"&gt;
                    &lt;?php echo $this-&gt;form-&gt;getLabel('published'); ?&gt;
                &lt;/div&gt;
                &lt;div class="controls"&gt;
                    &lt;?php echo $this-&gt;form-&gt;getInput('published'); ?&gt;
</codefragment>
  </duplication>
  <duplication lines="7" tokens="17">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/folder/tmpl/edit.php" line="11"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/templatecode/tmpl/edit.php" line="11"/>
    <codefragment>defined('_JEXEC') or die;

// Load the tooltip behavior.
JHtml::_('behavior.tooltip');
JHtml::_('behavior.formvalidation');
JHtml::_('behavior.keepalive');
if (BIBLESTUDY_CHECKREL)
</codefragment>
  </duplication>
  <duplication lines="27" tokens="54">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/mediaimage/tmpl/edit.php" line="103"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/templatecode/tmpl/edit.php" line="88"/>
    <codefragment>                &lt;?php if ($this-&gt;canDo-&gt;get('core.admin')): ?&gt;
                &lt;div class="tab-pane" id="fieldsetrules"&gt;
                    &lt;?php echo $this-&gt;form-&gt;getInput('rules'); ?&gt;
                &lt;/div&gt;

                &lt;?php endif; ?&gt;
                &lt;input type="hidden" name="task" value=""/&gt;
                &lt;?php echo JHtml::_('form.token'); ?&gt;
            &lt;/div&gt;
        &lt;/div&gt;
        &lt;!-- Begin Sidebar --&gt;
        &lt;div class="span2 form-vertical"&gt;
            &lt;h4&gt;&lt;?php echo JText::_('JDETAILS');?&gt;&lt;/h4&gt;
            &lt;hr/&gt;
            &lt;div class="control-group"&gt;
                &lt;div class="control-label"&gt;
                    &lt;?php echo $this-&gt;form-&gt;getLabel('id'); ?&gt;
                &lt;/div&gt;
                &lt;div class="controls"&gt;
                    &lt;?php echo $this-&gt;form-&gt;getInput('id'); ?&gt;
                &lt;/div&gt;
            &lt;/div&gt;
            &lt;div class="control-group"&gt;
                &lt;div class="control-label"&gt;
                    &lt;?php echo $this-&gt;form-&gt;getLabel('published'); ?&gt;
                &lt;/div&gt;
                &lt;div class="controls"&gt;
</codefragment>
  </duplication>
  <duplication lines="15" tokens="29">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/folders/tmpl/default.php" line="11"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/templatecodes/tmpl/default.php" line="11"/>
    <codefragment>defined('_JEXEC') or die;

if (BIBLESTUDY_CHECKREL)
{
    JHtml::_('bootstrap.tooltip');
    JHtml::_('dropdown.init');
    JHtml::_('formbehavior.chosen', 'select');
}
else
{
    JHtml::_('behavior.tooltip');
}
JHtml::_('behavior.multiselect');

$app       = JFactory::getApplication();
</codefragment>
  </duplication>
  <duplication lines="36" tokens="81">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/comments/tmpl/default.php" line="51"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/templatecodes/tmpl/default.php" line="50"/>
    <codefragment>    &lt;?php if (!empty($this-&gt;sidebar)): ?&gt;
    &lt;div id="j-sidebar-container" class="span2"&gt;
        &lt;?php echo $this-&gt;sidebar; ?&gt;
    &lt;/div&gt;
        &lt;div id="j-main-container" class="span10"&gt;
        &lt;?php else : ?&gt;
            &lt;div id="j-main-container"&gt;
            &lt;?php endif; ?&gt;
    &lt;div id="filter-bar" class="btn-toolbar"&gt;
        &lt;div class="filter-search btn-group pull-left"&gt;
            &lt;label for="filter_search"
                   class="element-invisible"&gt;&lt;?php echo JText::_('JBS_CMN_FILTER_SEARCH_DESC'); ?&gt;&lt;/label&gt;
            &lt;input type="text" name="filter_search" placeholder="&lt;?php echo JText::_('JBS_CMN_FILTER_SEARCH_DESC'); ?&gt;"
                   id="filter_search" value="&lt;?php echo $this-&gt;escape($this-&gt;state-&gt;get('filter.search')); ?&gt;"
                   title="&lt;?php echo JText::_('JBS_CMN_FILTER_SEARCH_DESC'); ?&gt;"/&gt;
        &lt;/div&gt;
        &lt;div class="btn-group pull-left hidden-phone"&gt;
            &lt;button class="btn tip hasTooltip" type="submit" title="&lt;?php echo JText::_('JSEARCH_FILTER_SUBMIT'); ?&gt;"&gt;&lt;i
                    class="icon-search"&gt;&lt;/i&gt;&lt;/button&gt;
            &lt;button class="btn tip hasTooltip" type="button"
                    onclick="document.id('filter_search').value='';this.form.submit();"
                    title="&lt;?php echo JText::_('JSEARCH_FILTER_CLEAR'); ?&gt;"&gt;&lt;i class="icon-remove"&gt;&lt;/i&gt;&lt;/button&gt;
        &lt;/div&gt;
        &lt;div class="btn-group pull-right hidden-phone"&gt;
            &lt;label for="limit"
                   class="element-invisible"&gt;&lt;?php echo JText::_('JFIELD_PLG_SEARCH_SEARCHLIMIT_DESC'); ?&gt;&lt;/label&gt;
            &lt;?php echo $this-&gt;pagination-&gt;getLimitBox(); ?&gt;
        &lt;/div&gt;
        &lt;div class="btn-group pull-right hidden-phone"&gt;
            &lt;label for="directionTable"
                   class="element-invisible"&gt;&lt;?php echo JText::_('JFIELD_ORDERING_DESC'); ?&gt;&lt;/label&gt;
            &lt;select name="directionTable" id="directionTable" class="input-medium" onchange="Joomla.orderTable()"&gt;
                &lt;option value=""&gt;&lt;?php echo JText::_('JFIELD_ORDERING_DESC'); ?&gt;&lt;/option&gt;
                &lt;option value="asc" &lt;?php if ($listDirn == 'asc') echo 'selected="selected"'; ?&gt;&gt;&lt;?php echo JText::_('JBS_CMN_ASCENDING'); ?&gt;&lt;/option&gt;
                &lt;option value="desc" &lt;?php if ($listDirn == 'desc') echo 'selected="selected"'; ?&gt;&gt;&lt;?php echo JText::_('JBS_CMN_DESCENDING'); ?&gt;&lt;/option&gt;
            &lt;/select&gt;
</codefragment>
  </duplication>
  <duplication lines="15" tokens="22">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/mediaimages/tmpl/default.php" line="222"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/templatecodes/tmpl/default.php" line="207"/>
    <codefragment>                &lt;?php echo (int) $item-&gt;id; ?&gt;
            &lt;/td&gt;
        &lt;/tr&gt;
            &lt;?php endforeach; ?&gt;
        &lt;/tbody&gt;
    &lt;/table&gt;
    &lt;?php echo $this-&gt;pagination-&gt;getListFooter(); ?&gt;
    &lt;?php //Load the batch processing form. ?&gt;
    &lt;?php //echo $this-&gt;loadTemplate('batch'); ?&gt;
    &lt;input type="hidden" name="task" value=""/&gt;
    &lt;input type="hidden" name="boxchecked" value="0"/&gt;
    &lt;input type="hidden" name="filter_order" value="&lt;?php echo $listOrder; ?&gt;"/&gt;
    &lt;input type="hidden" name="filter_order_Dir" value="&lt;?php echo $listDirn; ?&gt;"/&gt;
    &lt;?php echo JHtml::_('form.token'); ?&gt;
&lt;/div&gt;
</codefragment>
  </duplication>
  <duplication lines="8" tokens="72">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/comments/view.html.php" line="83"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/templatecodes/view.html.php" line="112"/>
    <codefragment>        $options   = array();
        $options[] = JHtml::_('select.option', '1', JText::_('J1'));
        $options[] = JHtml::_('select.option', '2', JText::_('J2'));
        $options[] = JHtml::_('select.option', '3', JText::_('J3'));
        $options[] = JHtml::_('select.option', '4', JText::_('J4'));
        $options[] = JHtml::_('select.option', '5', JText::_('J5'));
        $options[] = JHtml::_('select.option', '6', JText::_('J6'));
        $options[] = JHtml::_('select.option', '7', JText::_('J7'));
</codefragment>
  </duplication>
  <duplication lines="9" tokens="42">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/mediafiles/view.html.php" line="250"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/templatecodes/view.html.php" line="225"/>
    <codefragment>    protected function getSortFields()
    {
        return array(
            'study.studytitle'     =&gt; JText::_('JBS_CMN_STUDY_TITLE'),
            'mediatype.media_text' =&gt; JText::_('JBS_MED_MEDIA_TYPE'),
            'mediafile.filename'   =&gt; JText::_('JBS_MED_FILENAME'),
            'mediafile.ordering'   =&gt; JText::_('JGRID_HEADING_ORDERING'),
            'mediafile.published'  =&gt; JText::_('JSTATUS'),
            'mediafile.id'         =&gt; JText::_('JGRID_HEADING_ID')
</codefragment>
  </duplication>
  <duplication lines="13" tokens="25">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/folders/tmpl/default.php" line="11"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/templates/tmpl/default.php" line="11"/>
    <codefragment>defined('_JEXEC') or die;

if (BIBLESTUDY_CHECKREL)
{
    JHtml::_('bootstrap.tooltip');
    JHtml::_('dropdown.init');
    JHtml::_('formbehavior.chosen', 'select');
}
else
{
    JHtml::_('behavior.tooltip');
}
JHtml::_('behavior.multiselect');
</codefragment>
  </duplication>
  <duplication lines="28" tokens="51">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/comments/tmpl/default.php" line="51"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/templates/tmpl/default.php" line="50"/>
    <codefragment>    &lt;?php if (!empty($this-&gt;sidebar)): ?&gt;
    &lt;div id="j-sidebar-container" class="span2"&gt;
        &lt;?php echo $this-&gt;sidebar; ?&gt;
    &lt;/div&gt;
        &lt;div id="j-main-container" class="span10"&gt;
        &lt;?php else : ?&gt;
            &lt;div id="j-main-container"&gt;
            &lt;?php endif; ?&gt;
    &lt;div id="filter-bar" class="btn-toolbar"&gt;
        &lt;div class="filter-search btn-group pull-left"&gt;
            &lt;label for="filter_search"
                   class="element-invisible"&gt;&lt;?php echo JText::_('JBS_CMN_FILTER_SEARCH_DESC'); ?&gt;&lt;/label&gt;
            &lt;input type="text" name="filter_search" placeholder="&lt;?php echo JText::_('JBS_CMN_FILTER_SEARCH_DESC'); ?&gt;"
                   id="filter_search" value="&lt;?php echo $this-&gt;escape($this-&gt;state-&gt;get('filter.search')); ?&gt;"
                   title="&lt;?php echo JText::_('JBS_CMN_FILTER_SEARCH_DESC'); ?&gt;"/&gt;
        &lt;/div&gt;
        &lt;div class="btn-group pull-left hidden-phone"&gt;
            &lt;button class="btn tip hasTooltip" type="submit" title="&lt;?php echo JText::_('JSEARCH_FILTER_SUBMIT'); ?&gt;"&gt;&lt;i
                    class="icon-search"&gt;&lt;/i&gt;&lt;/button&gt;
            &lt;button class="btn tip hasTooltip" type="button"
                    onclick="document.id('filter_search').value='';this.form.submit();"
                    title="&lt;?php echo JText::_('JSEARCH_FILTER_CLEAR'); ?&gt;"&gt;&lt;i class="icon-remove"&gt;&lt;/i&gt;&lt;/button&gt;
        &lt;/div&gt;
        &lt;div class="btn-group pull-right hidden-phone"&gt;
            &lt;label for="limit"
                   class="element-invisible"&gt;&lt;?php echo JText::_('JFIELD_PLG_SEARCH_SEARCHLIMIT_DESC'); ?&gt;&lt;/label&gt;
            &lt;?php echo $this-&gt;pagination-&gt;getLimitBox(); ?&gt;
        &lt;/div&gt;
</codefragment>
  </duplication>
  <duplication lines="23" tokens="28">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/mediaimages/tmpl/default.php" line="212"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/templates/tmpl/default.php" line="175"/>
    <codefragment>                        endif;

                        // Render dropdown list
                        echo JHtml::_('dropdown.render');
                    }
                    ?&gt;
                &lt;/div&gt;
            &lt;/td&gt;

            &lt;td class="center hidden-phone"&gt;
                &lt;?php echo (int) $item-&gt;id; ?&gt;
            &lt;/td&gt;
        &lt;/tr&gt;
            &lt;?php endforeach; ?&gt;
        &lt;/tbody&gt;
    &lt;/table&gt;
    &lt;?php echo $this-&gt;pagination-&gt;getListFooter(); ?&gt;
    &lt;?php //Load the batch processing form. ?&gt;
    &lt;?php //echo $this-&gt;loadTemplate('batch'); ?&gt;
    &lt;input type="hidden" name="task" value=""/&gt;
    &lt;input type="hidden" name="boxchecked" value="0"/&gt;
    &lt;input type="hidden" name="filter_order" value="&lt;?php echo $listOrder; ?&gt;"/&gt;
    &lt;input type="hidden" name="filter_order_Dir" value="&lt;?php echo $listDirn; ?&gt;"/&gt;
</codefragment>
  </duplication>
  <duplication lines="7" tokens="55">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/comments/view.html.php" line="83"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/templates/view.html.php" line="96"/>
    <codefragment>        $options   = array();
        $options[] = JHtml::_('select.option', '1', JText::_('J1'));
        $options[] = JHtml::_('select.option', '2', JText::_('J2'));
        $options[] = JHtml::_('select.option', '3', JText::_('J3'));
        $options[] = JHtml::_('select.option', '4', JText::_('J4'));
        $options[] = JHtml::_('select.option', '5', JText::_('J5'));
        $options[] = JHtml::_('select.option', '6', JText::_('J6'));
</codefragment>
  </duplication>
  <duplication lines="7" tokens="17">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/folder/tmpl/edit.php" line="11"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/topic/tmpl/edit.php" line="11"/>
    <codefragment>defined('_JEXEC') or die;

// Load the tooltip behavior.
JHtml::_('behavior.tooltip');
JHtml::_('behavior.formvalidation');
JHtml::_('behavior.keepalive');
if (BIBLESTUDY_CHECKREL)
</codefragment>
  </duplication>
  <duplication lines="13" tokens="25">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/folders/tmpl/default.php" line="11"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/topics/tmpl/default.php" line="11"/>
    <codefragment>defined('_JEXEC') or die;

if (BIBLESTUDY_CHECKREL)
{
    JHtml::_('bootstrap.tooltip');
    JHtml::_('dropdown.init');
    JHtml::_('formbehavior.chosen', 'select');
}
else
{
    JHtml::_('behavior.tooltip');
}
JHtml::_('behavior.multiselect');
</codefragment>
  </duplication>
  <duplication lines="28" tokens="51">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/comments/tmpl/default.php" line="51"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/topics/tmpl/default.php" line="50"/>
    <codefragment>    &lt;?php if (!empty($this-&gt;sidebar)): ?&gt;
    &lt;div id="j-sidebar-container" class="span2"&gt;
        &lt;?php echo $this-&gt;sidebar; ?&gt;
    &lt;/div&gt;
        &lt;div id="j-main-container" class="span10"&gt;
        &lt;?php else : ?&gt;
            &lt;div id="j-main-container"&gt;
            &lt;?php endif; ?&gt;
    &lt;div id="filter-bar" class="btn-toolbar"&gt;
        &lt;div class="filter-search btn-group pull-left"&gt;
            &lt;label for="filter_search"
                   class="element-invisible"&gt;&lt;?php echo JText::_('JBS_CMN_FILTER_SEARCH_DESC'); ?&gt;&lt;/label&gt;
            &lt;input type="text" name="filter_search" placeholder="&lt;?php echo JText::_('JBS_CMN_FILTER_SEARCH_DESC'); ?&gt;"
                   id="filter_search" value="&lt;?php echo $this-&gt;escape($this-&gt;state-&gt;get('filter.search')); ?&gt;"
                   title="&lt;?php echo JText::_('JBS_CMN_FILTER_SEARCH_DESC'); ?&gt;"/&gt;
        &lt;/div&gt;
        &lt;div class="btn-group pull-left hidden-phone"&gt;
            &lt;button class="btn tip hasTooltip" type="submit" title="&lt;?php echo JText::_('JSEARCH_FILTER_SUBMIT'); ?&gt;"&gt;&lt;i
                    class="icon-search"&gt;&lt;/i&gt;&lt;/button&gt;
            &lt;button class="btn tip hasTooltip" type="button"
                    onclick="document.id('filter_search').value='';this.form.submit();"
                    title="&lt;?php echo JText::_('JSEARCH_FILTER_CLEAR'); ?&gt;"&gt;&lt;i class="icon-remove"&gt;&lt;/i&gt;&lt;/button&gt;
        &lt;/div&gt;
        &lt;div class="btn-group pull-right hidden-phone"&gt;
            &lt;label for="limit"
                   class="element-invisible"&gt;&lt;?php echo JText::_('JFIELD_PLG_SEARCH_SEARCHLIMIT_DESC'); ?&gt;&lt;/label&gt;
            &lt;?php echo $this-&gt;pagination-&gt;getLimitBox(); ?&gt;
        &lt;/div&gt;
</codefragment>
  </duplication>
  <duplication lines="24" tokens="28">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/mediaimages/tmpl/default.php" line="212"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/topics/tmpl/default.php" line="180"/>
    <codefragment>                        endif;

                        // Render dropdown list
                        echo JHtml::_('dropdown.render');
                    }
                    ?&gt;
                &lt;/div&gt;
            &lt;/td&gt;

            &lt;td class="center hidden-phone"&gt;
                &lt;?php echo (int) $item-&gt;id; ?&gt;
            &lt;/td&gt;
        &lt;/tr&gt;
            &lt;?php endforeach; ?&gt;
        &lt;/tbody&gt;
    &lt;/table&gt;
    &lt;?php echo $this-&gt;pagination-&gt;getListFooter(); ?&gt;
    &lt;?php //Load the batch processing form. ?&gt;
    &lt;?php //echo $this-&gt;loadTemplate('batch'); ?&gt;
    &lt;input type="hidden" name="task" value=""/&gt;
    &lt;input type="hidden" name="boxchecked" value="0"/&gt;
    &lt;input type="hidden" name="filter_order" value="&lt;?php echo $listOrder; ?&gt;"/&gt;
    &lt;input type="hidden" name="filter_order_Dir" value="&lt;?php echo $listDirn; ?&gt;"/&gt;
    &lt;?php echo JHtml::_('form.token'); ?&gt;
</codefragment>
  </duplication>
  <duplication lines="8" tokens="72">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/comments/view.html.php" line="83"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/topics/view.html.php" line="93"/>
    <codefragment>        $options   = array();
        $options[] = JHtml::_('select.option', '1', JText::_('J1'));
        $options[] = JHtml::_('select.option', '2', JText::_('J2'));
        $options[] = JHtml::_('select.option', '3', JText::_('J3'));
        $options[] = JHtml::_('select.option', '4', JText::_('J4'));
        $options[] = JHtml::_('select.option', '5', JText::_('J5'));
        $options[] = JHtml::_('select.option', '6', JText::_('J6'));
        $options[] = JHtml::_('select.option', '7', JText::_('J7'));
</codefragment>
  </duplication>
  <duplication lines="856" tokens="1623">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/biblestudy.script.php" line="11"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/biblestudy.script.php" line="11"/>
    <codefragment>defined('_JEXEC') or die;
jimport('joomla.filesystem.folder');
jimport('joomla.filesystem.file');
/**
 * BibleStudy Install Script
 *
 * @package  BibleStudy.Admin
 * @since    7.0.0
 */
class Com_BiblestudyInstallerScript
{

    /**
     * The release value to be displayed and check against throughout this file.
     *
     * @var string
     */
    private $_release = '8.0.3';

    /**
     * Find minimum required joomla version for this extension.
     * It will be read from the version attribute (install tag) in the manifest file
     *
     * @var string
     */
    private $_minimum_joomla_release = '2.5.6';

    /**
     * Find minimum required PHP version for this extension.
     * It will be read from the version attribute (install tag) in the manifest file
     *
     * @var string
     */
    private $_minimum_php = '5.3.1';

    /**
     * The component's name
     *
     * @var string
     * */
    protected $biblestudy_extension = 'com_biblestudy';

    /**
     * $parent is the class calling this method.
     * $type is the type of change (install, update or discover_install, not uninstall).
     * preflight runs before anything else and while the extracted files are in the uploaded temp folder.
     * If preflight returns false, Joomla will abort the update and undo everything already done.
     *
     * @param   string          $type    Type of install
     * @param   JInstallerFile  $parent  Where it is coming from
     *
     * @return boolean
     */
    public function preflight($type, $parent)
    {
        // This component does not work with Joomla releases prior to 2.5
        // abort if the current Joomla release is older

        // Extract the version number from the manifest. This will overwrite the 1.0 value set above
        /** @noinspection PhpUndefinedMethodInspection */
        $this-&gt;_release = $parent-&gt;get("manifest")-&gt;version;

        // Start DB factory
        $db = JFactory::getDBO();

        // Set the #__schemas version_id to the correct number so the update will occur if out of sequence.
        $query = $db-&gt;getQuery(true);
        $query-&gt;select('extension_id')
            -&gt;from('#__extensions')
            -&gt;where('name LIKE ' . $db-&gt;q('%com_biblestudy%'));
        $db-&gt;setQuery($query);
        $extensionid = $db-&gt;loadResult();

        if ($extensionid)
        {
            $query = $db-&gt;getQuery(true);
            $query-&gt;select('version_id')
                -&gt;from('#__schemas')
                -&gt;where('extension_id = ' . $db-&gt;quote($extensionid));
            $db-&gt;setQuery($query);
            $jbsversion = $db-&gt;loadResult();

            if ($jbsversion == '20100101')
            {
                $query = $db-&gt;getQuery(true);
                $query-&gt;update('#__schemas')
                    -&gt;set('version_id = ' . $db-&gt;q('7.0.0'))
                    -&gt;where('extension_id = ' . $db-&gt;quote($extensionid));
                $db-&gt;setQuery($query);
                $db-&gt;execute();
            }
        }

        if ($type == 'install')
        {
            // Copy the css file over to another location
            $src = JPATH_SITE . '/components/com_biblestudy/assets/css/biblestudy.css';

            if (JFile::exists($src))
            {
                JFile::copy($src, JPATH_SITE . '/tmp/biblestudy.css');
            }
        }
        $install_good = version_compare(PHP_VERSION, $this-&gt;_minimum_php, '&lt;');

        if (!$install_good)
        {
            $install_good = version_compare(JVERSION, $this-&gt;_minimum_joomla_release, 'ge');
        }
        else
        {
            JFactory::$application-&gt;enqueueMessage('Your host needs to use PHP ' . $this-&gt;_minimum_php . ' or higher to run Joomla Bible Study');
            $install_good = false;
        }

        // Only allow to install on minimum Joomla! version
        return $install_good;
    }

    /**
     * Install
     *
     * @param   JInstallerFile  $parent  Where call is coming from
     *
     * @return  void
     */
    public function install($parent)
    {
        $db     = JFactory::getDBO();
        $buffer = file_get_contents(JPATH_ADMINISTRATOR . '/components/com_biblestudy/install/sql/install-defaults.sql');

        if ($buffer === false)
        {
            die('No install-defaults.sql file');
        }

        // Create an array of queries from the sql file
        $queries = $db-&gt;splitSql($buffer);

        foreach ($queries as $querie)
        {
            $querie = trim($querie);

            if ($querie != '' &amp;&amp; $querie{0} != '#')
            {
                $db-&gt;setQuery($querie);
                $db-&gt;execute();
            }
        }
        require_once JPATH_ADMINISTRATOR . '/components/com_biblestudy/install/biblestudy.install.special.php';
        $fresh = new JBSMFreshInstall;

        if (!$fresh-&gt;installCSS())
        {
            JFactory::getApplication()-&gt;enqueueMessage(JText::_('JBS_INS_FAILURE'), 'error');
        }

    }

    /**
     * Uninstall
     *
     * @param   JInstallerFile  $parent  Where call is coming from
     *
     * @return   void
     */
    public function uninstall($parent)
    {

        JLoader::register('JBSMDbHelper', JPATH_ADMINISTRATOR . '/components/com_biblestudy/helpers/dbhelper.php');
        $dbhelper    = new JBSMDbHelper;
        $drop_result = '';

        if ($dbhelper-&gt;checkIfTable('#__bsms_admin'))
        {
            $db    = JFactory::getDBO();
            $query = $db-&gt;getQuery(true);
            $query-&gt;select('*')
                -&gt;from('#__bsms_admin')
                -&gt;where('id = 1');
            $db-&gt;setQuery($query);
            $adminsettings = $db-&gt;loadObject();

            $drop_tables = $adminsettings-&gt;drop_tables;

            if ($drop_tables &gt; 0)
            {
                // We must remove the assets manually each time
                $db    = JFactory::getDBO();
                $query = $db-&gt;getQuery(true);
                $query-&gt;select('id')
                    -&gt;from('#__assets')
                    -&gt;where('name = ' . $db-&gt;q($this-&gt;biblestudy_extension));
                $db-&gt;setQuery($query);
                $parent_id = $db-&gt;loadResult();
                $query     = $db-&gt;getQuery(true);

                if ($parent_id != '0')
                {
                    $query-&gt;delete()
                        -&gt;from('#__assets')
                        -&gt;where('parent_id = ' . $db-&gt;q($parent_id))
                        -&gt;where('name != ' . $db-&gt;q('root.1'));
                    $db-&gt;setQuery($query);
                    $db-&gt;execute();
                }

                $query = $db-&gt;getQuery(true);
                $query-&gt;delete()
                    -&gt;from('#__assets')
                    -&gt;where('name LIKE ' . $db-&gt;q($this-&gt;biblestudy_extension))
                    -&gt;where('name != ' . $db-&gt;q('root.1'));
                $db-&gt;setQuery($query);
                $db-&gt;execute();
                $buffer = file_get_contents(JPATH_ADMINISTRATOR . '/components/com_biblestudy/install/sql/uninstall-dbtables.sql');

                // Graceful exit and rollback if read not successful
                if ($buffer === false)
                {
                    die('no uninstall-dbtables.sql');
                }
                $queries = $db-&gt;splitSql($buffer);

                foreach ($queries as $querie)
                {
                    $querie = trim($querie);

                    if ($querie != '' &amp;&amp; $querie{0} != '#' &amp;&amp; $querie != '`')
                    {
                        $db-&gt;setQuery($querie);
                        $db-&gt;execute();
                    }
                }
            }
        }
        else
        {
            $drop_result = '&lt;h3&gt;' . JText::_('JBS_INS_NO_DATABASE_REMOVED') . '&lt;/h3&gt;';
        }
        echo '&lt;h2&gt;' . JText::_('JBS_INS_UNINSTALLED') . ' ' . $this-&gt;_release . '&lt;/h2&gt; &lt;div&gt;' . $drop_result . '&lt;/div&gt;';
    }

    /**
     * Update
     *
     * @param   JInstallerFile  $parent  Where call is coming from
     *
     * @return   void
     */
    public function update($parent)
    {
        $this-&gt;fixMenus();
        $this-&gt;fixImagePaths();
        $this-&gt;fixemptyaccess();
        $this-&gt;fixemptylanguage();
        JLoader::register('JBS800Update', JPATH_ADMINISTRATOR . '/components/com_biblestudy/install/updates/8.0.0.php');
        $update800 = new JBS800Update;
        $update800-&gt;update800();
    }

    /**
     * Post Flight
     *
     * @param   string          $type    Type of install
     * @param   JInstallerFile  $parent  Where it is coming from
     *
     * @return   void
     */
    public function postflight($type, $parent)
    {
        // Set the #__schemas version_id to the correct number for error from 7.0.0
        $db    = JFactory::getDBO();
        $query = $db-&gt;getQuery(true);
        $query-&gt;select('extension_id')
            -&gt;from('#__extensions')
            -&gt;where('name LIKE' . $db-&gt;q('%com_biblestudy%'));
        $db-&gt;setQuery($query);
        $extensionid = $db-&gt;loadResult();

        if ($extensionid)
        {
            $query = $db-&gt;getQuery(true);
            $query-&gt;select('version_id')
                -&gt;from('#__schemas')
                -&gt;where('extension_id = ' . $db-&gt;q($extensionid));
            $db-&gt;setQuery($query);
            $jbsversion = $db-&gt;loadResult();

            if ($jbsversion == '20100101')
            {
                $query = $db-&gt;getQuery(true);
                $query-&gt;update('#__schemas')
                    -&gt;set('version_id = ' . $db-&gt;q($this-&gt;_release))
                    -&gt;where('extension_id = ' . $db-&gt;q($extensionid));
                $db-&gt;setQuery($query);
                $db-&gt;execute();
            }
        }

        // Set initial values for component parameters
        $params['my_param0'] = 'Component version ' . $this-&gt;_release;
        $params['my_param1'] = 'Start';
        $params['my_param2'] = '1';
        $this-&gt;setParams($params);

        // Set install state
        $subquery = '{"release":"' . $this-&gt;_release . '","jbsparent":"' .
            $parent . '","jbstype":"' . $type . '","jbsname":"com_biblestudy"}';
        $query1   = $db-&gt;getQuery(true);
        $query1-&gt;update('#__bsms_admin')
            -&gt;set('installstate = ' . $db-&gt;q($subquery))
            -&gt;where('id = 1');
        $db-&gt;setQuery($query1);
        $db-&gt;execute();

        // An redirect to a new location after the install is completed.
        $parent-&gt;getParent()-&gt;set('redirect_url', JURI::base() . 'index.php?option=com_biblestudy');
    }

    /**
     * Get a variable from the manifest file (actually, from the manifest cache).
     *
     * @param   string  $name  Name of param
     *
     * @return string
     */
    public function getParam($name)
    {
        $db    = JFactory::getDbo();
        $query = $db-&gt;getQuery(true);
        $query-&gt;select('manifest_cache')
            -&gt;from('#_extensions')
            -&gt;where('name = ' . $db-&gt;q($this-&gt;biblestudy_extension));
        $db-&gt;setQuery($query);
        $manifest = json_decode($db-&gt;loadResult(), true);

        return $manifest[$name];
    }

    /**
     * sets parameter values in the component's row of the extension table
     *
     * @param   array  $param_array  Array of params to set.
     *
     * @return   void
     */
    public function setParams($param_array)
    {
        if (count($param_array) &gt; 0)
        {
            // Read the existing component value(s)
            $db    = JFactory::getDbo();
            $query = $db-&gt;getQuery(true);
            $query-&gt;select('params')
                -&gt;from('#__extensions')
                -&gt;where('name = ' . $db-&gt;q($this-&gt;biblestudy_extension));
            $db-&gt;setQuery($query);
            $params = json_decode($db-&gt;loadResult(), true);

            // Add the new variable(s) to the existing one(s)
            foreach ($param_array as $name =&gt; $value)
            {
                $params[(string) $name] = (string) $value;
            }

            // Store the combined new and existing values back as a JSON string
            $paramsString = json_encode($params);
            $query        = $db-&gt;getQuery(true);
            $query-&gt;update('#__extensions')
                -&gt;set('params = ' . $db-&gt;q($paramsString))
                -&gt;where('name = ' . $db-&gt;q($this-&gt;biblestudy_extension));
            $db-&gt;setQuery($query);
            $db-&gt;execute();
        }
    }

    /**
     * Remove Old Files and Folders
     *
     * @since 7.1.0
     *
     * @return   void
     */
    public function deleteUnexistingFiles()
    {
        $files = array(
            '/media/com_biblestudy/css/biblestudy.css.dist',
            '/images/textfile24.png',
            '/components/com_biblestudy/biblestudy.css',
            '/components/com_biblestudy/class.biblestudydownload.php',
            '/components/language/en-GB/en-GB.com_biblestudy.ini',
            '/administrator/language/en-GB/en-GB.com_biblestudy.ini',
            '/administrator/language/en-GB/en-GB.com_biblestudy.sys.ini',
            '/administrator/components/com_biblestudy/Snoopy.class.php',
            '/administrator/components/com_biblestudy/admin.biblestudy.php',
            '/components/com_biblestudy/helpers/updatesef.php',
            '/components/com_biblestudy/helpers/image.php',
            '/components/com_biblestudy/helpers/helper.php',
            '/components/com_biblestudy/views/messages/tmpl/modal16.php',
            '/components/com_biblestudy/controllers/teacherlist.php',
            '/components/com_biblestudy/controllers/teacherdisplay.php',
            '/components/com_biblestudy/controllers/studydetails.php',
            '/components/com_biblestudy/controllers/studieslist.php',
            '/components/com_biblestudy/controllers/serieslist.php',
            '/components/com_biblestudy/controllers/seriesdetail.php',
            '/components/com_biblestudy/models/teacherlist.php',
            '/components/com_biblestudy/models/teacherdisplay.php',
            '/components/com_biblestudy/models/studydetails.php',
            '/components/com_biblestudy/models/studieslist.php',
            '/components/com_biblestudy/models/seriesdetail.php',
            '/components/com_biblestudy/models/serieslist.php',
            '/components/com_biblestudy/views/mediafile/tmpl/form.php',
            '/components/com_biblestudy/views/mediafile/tmpl/form.xml',
            '/language/en-GB/en-GB.com_biblestudy.ini',
            '/language/cs-CZ/cs-CZ.com_biblestudy.ini',
            '/language/de-DE/de-DE.com_biblestudy.ini',
            '/language/es-ES/es-ES.com_biblestudy.ini',
            '/language/hu-HU/hu-HU.com_biblestudy.ini',
            '/language/nl-NL/nl-NL.com_biblestudy.ini',
            '/language/no-NO/no-NO.com_biblestudy.ini',
            '/language/en-GB/en-GB.mod_biblestudy.ini',
            '/language/en-GB/en-GB.mod_biblestudy.sys.ini',
            '/administrator/components/com_biblestudy/install/biblestudy.assets.php',
            '/administrator/components/com_biblestudy/install/sql/jbs7.0.0.sql',
            '/administrator/components/com_biblestudy/install/sql/updates/mysql/20100101.sql',
            '/administrator/components/com_biblestudy/lib/biblestudy.podcast.class.php',
            '/administrator/components/com_biblestudy/controllers/commentsedit.php',
            '/administrator/components/com_biblestudy/controllers/commentslist.php',
            '/administrator/components/com_biblestudy/controllers/cssedit.php',
            '/administrator/components/com_biblestudy/controllers/folderslist.php',
            '/administrator/components/com_biblestudy/controllers/foldersedit.php',
            '/administrator/components/com_biblestudy/controllers/locationslist.php',
            '/administrator/components/com_biblestudy/controllers/locationsedit.php',
            '/administrator/components/com_biblestudy/controllers/mediaedit.php',
            '/administrator/components/com_biblestudy/controllers/mediafilesedit.php',
            '/administrator/components/com_biblestudy/controllers/mediafileslist.php',
            '/administrator/components/com_biblestudy/controllers/medialist.php',
            '/administrator/components/com_biblestudy/controllers/messagetypelist.php',
            '/administrator/components/com_biblestudy/controllers/messagetypeedit.php',
            '/administrator/components/com_biblestudy/controllers/mimetypelist.php',
            '/administrator/components/com_biblestudy/controllers/mimetypeedit.php',
            '/administrator/components/com_biblestudy/controllers/podcastlist.php',
            '/administrator/components/com_biblestudy/controllers/podcastedit.php',
            '/administrator/components/com_biblestudy/controllers/serieslist.php',
            '/administrator/components/com_biblestudy/controllers/seriesedit.php',
            '/administrator/components/com_biblestudy/controllers/serverslist.php',
            '/administrator/components/com_biblestudy/controllers/serversedit.php',
            '/administrator/components/com_biblestudy/controllers/sharelist.php',
            '/administrator/components/com_biblestudy/controllers/shareedit.php',
            '/administrator/components/com_biblestudy/controllers/studieslist.php',
            '/administrator/components/com_biblestudy/controllers/studiesedit.php',
            '/administrator/components/com_biblestudy/controllers/teacherlist.php',
            '/administrator/components/com_biblestudy/controllers/teacheredit.php',
            '/administrator/components/com_biblestudy/controllers/templateedit.php',
            '/administrator/components/com_biblestudy/controllers/templateslist.php',
            '/administrator/components/com_biblestudy/controllers/topicslist.php',
            '/administrator/components/com_biblestudy/controllers/topicsedit.php',
            '/administrator/components/com_biblestudy/models/forms/commentsedit.xml',
            '/administrator/components/com_biblestudy/models/forms/foldersedit.xml',
            '/administrator/components/com_biblestudy/models/forms/locationsedit.xml',
            '/administrator/components/com_biblestudy/models/forms/mediaedit.xml',
            '/administrator/components/com_biblestudy/models/forms/mediafilesedit.xml',
            '/administrator/components/com_biblestudy/models/forms/messagetypeedit.xml',
            '/administrator/components/com_biblestudy/models/forms/mimetypeedit.xml',
            '/administrator/components/com_biblestudy/models/forms/podcastedit.xml',
            '/administrator/components/com_biblestudy/models/forms/seriesedit.xml',
            '/administrator/components/com_biblestudy/models/forms/serversedit.xml',
            '/administrator/components/com_biblestudy/models/forms/shareedit.xml',
            '/administrator/components/com_biblestudy/models/forms/studiesedit.xml',
            '/administrator/components/com_biblestudy/models/forms/teacheredit.xml',
            '/administrator/components/com_biblestudy/models/forms/templateedit.xml',
            '/administrator/components/com_biblestudy/models/forms/topicsedit.xml',
            '/administrator/components/com_biblestudy/models/episodelist.php',
            '/administrator/components/com_biblestudy/models/commentsedit.php',
            '/administrator/components/com_biblestudy/models/commentslist.php',
            '/administrator/components/com_biblestudy/models/cssedit.php',
            '/administrator/components/com_biblestudy/models/folderslist.php',
            '/administrator/components/com_biblestudy/models/foldersedit.php',
            '/administrator/components/com_biblestudy/models/locationslist.php',
            '/administrator/components/com_biblestudy/models/locationsedit.php',
            '/administrator/components/com_biblestudy/models/mediaedit.php',
            '/administrator/components/com_biblestudy/models/mediafilesedit.php',
            '/administrator/components/com_biblestudy/models/mediafileslist.php',
            '/administrator/components/com_biblestudy/models/medialist.php',
            '/administrator/components/com_biblestudy/models/messagetypelist.php',
            '/administrator/components/com_biblestudy/models/messagetypeedit.php',
            '/administrator/components/com_biblestudy/models/mimetypelist.php',
            '/administrator/components/com_biblestudy/models/mimetypeedit.php',
            '/administrator/components/com_biblestudy/models/podcastlist.php',
            '/administrator/components/com_biblestudy/models/podcastedit.php',
            '/administrator/components/com_biblestudy/models/serieslist.php',
            '/administrator/components/com_biblestudy/models/seriesedit.php',
            '/administrator/components/com_biblestudy/models/serverslist.php',
            '/administrator/components/com_biblestudy/models/serversedit.php',
            '/administrator/components/com_biblestudy/models/sharelist.php',
            '/administrator/components/com_biblestudy/models/shareedit.php',
            '/administrator/components/com_biblestudy/models/studieslist.php',
            '/administrator/components/com_biblestudy/models/studiesedit.php',
            '/administrator/components/com_biblestudy/models/teacherlist.php',
            '/administrator/components/com_biblestudy/models/teacheredit.php',
            '/administrator/components/com_biblestudy/models/templateedit.php',
            '/administrator/components/com_biblestudy/models/templateslist.php',
            '/administrator/components/com_biblestudy/models/topicslist.php',
            '/administrator/components/com_biblestudy/models/topicsedit.php',
            '/administrator/components/com_biblestudy/tables/biblestudy.php',
            '/administrator/components/com_biblestudy/tables/booksedit.php',
            '/administrator/components/com_biblestudy/tables/commentsedit.php',
            '/administrator/components/com_biblestudy/tables/foldersedit.php',
            '/administrator/components/com_biblestudy/tables/locationsedit.php',
            '/administrator/components/com_biblestudy/tables/mediaedit.php',
            '/administrator/components/com_biblestudy/tables/mediafilesedit.php',
            '/administrator/components/com_biblestudy/tables/messagetypeedit.php',
            '/administrator/components/com_biblestudy/tables/mimetypeedit.php',
            '/administrator/components/com_biblestudy/tables/podcastedit.php',
            '/administrator/components/com_biblestudy/tables/seriesedit.php',
            '/administrator/components/com_biblestudy/tables/serversedit.php',
            '/administrator/components/com_biblestudy/tables/shareedit.php',
            '/administrator/components/com_biblestudy/tables/studiesedit.php',
            '/administrator/components/com_biblestudy/tables/teacheredit.php',
            '/administrator/components/com_biblestudy/tables/topicsedit.php',
            '/administrator/components/com_biblestudy/tables/templateedit.php',
            '/administrator/components/com_biblestudy/helpers/version.php',
            '/administrator/language/en-GB/en-GB.com_biblestudy.ini',
            '/administrator/language/en-GB/en-GB.com_biblestudy.sys.ini',
            '/administrator/language/cs-CZ/cs-CZ.com_biblestudy.ini',
            '/administrator/language/cs-CZ/cs-CZ.com_biblestudy.sys.ini',
            '/administrator/language/de-DE/de-DE.com_biblestudy.ini',
            '/administrator/language/de-DE/de-DE.com_biblestudy.sys.ini',
            '/administrator/language/es-ES/es-ES.com_biblestudy.ini',
            '/administrator/language/es-ES/es-ES.com_biblestudy.sys.ini',
            '/administrator/language/hu-HU/hu-HU.com_biblestudy.ini',
            '/administrator/language/hu-HU/hu-HU.com_biblestudy.sys.ini',
            '/administrator/language/nl-NL/nl-NL.com_biblestudy.ini',
            '/administrator/language/nl-NL/no-NO.com_biblestudy.ini',
            '/administrator/language/no-NO/no-NO.com_biblestudy.sys.ini',
            // JBSM 8.0.0
            // Site:
            '/components/com_biblestudy/controllers\commentsedit.php',
            '/components/com_biblestudy/controllers\commentslist.php',
            '/components/com_biblestudy/controllers\mediafile.php',
            '/components/com_biblestudy/controllers\mediafiles.php',
            '/components/com_biblestudy/controllers\message.php',
            '/components/com_biblestudy/controllers\messages.php',
            '/components/com_biblestudy/helpers\book.php',
            '/components/com_biblestudy/helpers\date.php',
            '/components/com_biblestudy/helpers\duration.php',
            '/components/com_biblestudy/helpers\editlink.php',
            '/components/com_biblestudy/helpers\editlisting.php',
            '/components/com_biblestudy/helpers\filepath.php',
            '/components/com_biblestudy/helpers\filesize.php',
            '/components/com_biblestudy/helpers\header.php',
            '/components/com_biblestudy/helpers\listing.php',
            '/components/com_biblestudy/helpers\location.php',
            '/components/com_biblestudy/helpers\mediatable.php',
            '/components/com_biblestudy/helpers\messagetype.php',
            '/components/com_biblestudy/helpers\params.php',
            '/components/com_biblestudy/helpers\passage.php',
            '/components/com_biblestudy/helpers\scripture.php',
            '/components/com_biblestudy/helpers\share.php',
            '/components/com_biblestudy/helpers\store.php',
            '/components/com_biblestudy/helpers\textlink.php',
            '/components/com_biblestudy/helpers\title.php',
            '/components/com_biblestudy/helpers\toolbar.php',
            '/components/com_biblestudy/helpers\topics.php',
            '/components/com_biblestudy/helpers\year.php',
            '/components/com_biblestudy/lib\biblestudy.admin.class.php',
            '/components/com_biblestudy/lib\biblestudy.defines.php',
            '/components/com_biblestudy/lib\biblestudy.stats.class.php',
            '/components/com_biblestudy/models\forms\commentsedit.xml',
            '/components/com_biblestudy/models\commentsedit.php',
            '/components/com_biblestudy/models\commentslist.php',
            '/components/com_biblestudy/models\mediafile.php',
            '/components/com_biblestudy/models\mediafiles.php',
            '/components/com_biblestudy/models\message.php',
            '/components/com_biblestudy/models\messages.php',
            // Admin:
            '/administrator/components/com_biblestudy/controllers\ajax.php',
            '/administrator/components/com_biblestudy/helpers\cleanurl.php',
            '/administrator/components/com_biblestudy/helpers\toolbar.php',
            '/administrator/components/com_biblestudy/lib\biblestudy.admin.class.php',
            '/administrator/components/com_biblestudy/lib\biblestudy.migrate.php',
            '/administrator/components/com_biblestudy/migration\biblestudy.611.upgrade.php',
            '/administrator/components/com_biblestudy/migration\biblestudy.612.upgrade.php',
            '/administrator/components/com_biblestudy/migration\biblestudy.613.upgrade.php',
            '/administrator/components/com_biblestudy/migration\biblestudy.614.upgrade.php',
            '/administrator/components/com_biblestudy/migration\biblestudy.622.upgrade.php',
            '/administrator/components/com_biblestudy/migration\biblestudy.623.upgrade.php',
            '/administrator/components/com_biblestudy/migration\biblestudy.700.upgrade.php',
            '/administrator/components/com_biblestudy/migration\update701.php',
            '/administrator/components/com_biblestudy/models\fields\locationordering.php',
            '/administrator/components/com_biblestudy/models\fields\mediaordering.php',
            '/administrator/components/com_biblestudy/models\fields\messagetypeordering.php',
            '/administrator/components/com_biblestudy/models\fields\shareordering.php',
            '/administrator/components/com_biblestudy/models\fields\teacherordering.php',
            '/administrator/components/com_biblestudy/views\admin\tmpl\form.php',
            '/administrator/components/com_biblestudy/views\admin\tmpl\form_assets.php',
            '/administrator/components/com_biblestudy/views\admin\tmpl\form_backup.php',
            '/administrator/components/com_biblestudy/views\admin\tmpl\form_database.php',
            '/administrator/components/com_biblestudy/views\admin\tmpl\form_migrate.php',
            '/administrator/components/com_biblestudy/views\comment\tmpl\form.php',
            '/administrator/components/com_biblestudy/views\folder\tmpl\form.php',
            '/administrator/components/com_biblestudy/views\folders\tmpl\index.html',
            '/administrator/components/com_biblestudy/views\location\tmpl\form.php',
            '/administrator/components/com_biblestudy/views\mediaimage\tmpl\form.php',
            '/administrator/components/com_biblestudy/views\message\tmpl\form.php',
            '/administrator/components/com_biblestudy/views\messagetype\tmpl\form.php',
            '/administrator/components/com_biblestudy/views\mimetype\tmpl\form.php',
            '/administrator/components/com_biblestudy/views\podcast\tmpl\form.php',
            '/administrator/components/com_biblestudy/views\serie\tmpl\form.php',
            '/administrator/components/com_biblestudy/views\server\tmpl\form.php',
            '/administrator/components/com_biblestudy/views\server\tmpl\index.html',
            '/administrator/components/com_biblestudy/views\share\tmpl\form.php',
            '/administrator/components/com_biblestudy/views\teacher\tmpl\form.php',
            '/administrator/components/com_biblestudy/views\template\tmpl\form.php',
            '/administrator/components/com_biblestudy/views\templatecode\tmpl\form.php',
            '/administrator/components/com_biblestudy/views\topic\tmpl\form.php',
        );

        $folders = array(
            '/components/com_biblestudy/assets',
            '/components/com_biblestudy/images',
            '/components/com_biblestudy/views/teacherlist',
            '/components/com_biblestudy/views/teacherdisplay',
            '/components/com_biblestudy/views/studieslist',
            '/components/com_biblestudy/views/studydetails',
            '/components/com_biblestudy/views/serieslist',
            '/components/com_biblestudy/views/seriesdetail',
            '/administrator/media',
            '/administrator/components/com_biblestudy/assets',
            '/administrator/components/com_biblestudy/images',
            '/administrator/components/com_biblestudy/css',
            '/administrator/components/com_biblestudy/js',
            '/administrator/components/com_biblestudy/views/commentsedit',
            '/administrator/components/com_biblestudy/views/commentslist',
            '/administrator/components/com_biblestudy/views/cssedit',
            '/administrator/components/com_biblestudy/views/folderslist',
            '/administrator/components/com_biblestudy/views/foldersedit',
            '/administrator/components/com_biblestudy/views/locationslist',
            '/administrator/components/com_biblestudy/views/locationsedit',
            '/administrator/components/com_biblestudy/views/mediaedit',
            '/administrator/components/com_biblestudy/views/mediafilesedit',
            '/administrator/components/com_biblestudy/views/mediafileslist',
            '/administrator/components/com_biblestudy/views/medialist',
            '/administrator/components/com_biblestudy/views/messagetypelist',
            '/administrator/components/com_biblestudy/views/messagetypeedit',
            '/administrator/components/com_biblestudy/views/mimetypelist',
            '/administrator/components/com_biblestudy/views/mimetypeedit',
            '/administrator/components/com_biblestudy/views/podcastlist',
            '/administrator/components/com_biblestudy/views/podcastedit',
            '/administrator/components/com_biblestudy/views/serieslist',
            '/administrator/components/com_biblestudy/views/seriesedit',
            '/administrator/components/com_biblestudy/views/serverslist',
            '/administrator/components/com_biblestudy/views/serversedit',
            '/administrator/components/com_biblestudy/views/sharelist',
            '/administrator/components/com_biblestudy/views/shareedit',
            '/administrator/components/com_biblestudy/views/studieslist',
            '/administrator/components/com_biblestudy/views/studiesedit',
            '/administrator/components/com_biblestudy/views/teacherlist',
            '/administrator/components/com_biblestudy/views/teacheredit',
            '/administrator/components/com_biblestudy/views/templateedit',
            '/administrator/components/com_biblestudy/views/templateslist',
            '/administrator/components/com_biblestudy/views/topicslist',
            '/administrator/components/com_biblestudy/views/topicsedit',
            // JBSM 8.0.0
            '/components/com_biblestudy/views/messages',
            '/components/com_biblestudy/views/message',
            '/components/com_biblestudy/views/mediafiles',
            '/components/com_biblestudy/views/mediafile',
            '/components/com_biblestudy/views/commentslist',
            '/components/com_biblestudy/views/commentsedit',
        );

        foreach ($files as $file)
        {
            if (JFile::exists(JPATH_ROOT . $file) &amp;&amp; !JFile::delete(JPATH_ROOT . $file))
            {
                echo JText::sprintf('FILES_JOOMLA_ERROR_FILE_FOLDER', $file) . '&lt;br /&gt;';
            }
        }

        foreach ($folders as $folder)
        {
            if (JFolder::exists(JPATH_ROOT . $folder) &amp;&amp; !JFolder::delete(JPATH_ROOT . $folder))
            {
                echo JText::sprintf('FILES_JOOMLA_ERROR_FILE_FOLDER', $folder) . '&lt;br /&gt;';
            }
        }
    }

    /**
     * Fix Menus
     *
     * @since 7.1.0
     *
     * @return   void
     */
    public function fixMenus()
    {
        $db    = JFactory::getDBO();
        $query = $db-&gt;getQuery(true);
        $query-&gt;select('*')
            -&gt;from('#__menu')
            -&gt;where($db-&gt;qn('menutype') . ' != ' . $db-&gt;q('main'))
            -&gt;where($db-&gt;qn('link') . ' LIKE ' . $db-&gt;q('%com_biblestudy%'));
        $db-&gt;setQuery($query);
        $menus = $db-&gt;loadObjectList();

        foreach ($menus AS $menu)
        {
            $menu-&gt;link = str_replace('teacherlist', 'teachers', $menu-&gt;link);
            $menu-&gt;link = str_replace('teacherdisplay', 'teacher', $menu-&gt;link);
            $menu-&gt;link = str_replace('studydetails', 'sermon', $menu-&gt;link);
            $menu-&gt;link = str_replace('serieslist', 'seriesdisplays', $menu-&gt;link);
            $menu-&gt;link = str_replace('seriesdetail', 'seriesdisplay', $menu-&gt;link);
            $menu-&gt;link = str_replace('studieslist', 'sermons', $menu-&gt;link);
            $query      = $db-&gt;getQuery(true);
            $query-&gt;update('#__menu')
                -&gt;set("link = " . $db-&gt;q($menu-&gt;link))
                -&gt;where('id = ' . $db-&gt;q($menu-&gt;id));
            $db-&gt;setQuery($query);
            $db-&gt;execute();
        }
    }

    /**
     * Fix Image paths
     *
     * @since 7.1.0
     *
     * @return   void
     */
    public function fixImagePaths()
    {
        $db    = JFactory::getDBO();
        $query = $db-&gt;getQuery(true);
        $query-&gt;select('*')
            -&gt;from('#__bsms_media');
        $db-&gt;setQuery($query);
        $images = $db-&gt;loadObjectList();

        foreach ($images as $image)
        {
            if (!empty($image-&gt;media_image_path))
            {
                $image-&gt;media_image_path = str_replace('components', 'media', $image-&gt;media_image_path);
                $query                   = $db-&gt;getQuery(true);
                $query-&gt;update('#__bsms_media')
                    -&gt;set("media_image_path = " . $db-&gt;q($image-&gt;media_image_path))
                    -&gt;where('id = ' . $db-&gt;q($image-&gt;id));
                $db-&gt;setQuery($query);
                $db-&gt;execute();
            }
        }
        $query = $db-&gt;getQuery(true);
        $query-&gt;select('*')
            -&gt;from('#__bsms_share');
        $db-&gt;setQuery($query);
        $datas = $db-&gt;loadObjectList();

        foreach ($datas as $data)
        {
            // Need to adjust the params and write back
            $registry = new JRegistry;
            $registry-&gt;loadString($data-&gt;params);
            $params     = $registry;
            $shareimage = $params-&gt;get('shareimage');
            $shareimage = str_replace('components', 'media', $shareimage);
            $params-&gt;set('shareimage', $shareimage);

            // Now write the params back into the $table array and store.
            $data-&gt;params = (string) $params-&gt;toString();
            $qeery        = $db-&gt;getQuery(true);
            $qeery-&gt;update('#__bsms_share')
                -&gt;set('params =' . $db-&gt;q($data-&gt;params))
                -&gt;where('id = ' . $db-&gt;q($data-&gt;id));
            $db-&gt;setQuery($query);
            $db-&gt;execute();
        }
    }

    /**
     * Function to find empty language field and set them to "*"
     *
     * @since 7.1.0
     *
     * @return   void
     */
    public function fixemptylanguage()
    {
        // Tables to fix
        $tables = array(
            array('table' =&gt; '#__bsms_comments'),
            array('table' =&gt; '#__bsms_mediafiles'),
            array('table' =&gt; '#__bsms_series'),
            array('table' =&gt; '#__bsms_studies'),
            array('table' =&gt; '#__bsms_teachers'),
        );

        // Correct blank records
        foreach ($tables as $table)
        {
            $db    = JFactory::getDBO();
            $query = $db-&gt;getQuery(true);
            $query-&gt;update($table['table'])
                -&gt;set('language = ' . $db-&gt;q('*'))
                -&gt;where('language = ' . $db-&gt;q(''));
            $db-&gt;setQuery($query);
            $db-&gt;execute();
        }
    }

    /**
     * Function to Find empty access in the db and set them to Public
     *
     * @since 7.1.0
     *
     * @return   void
     */
    public function fixemptyaccess()
    {
        // Tables to fix
        $tables = array(
            array('table' =&gt; '#__bsms_admin'),
            array('table' =&gt; '#__bsms_mediafiles'),
            array('table' =&gt; '#__bsms_message_type'),
            array('table' =&gt; '#__bsms_mimetype'),
            array('table' =&gt; '#__bsms_order'),
            array('table' =&gt; '#__bsms_podcast'),
            array('table' =&gt; '#__bsms_series'),
            array('table' =&gt; '#__bsms_servers'),
            array('table' =&gt; '#__bsms_share'),
            array('table' =&gt; '#__bsms_studies'),
            array('table' =&gt; '#__bsms_studytopics'),
            array('table' =&gt; '#__bsms_teachers'),
            array('table' =&gt; '#__bsms_templates'),
            array('table' =&gt; '#__bsms_topics'),
        );

        // Get Public id
        $db    = JFactory::getDBO();
        $query = $db-&gt;getQuery(true);
        $query-&gt;select('id')
            -&gt;from('#__viewlevels')
            -&gt;where('title = ' . $db-&gt;q('Public'));
        $db-&gt;setQuery($query);
        $id = $db-&gt;loadResult();

        // Correct blank or not set records
        foreach ($tables as $table)
        {
            $query = $db-&gt;getQuery(true);
            $query-&gt;update($table['table'])
                -&gt;set('access = ' . $id)
                -&gt;where("(access = " . $db-&gt;q('0') . " or access = " . $db-&gt;q('') . ")");
            $db-&gt;setQuery($query);
            $db-&gt;execute();
</codefragment>
  </duplication>
  <duplication lines="6" tokens="17">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/controllers/servers.php" line="35"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/controllers/commentlist.php" line="43"/>
    <codefragment>    public function getModel($name = 'Server', $prefix = 'BiblestudyModel', $config = array('ignore_request' =&gt; true))
    {
        $model = parent::getModel($name, $prefix, $config);

        return $model;
    }
</codefragment>
  </duplication>
  <duplication lines="13" tokens="19">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/controllers/commentform.php" line="196"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/controllers/mediafileform.php" line="183"/>
    <codefragment>        $append = '';

        // Setup redirect info.
        if ($tmpl)
        {
            $append .= '&amp;tmpl=' . $tmpl;
        }

        $append .= '&amp;layout=edit';

        if ($recordId)
        {
            $append .= '&amp;' . $urlVar . '=' . $recordId;
</codefragment>
  </duplication>
  <duplication lines="6" tokens="17">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/controllers/servers.php" line="35"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/controllers/mediafilelist.php" line="38"/>
    <codefragment>    public function getModel($name = 'Server', $prefix = 'BiblestudyModel', $config = array('ignore_request' =&gt; true))
    {
        $model = parent::getModel($name, $prefix, $config);

        return $model;
    }
</codefragment>
  </duplication>
  <duplication lines="6" tokens="17">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/controllers/servers.php" line="35"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/controllers/messagelist.php" line="38"/>
    <codefragment>    public function getModel($name = 'Server', $prefix = 'BiblestudyModel', $config = array('ignore_request' =&gt; true))
    {
        $model = parent::getModel($name, $prefix, $config);

        return $model;
    }
</codefragment>
  </duplication>
  <duplication lines="37" tokens="60">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/controllers/mediafileform.php" line="159"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/controllers/sermon.php" line="142"/>
    <codefragment>        $config = array('ignore_request' =&gt; true))
    {
        $model = parent::getModel($name, $prefix, $config);

        return $model;
    }

    /**
     * Gets the URL arguments to append to an item redirect.
     *
     * @param   int     $recordId  The primary key id for the item.
     * @param   string  $urlVar    The name of the URL variable for the id.
     *
     * @return    string    The arguments to append to the redirect URL.
     *
     * @since    1.6
     */
    protected function getRedirectToItemAppend($recordId = null, $urlVar = 'a_id')
    {
        $this-&gt;input = new JInput;

        // Need to override the parent method completely.
        $tmpl   = $this-&gt;input-&gt;get('tmpl');
        $layout = $this-&gt;input-&gt;get('layout', 'edit');
        $append = '';

        // Setup redirect info.
        if ($tmpl)
        {
            $append .= '&amp;tmpl=' . $tmpl;
        }

        $append .= '&amp;layout=edit';

        if ($recordId)
        {
            $append .= '&amp;' . $urlVar . '=' . $recordId;
</codefragment>
  </duplication>
  <duplication lines="9" tokens="38">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/controller.php" line="249"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/controllers/sermon.php" line="427"/>
    <codefragment>        $query-&gt;select('id, studytitle, studydate')-&gt;from('#__bsms_studies')-&gt;where('id = ' . $comment_study_id);
        $db-&gt;setQuery($query);
        $comment_details    = $db-&gt;loadObject();
        $comment_title      = $comment_details-&gt;studytitle;
        $comment_study_date = $comment_details-&gt;studydate;
        $mail               = JFactory::getMailer();
        $ToEmail            = $params-&gt;get('recipient', '');
        $Subject            = $params-&gt;get('subject', 'Comments');
        $FromName           = $params-&gt;get('fromname', $comment_fromname);
</codefragment>
  </duplication>
  <duplication lines="28" tokens="32">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/controllers/seriesdisplays.php" line="11"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/controllers/teachers.php" line="11"/>
    <codefragment>defined('_JEXEC') or die;
jimport('joomla.application.component.controller');

/**
 * Controller for Teachers
 *
 * @package  BibleStudy.Site
 * @since    7.0.0
 */
class BiblestudyControllerTeachers extends JControllerLegacy
{

    /**
     * Proxy for getModel
     *
     * @param   string $name    The name of the model
     * @param   string $prefix  The prefix for the PHP class name
     * @param   array  $config  Set ignore request
     *
     * @return JModel
     *
     * @since 7.0
     */
    public function &amp;getModel($name = 'Teacher', $prefix = 'BiblestudyModel', $config = array('ignore_request' =&gt; true))
    {
        $model = parent::getModel($name, $prefix, $config);

        return $model;
</codefragment>
  </duplication>
  <duplication lines="8" tokens="15">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/helpers/media.php" line="71"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/helpers/media.php" line="255"/>
    <codefragment>    public function getInternalPlayer($media, $params, $admin_params)
    {

        // Convert parameter fields to objects.
        $registry = new JRegistry;
        $registry-&gt;loadString($media-&gt;params);
        $itemparams = $registry;

</codefragment>
  </duplication>
  <duplication lines="9" tokens="27">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/lib/biblestudy.debug.php" line="219"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/lib/biblestudy.debug.php" line="226"/>
    <codefragment>function Biblestudy_error($message, $level = E_USER_NOTICE, $back = 1)
{
    $trace  = debug_backtrace();
    $caller = $trace[$back];
    trigger_error(
        $message . ' in &lt;strong&gt;' . $caller['function'] . '()&lt;/strong&gt; called from &lt;strong&gt;' . $caller['file']
        . '&lt;/strong&gt; on line &lt;strong&gt;' . $caller['line'] . '&lt;/strong&gt;' . "\n&lt;br /&gt;&lt;br /&gt;Error reported", $level
    );
}
</codefragment>
  </duplication>
  <duplication lines="113" tokens="707">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/lib/biblestudy.listing.class.php" line="52"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/lib/biblestudy.listing.class.php" line="1623"/>
    <codefragment>        if ($view == 'sermon' &amp;&amp; $ismodule &lt; 1)
        {

            $params-&gt;set('row1col1', $params-&gt;get('drow1col1'));
            $params-&gt;set('r1c1custom', $params-&gt;get('dr1c1custom'));
            $params-&gt;set('r1c1customlabel', $params-&gt;get('dr1c1customlabel'));
            $params-&gt;set('r1c1span', $params-&gt;get('dr1c1span'));
            $params-&gt;set('linkr1c1', $params-&gt;get('dlinkr1c1'));

            $params-&gt;set('row1col2', $params-&gt;get('drow1col2'));
            $params-&gt;set('r1c2custom', $params-&gt;get('dr1c2custom'));
            $params-&gt;set('r1c2customlabel', $params-&gt;get('dr1c1customlabel'));
            $params-&gt;set('r1c2span', $params-&gt;get('dr1c2span'));
            $params-&gt;set('linkr1c2', $params-&gt;get('dlinkr1c2'));

            $params-&gt;set('row1col3', $params-&gt;get('drow1col3'));
            $params-&gt;set('r1c3custom', $params-&gt;get('dr1c3custom'));
            $params-&gt;set('r1c3customlabel', $params-&gt;get('dr1c1customlabel'));
            $params-&gt;set('r1c3span', $params-&gt;get('dr1c3span'));
            $params-&gt;set('linkr1c3', $params-&gt;get('dlinkr1c3'));

            $params-&gt;set('row1col4', $params-&gt;get('drow1col4'));
            $params-&gt;set('r1c4custom', $params-&gt;get('dr1c4custom'));
            $params-&gt;set('r1c4customlabel', $params-&gt;get('dr1c1customlabel'));
            $params-&gt;set('linkr1c4', $params-&gt;get('dlinkr1c4'));

            $params-&gt;set('row2col1', $params-&gt;get('drow2col1'));
            $params-&gt;set('r2c1custom', $params-&gt;get('dr2c1custom'));
            $params-&gt;set('r2c1customlabel', $params-&gt;get('dr1c1customlabel'));
            $params-&gt;set('r2c1span', $params-&gt;get('dr2c1span'));
            $params-&gt;set('linkr2c1', $params-&gt;get('dlinkr2c1'));

            $params-&gt;set('row2col2', $params-&gt;get('drow2col2'));
            $params-&gt;set('r2c2custom', $params-&gt;get('dr2c2custom'));
            $params-&gt;set('r2c2customlabel', $params-&gt;get('dr1c1customlabel'));
            $params-&gt;set('r2c2span', $params-&gt;get('dr2c2span'));
            $params-&gt;set('linkr2c2', $params-&gt;get('dlinkr2c2'));

            $params-&gt;set('row2col3', $params-&gt;get('drow2col3'));
            $params-&gt;set('r2c3custom', $params-&gt;get('dr2c3custom'));
            $params-&gt;set('r2c3customlabel', $params-&gt;get('dr1c1customlabel'));
            $params-&gt;set('r2c3span', $params-&gt;get('dr2c3span'));
            $params-&gt;set('linkr2c3', $params-&gt;get('dlinkr2c3'));

            $params-&gt;set('row2col4', $params-&gt;get('drow2col4'));
            $params-&gt;set('r2c4custom', $params-&gt;get('dr2c4custom'));
            $params-&gt;set('r2c4customlabel', $params-&gt;get('dr1c1customlabel'));
            $params-&gt;set('linkr2c4', $params-&gt;get('dlinkr2c4'));

            $params-&gt;set('row3col1', $params-&gt;get('drow3col1'));
            $params-&gt;set('r3c1custom', $params-&gt;get('dr3c1custom'));
            $params-&gt;set('r3c1customlabel', $params-&gt;get('dr1c1customlabel'));
            $params-&gt;set('r3c1span', $params-&gt;get('dr3c1span'));
            $params-&gt;set('linkr3c1', $params-&gt;get('dlinkr3c1'));

            $params-&gt;set('row3col2', $params-&gt;get('drow3col2'));
            $params-&gt;set('r3c2custom', $params-&gt;get('dr3c2custom'));
            $params-&gt;set('r3c2customlabel', $params-&gt;get('dr1c1customlabel'));
            $params-&gt;set('r3c2span', $params-&gt;get('dr3c2span'));
            $params-&gt;set('linkr3c2', $params-&gt;get('dlinkr3c2'));

            $params-&gt;set('row3col3', $params-&gt;get('drow3col3'));
            $params-&gt;set('r3c3custom', $params-&gt;get('dr3c3custom'));
            $params-&gt;set('r3c3customlabel', $params-&gt;get('dr1c1customlabel'));
            $params-&gt;set('r3c3span', $params-&gt;get('dr3c3span'));
            $params-&gt;set('linkr3c3', $params-&gt;get('dlinkr3c3'));

            $params-&gt;set('row3col4', $params-&gt;get('drow3col4'));
            $params-&gt;set('r3c4custom', $params-&gt;get('dr3c4custom'));
            $params-&gt;set('r3c4customlabel', $params-&gt;get('dr1c1customlabel'));
            $params-&gt;set('linkr3c4', $params-&gt;get('dlinkr3c4'));

            $params-&gt;set('row4col1', $params-&gt;get('drow4col1'));
            $params-&gt;set('r4c1custom', $params-&gt;get('dr4c1custom'));
            $params-&gt;set('r4c1customlabel', $params-&gt;get('dr1c1customlabel'));
            $params-&gt;set('r4c1span', $params-&gt;get('dr4c1span'));
            $params-&gt;set('linkr4c1', $params-&gt;get('dlinkr4c1'));

            $params-&gt;set('row4col2', $params-&gt;get('drow4col2'));
            $params-&gt;set('r4c2custom', $params-&gt;get('dr4c2custom'));
            $params-&gt;set('r4c2customlabel', $params-&gt;get('dr1c1customlabel'));
            $params-&gt;set('r4c2span', $params-&gt;get('dr4c2span'));
            $params-&gt;set('linkr4c2', $params-&gt;get('dlinkr4c2'));

            $params-&gt;set('row4col3', $params-&gt;get('drow4col3'));
            $params-&gt;set('r4c3custom', $params-&gt;get('dr4c3custom'));
            $params-&gt;set('r4c3customlabel', $params-&gt;get('dr1c1customlabel'));
            $params-&gt;set('r4c3span', $params-&gt;get('dr4c3span'));
            $params-&gt;set('linkr4c3', $params-&gt;get('dlinkr4c3'));

            $params-&gt;set('row4col4', $params-&gt;get('drow4col4'));
            $params-&gt;set('r4c4custom', $params-&gt;get('dr4c4custom'));
            $params-&gt;set('r4c4customlabel', $params-&gt;get('dr1c1customlabel'));
            $params-&gt;set('linkr4c4', $params-&gt;get('dlinkr4c4'));
        }

        // Need to know if last column and last row
        $columns = 1;

        if ($params-&gt;get('row1col2') &gt; 0 || $params-&gt;get('row2col2') &gt; 0 || $params-&gt;get('row3col2') &gt; 0 || $params-&gt;get('row4col2') &gt; 0)
        {
            $columns = 2;
        }
        if ($params-&gt;get('row1col3') &gt; 0 || $params-&gt;get('row2col3') &gt; 0 || $params-&gt;get('row3col3') &gt; 0 || $params-&gt;get('row4col3') &gt; 0)
        {
            $columns = 3;
        }
        if ($params-&gt;get('row1col4') &gt; 0 || $params-&gt;get('row2col4') &gt; 0 || $params-&gt;get('row3col4') &gt; 0 || $params-&gt;get('row4col4') &gt; 0)
        {
            $columns = 4;
        }
        $rows = 1;

</codefragment>
  </duplication>
  <duplication lines="13" tokens="11">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/models/fields/docman.php" line="11"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/models/fields/docman.php" line="11"/>
    <codefragment>defined('_JEXEC') or die;

// Import the list field type
jimport('joomla.form.helper');
JFormHelper::loadFieldClass('list');

/**
 * Virtuemart Category List Form Field class for the Joomla Bible Study component
 *
 * @package  BibleStudy.Admin
 * @since    7.0.4
 */
class JFormFieldDocman extends JFormFieldList
</codefragment>
  </duplication>
  <duplication lines="8" tokens="24">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/models/fields/docman.php" line="62"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/models/fields/docman.php" line="62"/>
    <codefragment>            foreach ($docs as $doc)
            {
                $options[] = JHtml::_('select.option', $doc-&gt;id, $doc-&gt;dmname);
            }
        }
        $options = array_merge(parent::getOptions(), $options);

        return $options;
</codefragment>
  </duplication>
  <duplication lines="36" tokens="55">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/models/fields/filesize.php" line="11"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/models/fields/filesize.php" line="11"/>
    <codefragment>defined('_JEXEC') or die;

jimport('joomla.html.html');
jimport('joomla.access.access');
jimport('joomla.form.formfield');

/**
 * Form Field class for the FileSize
 *
 * @package  BibleStudy.Admin
 * @since    7.0.0
 */
class JFormFieldFilesize extends JFormField
{

    /**
     *  Set Naming of type
     *
     * @var string
     */
    public $type = 'Filesize';

    /**
     * Get impute of form
     *
     * @return string
     */
    protected function getInput()
    {
        // Initialize some field attributes.
        $size      = $this-&gt;element['size'] ? ' size="' . (int) $this-&gt;element['size'] . '"' : '';
        $maxLength = $this-&gt;element['maxlength'] ? ' maxlength="' . (int) $this-&gt;element['maxlength'] . '"' : '';
        $class     = $this-&gt;element['class'] ? ' class="' . (string) $this-&gt;element['class'] . '"' : '';
        $readonly  = ((string) $this-&gt;element['readonly'] == 'true') ? ' readonly="readonly"' : '';
        $disabled  = ((string) $this-&gt;element['disabled'] == 'true') ? ' disabled="disabled"' : '';

</codefragment>
  </duplication>
  <duplication lines="25" tokens="47">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/models/fields/modal/study.php" line="78"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/models/fields/modal/article.php" line="79"/>
    <codefragment>        $html[] = '    &lt;a class="modal" title="' . JText::_('JBS_CMN_STUDY_CHANGE') . '"  href="' . $link . '" rel="{handler: \'iframe\', size: {x: 800, y: 450}}"&gt;' . JText::_('JBS_CMN_STUDY_CHANGE') . '&lt;/a&gt;';
        $html[] = '  &lt;/div&gt;';
        $html[] = '&lt;/div&gt;';

        // The active article id field.
        if (0 == (int) $this-&gt;value) {
            $value = '';
        } else {
            $value = (int) $this-&gt;value;
        }

        // class='required' for client side validation
        $class = '';
        if ($this-&gt;required) {
            $class = ' class="required modal-value"';
        }

        $html[] = '&lt;input type="hidden" id="' . $this-&gt;id . '_id"' . $class . ' name="' . $this-&gt;name . '" value="' . $value . '" /&gt;';

        return implode("\n", $html);
    }

}</codefragment>
  </duplication>
  <duplication lines="32" tokens="74">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/models/fields/modal/study.php" line="72"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/models/fields/modal/study.php" line="72"/>
    <codefragment>        $html[] = '  &lt;input type="text" id="' . $this-&gt;id . '_name" value="' . $title . '" disabled="disabled" size="35" /&gt;';
        $html[] = '&lt;/div&gt;';

        // The user select button.
        $html[] = '&lt;div class="button2-left"&gt;';
        $html[] = '  &lt;div class="blank"&gt;';
        $html[] = '    &lt;a class="modal" title="' . JText::_('JBS_CMN_STUDY_CHANGE') . '"  href="' . $link . '" rel="{handler: \'iframe\', size: {x: 800, y: 450}}"&gt;' . JText::_('JBS_CMN_STUDY_CHANGE') . '&lt;/a&gt;';
        $html[] = '  &lt;/div&gt;';
        $html[] = '&lt;/div&gt;';

        // The active article id field.
        if (0 == (int) $this-&gt;value) {
            $value = '';
        } else {
            $value = (int) $this-&gt;value;
        }

        // class='required' for client side validation
        $class = '';
        if ($this-&gt;required) {
            $class = ' class="required modal-value"';
        }

        $html[] = '&lt;input type="hidden" id="' . $this-&gt;id . '_id"' . $class . ' name="' . $this-&gt;name . '" value="' . $value . '" /&gt;';

        return implode("\n", $html);
    }

}</codefragment>
  </duplication>
  <duplication lines="23" tokens="47">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/models/fields/modal/studydetails.php" line="93"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/models/fields/modal/studydetails.php" line="88"/>
    <codefragment>        $html .= '&lt;div class="button2-left"&gt;&lt;div class="blank"&gt;&lt;a class="modal" title="' . JText::_('JBS_CMN_SELECT_STUDY') . '"  href="' . $link . '" rel="{handler: \'iframe\', size: {x: 900, y: 450}}"&gt;' . JText::_('JBS_CMN_SELECT_STUDY') . '&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;' . "\n";
        // The active study id field.
        if (0 == (int) $this-&gt;value) {
            $value = '';
        } else {
            $value = (int) $this-&gt;value;
        }

        // class='required' for client side validation
        $class = '';
        if ($this-&gt;required) {
            $class = ' class="required modal-value"';
        }

        $html .= '&lt;input type="hidden" id="' . $this-&gt;id . '_id"' . $class . ' name="' . $this-&gt;name . '" value="' . $value . '" /&gt;';

        return $html;
    }

}
</codefragment>
  </duplication>
  <duplication lines="20" tokens="66">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/models/fields/topicslist.php" line="41"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/models/fields/topicslist.php" line="40"/>
    <codefragment>    protected function getOptions()
    {
        $db    = JFactory::getDBO();
        $query = $db-&gt;getQuery(true);
        $query-&gt;select('id, topic_text, params AS topic_params')-&gt;from('#__bsms_topics')-&gt;where('published = ' . 1)-&gt;order('topic_text asc');
        $db-&gt;setQuery((string) $query);
        $topics  = $db-&gt;loadObjectList();
        $options = array();

        if ($topics)
        {
            foreach ($topics as $topic)
            {
                $text      = JBSMTranslated::getTopicItemTranslated($topic);
                $options[] = JHtml::_('select.option', $topic-&gt;id, $text);
            }
        }
        $options = array_merge(parent::getOptions(), $options);

        return $options;
</codefragment>
  </duplication>
  <duplication lines="65" tokens="130">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/models/fields/virtuemart.php" line="11"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/models/fields/virtuemart.php" line="11"/>
    <codefragment>defined('_JEXEC') or die;

// Import the list field type
jimport('joomla.form.helper');

JFormHelper::loadFieldClass('list');

/**
 * Virtuemart Category List Form Field class for the Joomla Bible Study component
 *
 * @package  BibleStudy.Admin
 * @since    7.0.4
 */
class JFormFieldVirtuemart extends JFormFieldList
{

    /**
     * The field type.
     *
     * @var         string
     */
    protected $type = 'Virtuemart';

    /**
     * Method to get a list of options for a list input.
     *
     * @return      array           An array of JHtml options.
     */
    protected function getOptions()
    {
        $params = JComponentHelper::getParams('com_languages');

        // Use default joomla
        $siteLang = $params-&gt;get('site', 'en-GB');
        $lang     = strtolower(strtr($siteLang, '-', '_'));
        define('VMLANG', $lang);

        // Check to see if component installed
        jimport('joomla.filesystem.folder');

        if (!JFolder::exists(JPATH_ADMINISTRATOR . DIRECTORY_SEPARATOR . 'components' . DIRECTORY_SEPARATOR . 'com_virtuemart'))
        {
            return JText::_('JBS_CMN_VIRTUEMART_NOT_INSTALLED');
        }
        $db    = JFactory::getDBO();
        $query = $db-&gt;getQuery(true);
        $query-&gt;select('v.virtuemart_product_id, v.product_name');
        $query-&gt;from('#__virtuemart_products_' . VMLANG . ' AS v');
        $query-&gt;select('p.product_sku');
        $query-&gt;join('LEFT', '#__virtuemart_products as p ON v.virtuemart_product_id = p.virtuemart_product_id');
        $query-&gt;order('v.virtuemart_product_id DESC');
        $db-&gt;setQuery((string) $query);
        $products = $db-&gt;loadObjectList();
        $options  = array();

        if ($products)
        {
            foreach ($products as $product)
            {
                $options[] = JHtml::_('select.option', $product-&gt;virtuemart_product_id, $product-&gt;product_name . ' (' . $product-&gt;product_sku . ')');
            }
        }
        $options = array_merge(parent::getOptions(), $options);

        return $options;
</codefragment>
  </duplication>
  <duplication lines="13" tokens="12">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/models/commentform.php" line="83"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/models/mediafileform.php" line="98"/>
    <codefragment>        return $value;
    }

    /**
     * Get the return URL.
     *
     * @return  string    The return URL.
     *
     * @since    1.6
     */
    public function getReturnPage()
    {
        return base64_encode($this-&gt;getState('return_page'));
</codefragment>
  </duplication>
  <duplication lines="28" tokens="38">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/models/commentform.php" line="69"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/models/messageform.php" line="64"/>
    <codefragment>        $table = $this-&gt;getTable();

        // Attempt to load the row.
        $return = $table-&gt;load($pk);

        // Check for a table object error.
        if ($return === false)
        {
            return false;
        }

        $properties = $table-&gt;getProperties(1);
        $value      = JArrayHelper::toObject($properties, 'JObject');

        return $value;
    }

    /**
     * Get the return URL.
     *
     * @return  string    The return URL.
     *
     * @since    1.6
     */
    public function getReturnPage()
    {
        return base64_encode($this-&gt;getState('return_page'));
    }
</codefragment>
  </duplication>
  <duplication lines="8" tokens="21">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/models/messages.php" line="425"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/models/sermons.php" line="719"/>
    <codefragment>        $query-&gt;join('INNER', '#__bsms_studies AS study ON study.booknumber = book.booknumber');
        $query-&gt;group('book.id');
        $query-&gt;order('book.booknumber');
        $db-&gt;setQuery($query-&gt;__toString());
        $db_result = $db-&gt;loadAssocList();

        foreach ($db_result as $i =&gt; $value)
        {
</codefragment>
  </duplication>
  <duplication lines="17" tokens="19">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/models/messages.php" line="473"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/models/sermons.php" line="780"/>
    <codefragment>        $query-&gt;order('series.series_text');
        $db-&gt;setQuery($query-&gt;__toString());

        return $db-&gt;loadObjectList();
    }

    /**
     * Get a list of all used message types
     *
     * @since 7.0
     * @return object
     */
    public function getMessageTypes()
    {
        $db    = $this-&gt;getDbo();
        $query = $db-&gt;getQuery(true);
        $query-&gt;select('messageType.id AS value, messageType.message_type AS text');
</codefragment>
  </duplication>
  <duplication lines="12" tokens="23">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/comment/tmpl/edit.php" line="61"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/views/commentform/tmpl/edit.php" line="81"/>
    <codefragment>                                &lt;?php echo $this-&gt;form-&gt;getLabel('comment_text'); ?&gt;
                            &lt;/div&gt;
                            &lt;div class="controls"&gt;
                                &lt;?php echo $this-&gt;form-&gt;getInput('comment_text'); ?&gt;
                            &lt;/div&gt;
                        &lt;/div&gt;
                        &lt;div class="control-group"&gt;
                            &lt;div class="control-label"&gt;
                                &lt;?php echo $this-&gt;form-&gt;getLabel('study_id'); ?&gt;
                            &lt;/div&gt;
                            &lt;div class="controls"&gt;
                                &lt;?php echo $this-&gt;form-&gt;getInput('study_id'); ?&gt;
</codefragment>
  </duplication>
  <duplication lines="23" tokens="53">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/comments/tmpl/default.php" line="76"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/views/commentlist/tmpl/default.php" line="86"/>
    <codefragment>                   class="element-invisible"&gt;&lt;?php echo JText::_('JFIELD_PLG_SEARCH_SEARCHLIMIT_DESC'); ?&gt;&lt;/label&gt;
            &lt;?php echo $this-&gt;pagination-&gt;getLimitBox(); ?&gt;
        &lt;/div&gt;
        &lt;div class="btn-group pull-right hidden-phone"&gt;
            &lt;label for="directionTable"
                   class="element-invisible"&gt;&lt;?php echo JText::_('JFIELD_ORDERING_DESC'); ?&gt;&lt;/label&gt;
            &lt;select name="directionTable" id="directionTable" class="input-medium" onchange="Joomla.orderTable()"&gt;
                &lt;option value=""&gt;&lt;?php echo JText::_('JFIELD_ORDERING_DESC'); ?&gt;&lt;/option&gt;
                &lt;option value="asc" &lt;?php if ($listDirn == 'asc') echo 'selected="selected"'; ?&gt;&gt;&lt;?php echo JText::_('JBS_CMN_ASCENDING'); ?&gt;&lt;/option&gt;
                &lt;option value="desc" &lt;?php if ($listDirn == 'desc') echo 'selected="selected"'; ?&gt;&gt;&lt;?php echo JText::_('JBS_CMN_DESCENDING'); ?&gt;&lt;/option&gt;
            &lt;/select&gt;
        &lt;/div&gt;
        &lt;div class="btn-group pull-right"&gt;
            &lt;label for="sortTable" class="element-invisible"&gt;&lt;?php echo JText::_('JBS_CMN_SELECT_BY'); ?&gt;&lt;/label&gt;
            &lt;select name="sortTable" id="sortTable" class="input-medium" onchange="Joomla.orderTable()"&gt;
                &lt;option value=""&gt;&lt;?php echo JText::_('JBS_CMN_SELECT_BY'); ?&gt;&lt;/option&gt;
                &lt;?php echo JHtml::_('select.options', $sortFields, 'value', 'text', $listOrder); ?&gt;
            &lt;/select&gt;
        &lt;/div&gt;
        &lt;?php if (!BIBLESTUDY_CHECKREL): ?&gt;
        &lt;div class="clearfix"&gt;&lt;/div&gt;
        &lt;div class="btn-group pull-right"&gt;
            &lt;label for="filter_published" id="filter_published"
</codefragment>
  </duplication>
  <duplication lines="19" tokens="60">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/comments/tmpl/default.php" line="158"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/views/commentlist/tmpl/default.php" line="172"/>
    <codefragment>                &lt;?php echo JHtml::_('jgrid.published', $item-&gt;published, $i, 'comments.', $canChange, 'cb', '', ''); ?&gt;
            &lt;/td&gt;

            &lt;td class="nowrap has-context"&gt;
                &lt;div class="pull-left"&gt;
                    &lt;?php if ($canEdit || $canEditOwn) : ?&gt;
                    &lt;a href="&lt;?php echo $link; ?&gt;"&gt;&lt;?php echo $this-&gt;escape($item-&gt;studytitle) . ' - ' . JText::_($item-&gt;bookname) . ' ' . $item-&gt;chapter_begin; ?&gt;&lt;/a&gt;
                    &lt;?php else : ?&gt;
                    &lt;?php echo $this-&gt;escape($item-&gt;studytitle) . ' - ' . JText::_($item-&gt;bookname) . ' ' . $item-&gt;chapter_begin; ?&gt;
                    &lt;?php endif; ?&gt;
                &lt;/div&gt;
                &lt;div class="pull-left"&gt;
                    &lt;?php
                    if (BIBLESTUDY_CHECKREL)
                    {
                        // Create dropdown items
                        JHtml::_('dropdown.edit', $item-&gt;id, 'comment.');
                        JHtml::_('dropdown.divider');
                        if ($item-&gt;published) :
</codefragment>
  </duplication>
  <duplication lines="14" tokens="27">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/comments/tmpl/default.php" line="224"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/views/commentlist/tmpl/default.php" line="235"/>
    <codefragment>                &lt;?php echo (int) $item-&gt;id; ?&gt;
            &lt;/td&gt;
        &lt;/tr&gt;
            &lt;?php endforeach; ?&gt;
        &lt;/tbody&gt;
    &lt;/table&gt;
    &lt;?php echo $this-&gt;pagination-&gt;getListFooter(); ?&gt;
    &lt;?php // Load the batch processing form. ?&gt;
    &lt;?php echo $this-&gt;loadTemplate('batch'); ?&gt;
    &lt;input type="hidden" name="task" value=""/&gt;
    &lt;input type="hidden" name="boxchecked" value="0"/&gt;
    &lt;input type="hidden" name="filter_order" value="&lt;?php echo $listOrder; ?&gt;"/&gt;
    &lt;input type="hidden" name="filter_order_Dir" value="&lt;?php echo $listDirn; ?&gt;"/&gt;
    &lt;?php echo JHtml::_('form.token'); ?&gt;
</codefragment>
  </duplication>
  <duplication lines="29" tokens="39">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/comments/tmpl/default_batch.php" line="10"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/views/commentlist/tmpl/default_batch.php" line="10"/>
    <codefragment>defined('_JEXEC') or die;

$published = $this-&gt;state-&gt;get('filter.published');
?&gt;
&lt;div class="modal hide fade" id="collapseModal"&gt;
    &lt;div class="modal-header"&gt;
        &lt;?php if (BIBLESTUDY_CHECKREL)
        {
            ?&gt;
            &lt;button type="button" role="presentation" class="close" data-dismiss="modal"&gt;x&lt;/button&gt;&lt;?php } ?&gt;
        &lt;h3&gt;&lt;?php echo JText::_('JBS_CMN_BATCH_OPTIONS'); ?&gt;&lt;/h3&gt;
    &lt;/div&gt;
    &lt;div class="modal-body"&gt;
        &lt;p&gt;&lt;?php echo JText::_('JBS_CMN_BATCH_TIP'); ?&gt;&lt;/p&gt;

        &lt;div class="control-group"&gt;
            &lt;div class="controls"&gt;
                &lt;?php echo JHtml::_('batch.access'); ?&gt;
            &lt;/div&gt;
        &lt;/div&gt;

    &lt;/div&gt;
    &lt;div class="modal-footer"&gt;
        &lt;button class="btn" type="button" onclick="document.id('batch-folders-id');document.id('batch-access').value=''"
                data-dismiss="modal"&gt;
            &lt;?php echo JText::_('JCANCEL'); ?&gt;
        &lt;/button&gt;
        &lt;button class="btn btn-primary" type="submit" onclick="Joomla.submitbutton('comment.batch');"&gt;
            &lt;?php echo JText::_('JGLOBAL_BATCH_PROCESS'); ?&gt;
</codefragment>
  </duplication>
  <duplication lines="6" tokens="44">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/comments/view.html.php" line="83"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/views/commentlist/view.html.php" line="80"/>
    <codefragment>        $options   = array();
        $options[] = JHtml::_('select.option', '1', JText::_('J1'));
        $options[] = JHtml::_('select.option', '2', JText::_('J2'));
        $options[] = JHtml::_('select.option', '3', JText::_('J3'));
        $options[] = JHtml::_('select.option', '4', JText::_('J4'));
        $options[] = JHtml::_('select.option', '5', JText::_('J5'));
</codefragment>
  </duplication>
  <duplication lines="22" tokens="56">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/comments/view.html.php" line="191"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/views/commentlist/view.html.php" line="117"/>
    <codefragment>    protected function setDocument()
    {
        $document = JFactory::getDocument();
        $document-&gt;setTitle(JText::_('JBS_TITLE_COMMENTS'));
    }

    /**
     * Returns an array of fields the table can be sorted by
     *
     * @return  array  Array containing the field name to sort by as the key and display text as value
     *
     * @since   3.0
     */
    protected function getSortFields()
    {
        return array(
            'comment.full_name' =&gt; JText::_('JBS_CMT_FULL_NAME'),
            'comment.published' =&gt; JText::_('JSTATUS'),
            'study.studytitle'  =&gt; JText::_('JBS_CMN_TITLE'),
            'comment.language'  =&gt; JText::_('JGRID_HEADING_LANGUAGE'),
            'access_level'      =&gt; JText::_('JGRID_HEADING_ACCESS'),
            'comment.id'        =&gt; JText::_('JGRID_HEADING_ID')
</codefragment>
  </duplication>
  <duplication lines="6" tokens="28">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/mediafile/tmpl/edit.php" line="36"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/views/mediafileform/tmpl/edit.php" line="51"/>
    <codefragment>$study    = $app-&gt;getUserState($option . 'sid');
$sdate    = $app-&gt;getUserState($option . 'sdate');
$size     = $app-&gt;getUserState($option . 'size');
$fname    = $app-&gt;getUserState($option . 'fname');
$serverid = $app-&gt;getUserState($option . 'serverid');

</codefragment>
  </duplication>
  <duplication lines="59" tokens="142">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/mediafile/tmpl/edit.php" line="217"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/views/mediafileform/tmpl/edit.php" line="304"/>
    <codefragment>            &lt;?php echo $this-&gt;form-&gt;getLabel('createdate'); ?&gt;
        &lt;/div&gt;
        &lt;div class="controls"&gt;
            &lt;?php echo $this-&gt;form-&gt;getInput('createdate', null, empty($this-&gt;item-&gt;createdate) ? $sdate : null); ?&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="control-group"&gt;
        &lt;div class="control-label"&gt;
            &lt;?php echo $this-&gt;form-&gt;getLabel('study_id'); ?&gt;
        &lt;/div&gt;
        &lt;div class="controls"&gt;
            &lt;?php echo $this-&gt;form-&gt;getInput('study_id', null, empty($this-&gt;item-&gt;study_id) ? $study : null); ?&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="control-group"&gt;
        &lt;div class="control-label"&gt;
            &lt;?php echo $this-&gt;form-&gt;getLabel('podcast_id'); ?&gt;
        &lt;/div&gt;
        &lt;div class="controls"&gt;
            &lt;?php echo $this-&gt;form-&gt;getInput('podcast_id', null, empty($this-&gt;item-&gt;study_id) ? $this-&gt;admin_params-&gt;get('podcast') : null); ?&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="control-group"&gt;
        &lt;div class="control-label"&gt;
            &lt;?php echo $this-&gt;form-&gt;getLabel('link_type'); ?&gt;
        &lt;/div&gt;
        &lt;div class="controls"&gt;
            &lt;?php echo $this-&gt;form-&gt;getInput('link_type', null, empty($this-&gt;item-&gt;study_id) ? $this-&gt;admin_params-&gt;get('download') : $this-&gt;item-&gt;link_type); ?&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="control-group"&gt;
        &lt;div class="control-label"&gt;
            &lt;?php echo $this-&gt;form-&gt;getLabel('comment'); ?&gt;
        &lt;/div&gt;
        &lt;div class="controls"&gt;
            &lt;?php echo $this-&gt;form-&gt;getInput('comment'); ?&gt;
        &lt;/div&gt;
    &lt;/div&gt;

&lt;/div&gt;
&lt;div class="tab-pane" id="linktype"&gt;
    &lt;div class="row-fluid"&gt;
        &lt;div class="control-group"&gt;
            &lt;div class="control-label"&gt;
                &lt;?php echo $this-&gt;form-&gt;getLabel('docMan_id'); ?&gt;
            &lt;/div&gt;
            &lt;div class="controls"&gt;
                &lt;?php echo $this-&gt;form-&gt;getInput('docMan_id'); ?&gt;
            &lt;/div&gt;
        &lt;/div&gt;
        &lt;div class="control-group"&gt;
            &lt;div class="control-label"&gt;
                &lt;?php echo $this-&gt;form-&gt;getLabel('article_id'); ?&gt;
            &lt;/div&gt;
            &lt;div class="controls"&gt;
                &lt;?php echo $this-&gt;form-&gt;getInput('article_id'); ?&gt;
            &lt;/div&gt;
        &lt;/div&gt;
        &lt;div class="control-group"&gt;
</codefragment>
  </duplication>
  <duplication lines="82" tokens="150">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/mediafile/tmpl/edit.php" line="314"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/views/mediafileform/tmpl/edit.php" line="427"/>
    <codefragment>            &lt;?php echo $this-&gt;form-&gt;getLabel('server'); ?&gt;
        &lt;/div&gt;
        &lt;div class="controls"&gt;
            &lt;?php echo $this-&gt;form-&gt;getInput('server', null, empty($this-&gt;item-&gt;server) ? $server : null); ?&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="control-group"&gt;
        &lt;div class="control-label"&gt;
            &lt;?php echo $this-&gt;form-&gt;getLabel('path'); ?&gt;
        &lt;/div&gt;
        &lt;div class="controls"&gt;
            &lt;?php echo $this-&gt;form-&gt;getInput('path', null, empty($this-&gt;item-&gt;study_id) ? $folder : null); ?&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="control-group"&gt;
        &lt;div class="control-label"&gt;
            &lt;?php echo $this-&gt;form-&gt;getLabel('filename'); ?&gt;
        &lt;/div&gt;
        &lt;div class="controls"&gt;
            &lt;?php echo $this-&gt;form-&gt;getInput('filename', null, empty($this-&gt;item-&gt;filename) ? $fname : null); ?&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="control-group"&gt;
        &lt;div class="control-label"&gt;
            &lt;?php echo $this-&gt;form-&gt;getLabel('size'); ?&gt;
        &lt;/div&gt;
        &lt;div class="controls"&gt;
            &lt;?php echo $this-&gt;form-&gt;getInput('size', null, empty($this-&gt;item-&gt;size) ? $size : null); ?&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="control-group"&gt;
        &lt;div class="control-label"&gt;
            &lt;?php echo $this-&gt;form-&gt;getLabel('special'); ?&gt;
        &lt;/div&gt;
        &lt;div class="controls"&gt;
            &lt;?php echo $this-&gt;form-&gt;getInput('special', null, empty($this-&gt;item-&gt;study_id) ? $this-&gt;admin_params-&gt;get('target') : $this-&gt;item-&gt;special); ?&gt;
        &lt;/div&gt;
    &lt;/div&gt;

&lt;/div&gt;
&lt;div class="tab-pane" id="upload"&gt;
    &lt;div class="control-group"&gt;
        &lt;div class="control-label"&gt;
            &lt;?php echo JText::_('JBS_STY_UPLOAD'); ?&gt;
        &lt;/div&gt;
        &lt;div class="controls"&gt;
            &lt;table class="adminlist"&gt;

                &lt;tbody&gt;
                &lt;tr&gt;
                    &lt;td&gt;
                        &lt;?php echo $this-&gt;upload_server; ?&gt;&lt;/td&gt;
                    &lt;/td&gt;&lt;/tr&gt;
                &lt;tr&gt;
                    &lt;td&gt;
                        &lt;?php echo $this-&gt;upload_folder; ?&gt;&lt;/td&gt;
                    &lt;/td&gt;&lt;/tr&gt;
                &lt;tr&gt;
                    &lt;td&gt;

                        &lt;input type="file" name="uploadfile" value=""/&gt;

                        &lt;button type="button" onclick="submitbutton('upload')"&gt;
                            &lt;?php echo JText::_('JBS_STY_UPLOAD_BUTTON'); ?&gt; &lt;/button&gt;

                    &lt;/td&gt;
                    &lt;td&gt;&lt;/td&gt;
                &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
&lt;div class="tab-pane" id="mediatype"&gt;


    &lt;div class="control-group"&gt;
        &lt;div class="control-label"&gt;
            &lt;?php echo $this-&gt;form-&gt;getLabel('media_image'); ?&gt;
        &lt;/div&gt;
        &lt;div class="controls"&gt;
            &lt;?php echo $this-&gt;form-&gt;getInput('media_image', null, empty($this-&gt;item-&gt;study_id) ? $this-&gt;admin_params-&gt;get('media_image') : $this-&gt;item-&gt;media_image); ?&gt;
</codefragment>
  </duplication>
  <duplication lines="16" tokens="44">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/views/commentlist/tmpl/default.php" line="11"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/views/mediafilelist/tmpl/default.php" line="11"/>
    <codefragment>defined('_JEXEC') or die;

if (BIBLESTUDY_CHECKREL)
{
    JHtml::addIncludePath(JPATH_COMPONENT . '/helpers/html');
    JHtml::_('bootstrap.tooltip');
    JHtml::_('dropdown.init');
    JHtml::_('formbehavior.chosen', 'select');
}
else
{
    JHtml::_('behavior.tooltip');
    JHtml::stylesheet('media/com_biblestudy/css/biblestudy-j2.5.css');
    JHtml::stylesheet('media/com_biblestudy/jui/css/bootstrap.css');
    JHtml::script('media/com_biblestudy/jui/js/jquery.js');
    JHtml::script('media/com_biblestudy/jui/js/jquery-noconflict.js');
</codefragment>
  </duplication>
  <duplication lines="12" tokens="22">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/mediaimages/tmpl/default.php" line="222"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/views/mediafilelist/tmpl/default.php" line="209"/>
    <codefragment>                &lt;?php echo (int) $item-&gt;id; ?&gt;
            &lt;/td&gt;
        &lt;/tr&gt;
            &lt;?php endforeach; ?&gt;
        &lt;/tbody&gt;
    &lt;/table&gt;
    &lt;?php echo $this-&gt;pagination-&gt;getListFooter(); ?&gt;
    &lt;?php //Load the batch processing form. ?&gt;
    &lt;?php //echo $this-&gt;loadTemplate('batch'); ?&gt;
    &lt;input type="hidden" name="task" value=""/&gt;
    &lt;input type="hidden" name="boxchecked" value="0"/&gt;
    &lt;input type="hidden" name="filter_order" value="&lt;?php echo $listOrder; ?&gt;"/&gt;
</codefragment>
  </duplication>
  <duplication lines="9" tokens="39">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/views/mediafileform/view.html.php" line="213"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/views/mediafilelist/view.html.php" line="164"/>
    <codefragment>        if ($app-&gt;getCfg('sitename_pagetitles', 0) == 1)
        {
            $title = JText::sprintf('JPAGETITLE', $app-&gt;getCfg('sitename'), $title);
        }
        elseif ($app-&gt;getCfg('sitename_pagetitles', 0) == 2)
        {
            $title = JText::sprintf('JPAGETITLE', $title, $app-&gt;getCfg('sitename'));
        }
        $this-&gt;document-&gt;setTitle($title);
</codefragment>
  </duplication>
  <duplication lines="81" tokens="145">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/message/tmpl/edit.php" line="108"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/views/messageform/tmpl/edit.php" line="143"/>
    <codefragment>            &lt;?php echo $this-&gt;form-&gt;getInput('booknumber', null, empty($this-&gt;item-&gt;studytitle) ? $this-&gt;admin_params-&gt;get('booknumber') : $this-&gt;item-&gt;booknumber);?&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="control-group"&gt;
        &lt;div class="control-label"&gt;
            &lt;?php echo $this-&gt;form-&gt;getLabel('chapter_begin'); ?&gt;
        &lt;/div&gt;
        &lt;div class="controls"&gt;
            &lt;?php echo $this-&gt;form-&gt;getInput('chapter_begin'); ?&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="control-group"&gt;
        &lt;div class="control-label"&gt;
            &lt;?php echo $this-&gt;form-&gt;getLabel('verse_begin'); ?&gt;
        &lt;/div&gt;
        &lt;div class="controls"&gt;
            &lt;?php echo $this-&gt;form-&gt;getInput('verse_begin'); ?&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="control-group"&gt;
        &lt;div class="control-label"&gt;
            &lt;?php echo $this-&gt;form-&gt;getLabel('chapter_end'); ?&gt;
        &lt;/div&gt;
        &lt;div class="controls"&gt;
            &lt;?php echo $this-&gt;form-&gt;getInput('chapter_end'); ?&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="control-group"&gt;
        &lt;div class="control-label"&gt;
            &lt;?php echo $this-&gt;form-&gt;getLabel('verse_end'); ?&gt;
        &lt;/div&gt;
        &lt;div class="controls"&gt;
            &lt;?php echo $this-&gt;form-&gt;getInput('verse_end'); ?&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="control-group"&gt;
        &lt;div class="control-label"&gt;
            &lt;?php echo $this-&gt;form-&gt;getLabel('booknumber2'); ?&gt;
        &lt;/div&gt;
        &lt;div class="controls"&gt;
            &lt;?php echo $this-&gt;form-&gt;getInput('booknumber2'); ?&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="control-group"&gt;
        &lt;div class="control-label"&gt;
            &lt;?php echo $this-&gt;form-&gt;getLabel('chapter_begin2'); ?&gt;
        &lt;/div&gt;
        &lt;div class="controls"&gt;
            &lt;?php echo $this-&gt;form-&gt;getInput('chapter_begin2'); ?&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="control-group"&gt;
        &lt;div class="control-label"&gt;
            &lt;?php echo $this-&gt;form-&gt;getLabel('verse_begin2'); ?&gt;
        &lt;/div&gt;
        &lt;div class="controls"&gt;
            &lt;?php echo $this-&gt;form-&gt;getInput('verse_begin2'); ?&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="control-group"&gt;
        &lt;div class="control-label"&gt;
            &lt;?php echo $this-&gt;form-&gt;getLabel('chapter_end2'); ?&gt;
        &lt;/div&gt;
        &lt;div class="controls"&gt;
            &lt;?php echo $this-&gt;form-&gt;getInput('chapter_end2'); ?&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="control-group"&gt;
        &lt;div class="control-label"&gt;
            &lt;?php echo $this-&gt;form-&gt;getLabel('verse_end2'); ?&gt;
        &lt;/div&gt;
        &lt;div class="controls"&gt;
            &lt;?php echo $this-&gt;form-&gt;getInput('verse_end2'); ?&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="control-group"&gt;
        &lt;div class="control-label"&gt;
            &lt;?php echo $this-&gt;form-&gt;getLabel('secondary_reference'); ?&gt;
        &lt;/div&gt;
        &lt;div class="controls"&gt;
            &lt;?php echo $this-&gt;form-&gt;getInput('secondary_reference'); ?&gt;
</codefragment>
  </duplication>
  <duplication lines="33" tokens="58">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/message/tmpl/edit.php" line="387"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/views/messageform/tmpl/edit.php" line="305"/>
    <codefragment>            &lt;?php echo JText::_('JBS_STY_HITS'); ?&gt;
        &lt;/div&gt;
        &lt;div class="controls span12 small"&gt;
            &lt;?php echo $this-&gt;item-&gt;hits; ?&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="control-group"&gt;
        &lt;div class="control-label"&gt;
            &lt;?php echo $this-&gt;form-&gt;getLabel('published'); ?&gt;
        &lt;/div&gt;
        &lt;div class="controls"&gt;
            &lt;?php echo $this-&gt;form-&gt;getInput('published'); ?&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="control-group"&gt;
        &lt;div class="control-label"&gt;
            &lt;?php echo $this-&gt;form-&gt;getLabel('studydate'); ?&gt;
        &lt;/div&gt;
        &lt;div class="controls"&gt;
            &lt;?php echo $this-&gt;form-&gt;getInput('studydate'); ?&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="control-group"&gt;
        &lt;div class="control-label"&gt;
            &lt;?php echo $this-&gt;form-&gt;getLabel('comments'); ?&gt;
        &lt;/div&gt;
        &lt;div class="controls"&gt;
            &lt;?php echo $this-&gt;form-&gt;getInput('comments'); ?&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="control-group"&gt;
        &lt;div class="control-label"&gt;
            &lt;?php echo $this-&gt;form-&gt;getLabel('user_id'); ?&gt;
</codefragment>
  </duplication>
  <duplication lines="13" tokens="17">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/views/mediafileform/view.html.php" line="174"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/views/messageform/view.html.php" line="183"/>
    <codefragment>        parent::display($tpl);
    }

    /**
     * Prepares the document
     *
     * @return void
     */
    protected function _prepareDocument()
    {
        $app     = JFactory::getApplication();
        $menus   = $app-&gt;getMenu();
        $pathway = $app-&gt;getPathway();
</codefragment>
  </duplication>
  <duplication lines="26" tokens="108">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/views/mediafileform/view.html.php" line="213"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/views/messageform/view.html.php" line="222"/>
    <codefragment>        if ($app-&gt;getCfg('sitename_pagetitles', 0) == 1)
        {
            $title = JText::sprintf('JPAGETITLE', $app-&gt;getCfg('sitename'), $title);
        }
        elseif ($app-&gt;getCfg('sitename_pagetitles', 0) == 2)
        {
            $title = JText::sprintf('JPAGETITLE', $title, $app-&gt;getCfg('sitename'));
        }
        $this-&gt;document-&gt;setTitle($title);

        $pathway = $app-&gt;getPathWay();
        $pathway-&gt;addItem($title, '');

        if ($this-&gt;params-&gt;get('menu-meta_description'))
        {
            $this-&gt;document-&gt;setDescription($this-&gt;params-&gt;get('menu-meta_description'));
        }

        if ($this-&gt;params-&gt;get('menu-meta_keywords'))
        {
            $this-&gt;document-&gt;setMetadata('keywords', $this-&gt;params-&gt;get('menu-meta_keywords'));
        }

        if ($this-&gt;params-&gt;get('robots'))
        {
            $this-&gt;document-&gt;setMetadata('robots', $this-&gt;params-&gt;get('robots'));
</codefragment>
  </duplication>
  <duplication lines="17" tokens="48">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/views/commentlist/tmpl/default.php" line="11"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/views/messagelist/tmpl/default.php" line="11"/>
    <codefragment>defined('_JEXEC') or die;

if (BIBLESTUDY_CHECKREL)
{
    JHtml::addIncludePath(JPATH_COMPONENT . '/helpers/html');
    JHtml::_('bootstrap.tooltip');
    JHtml::_('dropdown.init');
    JHtml::_('formbehavior.chosen', 'select');
}
else
{
    JHtml::_('behavior.tooltip');
    JHtml::stylesheet('media/com_biblestudy/css/biblestudy-j2.5.css');
    JHtml::stylesheet('media/com_biblestudy/jui/css/bootstrap.css');
    JHtml::script('media/com_biblestudy/jui/js/jquery.js');
    JHtml::script('media/com_biblestudy/jui/js/jquery-noconflict.js');
    JHtml::script('media/com_biblestudy/jui/js/bootstrap.js');
</codefragment>
  </duplication>
  <duplication lines="14" tokens="34">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/messages/tmpl/modal.php" line="31"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/views/messagelist/tmpl/default.php" line="47"/>
    <codefragment>                   class="element-invisible"&gt;&lt;?php echo JText::_('JBS_CMN_FILTER_SEARCH_DESC'); ?&gt;&lt;/label&gt;
            &lt;input type="text" name="filter_search" placeholder="&lt;?php echo JText::_('JBS_CMN_FILTER_SEARCH_DESC'); ?&gt;"
                   id="filter_search" value="&lt;?php echo $this-&gt;escape($this-&gt;state-&gt;get('filter.search')); ?&gt;"
                   title="&lt;?php echo JText::_('JBS_CMN_FILTER_SEARCH_DESC'); ?&gt;"/&gt;
        &lt;/div&gt;
        &lt;div class="btn-group pull-left hidden-phone"&gt;
            &lt;button class="btn tip hasTooltip" type="submit" title="&lt;?php echo JText::_('JSEARCH_FILTER_SUBMIT'); ?&gt;"&gt;&lt;i
                        class="icon-search"&gt;&lt;/i&gt;&lt;/button&gt;
            &lt;button class="btn tip hasTooltip" type="button"
                    onclick="document.id('filter_search').value='';this.form.submit();"
                    title="&lt;?php echo JText::_('JSEARCH_FILTER_CLEAR'); ?&gt;"&gt;&lt;i class="icon-remove"&gt;&lt;/i&gt;&lt;/button&gt;
        &lt;/div&gt;
        &lt;div class="right"&gt;
            &lt;select name="filter_book" class="inputbox" onchange="this.form.submit()"&gt;
</codefragment>
  </duplication>
  <duplication lines="9" tokens="17">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/mediaimages/tmpl/default.php" line="225"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/views/messagelist/tmpl/default.php" line="200"/>
    <codefragment>            &lt;?php endforeach; ?&gt;
        &lt;/tbody&gt;
    &lt;/table&gt;
    &lt;?php echo $this-&gt;pagination-&gt;getListFooter(); ?&gt;
    &lt;?php //Load the batch processing form. ?&gt;
    &lt;?php //echo $this-&gt;loadTemplate('batch'); ?&gt;
    &lt;input type="hidden" name="task" value=""/&gt;
    &lt;input type="hidden" name="boxchecked" value="0"/&gt;
    &lt;input type="hidden" name="filter_order" value="&lt;?php echo $listOrder; ?&gt;"/&gt;
</codefragment>
  </duplication>
  <duplication lines="26" tokens="93">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/messages/tmpl/modal.php" line="31"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/views/messagelist/tmpl/modal.php" line="25"/>
    <codefragment>                   class="element-invisible"&gt;&lt;?php echo JText::_('JBS_CMN_FILTER_SEARCH_DESC'); ?&gt;&lt;/label&gt;
            &lt;input type="text" name="filter_search" placeholder="&lt;?php echo JText::_('JBS_CMN_FILTER_SEARCH_DESC'); ?&gt;"
                   id="filter_search" value="&lt;?php echo $this-&gt;escape($this-&gt;state-&gt;get('filter.search')); ?&gt;"
                   title="&lt;?php echo JText::_('JBS_CMN_FILTER_SEARCH_DESC'); ?&gt;"/&gt;
        &lt;/div&gt;
        &lt;div class="btn-group pull-left hidden-phone"&gt;
            &lt;button class="btn tip hasTooltip" type="submit" title="&lt;?php echo JText::_('JSEARCH_FILTER_SUBMIT'); ?&gt;"&gt;&lt;i
                        class="icon-search"&gt;&lt;/i&gt;&lt;/button&gt;
            &lt;button class="btn tip hasTooltip" type="button"
                    onclick="document.id('filter_search').value='';this.form.submit();"
                    title="&lt;?php echo JText::_('JSEARCH_FILTER_CLEAR'); ?&gt;"&gt;&lt;i class="icon-remove"&gt;&lt;/i&gt;&lt;/button&gt;
        &lt;/div&gt;
        &lt;div class="right"&gt;
            &lt;select name="filter_book" class="inputbox" onchange="this.form.submit()"&gt;
                &lt;option value=""&gt;&lt;?php echo JText::_('JBS_CMN_SELECT_BOOK'); ?&gt;&lt;/option&gt;
                &lt;?php echo JHtml::_('select.options', $this-&gt;books, 'value', 'text', $this-&gt;state-&gt;get('filter.book')); ?&gt;
            &lt;/select&gt;
            &lt;select name="filter_teacher" class="inputbox" onchange="this.form.submit()"&gt;
                &lt;option value=""&gt;&lt;?php echo JText::_('JBS_CMN_SELECT_TEACHER'); ?&gt;&lt;/option&gt;
                &lt;?php echo JHtml::_('select.options', $this-&gt;teachers, 'value', 'text', $this-&gt;state-&gt;get('filter.teacher')); ?&gt;
            &lt;/select&gt;
            &lt;select name="filter_series" class="inputbox" onchange="this.form.submit()"&gt;
                &lt;option value=""&gt;&lt;?php echo JText::_('JBS_CMN_SELECT_SERIES'); ?&gt;&lt;/option&gt;
                &lt;?php echo JHtml::_('select.options', $this-&gt;series, 'value', 'text', $this-&gt;state-&gt;get('filter.series')); ?&gt;
            &lt;/select&gt;
            &lt;select name="filter_message_type" class="inputbox" onchange="this.form.submit()"&gt;
</codefragment>
  </duplication>
  <duplication lines="10" tokens="11">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/admin/views/messages/tmpl/modal.php" line="149"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/views/messagelist/tmpl/modal.php" line="131"/>
    <codefragment>            &lt;?php endforeach; ?&gt;
    &lt;/table&gt;
    &lt;div&gt;
        &lt;input type="hidden" name="task" value=""/&gt;
        &lt;input type="hidden" name="boxchecked" value="0"/&gt;
        &lt;input type="hidden" name="filter_order" value="&lt;?php echo $listOrder; ?&gt;"/&gt;
        &lt;input type="hidden" name="filter_order_Dir" value="&lt;?php echo $listDirn; ?&gt;"/&gt;
        &lt;?php echo JHtml::_('form.token'); ?&gt;
    &lt;/div&gt;
&lt;/form&gt;
</codefragment>
  </duplication>
  <duplication lines="26" tokens="108">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/views/mediafileform/view.html.php" line="213"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/views/messagelist/view.html.php" line="150"/>
    <codefragment>        if ($app-&gt;getCfg('sitename_pagetitles', 0) == 1)
        {
            $title = JText::sprintf('JPAGETITLE', $app-&gt;getCfg('sitename'), $title);
        }
        elseif ($app-&gt;getCfg('sitename_pagetitles', 0) == 2)
        {
            $title = JText::sprintf('JPAGETITLE', $title, $app-&gt;getCfg('sitename'));
        }
        $this-&gt;document-&gt;setTitle($title);

        $pathway = $app-&gt;getPathWay();
        $pathway-&gt;addItem($title, '');

        if ($this-&gt;params-&gt;get('menu-meta_description'))
        {
            $this-&gt;document-&gt;setDescription($this-&gt;params-&gt;get('menu-meta_description'));
        }

        if ($this-&gt;params-&gt;get('menu-meta_keywords'))
        {
            $this-&gt;document-&gt;setMetadata('keywords', $this-&gt;params-&gt;get('menu-meta_keywords'));
        }

        if ($this-&gt;params-&gt;get('robots'))
        {
            $this-&gt;document-&gt;setMetadata('robots', $this-&gt;params-&gt;get('robots'));
</codefragment>
  </duplication>
  <duplication lines="17" tokens="26">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/views/seriesdisplays/tmpl/default_custom.php" line="89"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/views/sermons/tmpl/default_custom.php" line="170"/>
    <codefragment>                case '0':
                    // Do Nothing
                    break;
                case 'T':
                    // Table
                    echo '&lt;/table&gt;';
                    break;
                case 'D':
                    // DIV
                    echo '&lt;/div&gt;';
                    break;
            }
            ?&gt;
            &lt;div class="listingfooter"&gt;
                &lt;?php
                echo $this-&gt;pagination-&gt;getPagesLinks();
                echo $this-&gt;pagination-&gt;getPagesCounter();
</codefragment>
  </duplication>
  <duplication lines="7" tokens="34">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/views/seriesdisplay/view.html.php" line="151"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/views/teacher/view.html.php" line="167"/>
    <codefragment>        foreach ($studies AS $i =&gt; $study)
        {
            $pelements               = $pagebuilder-&gt;buildPage($study, $params, $this-&gt;admin_params);
            $studies[$i]-&gt;scripture1 = $pelements-&gt;scripture1;
            $studies[$i]-&gt;scripture2 = $pelements-&gt;scripture2;
            $studies[$i]-&gt;media      = $pelements-&gt;media;
            $studies[$i]-&gt;duration   = $pelements-&gt;duration;
</codefragment>
  </duplication>
  <duplication lines="17" tokens="26">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/views/seriesdisplays/tmpl/default_custom.php" line="89"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/views/teachers/tmpl/default_custom.php" line="66"/>
    <codefragment>                case '0':
                    // Do Nothing
                    break;
                case 'T':
                    // Table
                    echo '&lt;/table&gt;';
                    break;
                case 'D':
                    // DIV
                    echo '&lt;/div&gt;';
                    break;
            }
            ?&gt;
            &lt;div class="listingfooter"&gt;
                &lt;?php
                echo $this-&gt;pagination-&gt;getPagesLinks();
                echo $this-&gt;pagination-&gt;getPagesCounter();
</codefragment>
  </duplication>
  <duplication lines="44" tokens="161">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/views/teacher/view.html.php" line="264"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/com_biblestudy/site/views/teachers/view.html.php" line="235"/>
    <codefragment>        if (empty($title))
        {
            $title = $app-&gt;getCfg('sitename');
        }
        elseif ($app-&gt;getCfg('sitename_pagetitles', 0) == 1)
        {
            $title = JText::sprintf('JPAGETITLE', $app-&gt;getCfg('sitename'), $title);
        }
        elseif ($app-&gt;getCfg('sitename_pagetitles', 0) == 2)
        {
            $title = JText::sprintf('JPAGETITLE', $title, $app-&gt;getCfg('sitename'));
        }
        $this-&gt;document-&gt;setTitle($title);

        // Prepare meta information (under development)
        if ($itemparams-&gt;get('metakey'))
        {
            $this-&gt;document-&gt;setMetadata('keywords', $itemparams-&gt;get('metakey'));
        }
        elseif ($this-&gt;params-&gt;get('menu-meta_keywords'))
        {
            $this-&gt;document-&gt;setMetadata('keywords', $this-&gt;params-&gt;get('menu-meta_keywords'));
        }
        else
        {
            $this-&gt;document-&gt;setMetadata('keywords', $this-&gt;admin_params-&gt;get('metakey'));
        }

        if ($itemparams-&gt;get('metadesc'))
        {
            $this-&gt;document-&gt;setDescription($itemparams-&gt;get('metadesc'));
        }
        elseif ($this-&gt;params-&gt;get('menu-meta_description'))
        {
            $this-&gt;document-&gt;setDescription($this-&gt;params-&gt;get('menu-meta_description'));
        }
        else
        {
            $this-&gt;document-&gt;setDescription($this-&gt;admin_params-&gt;get('metadesc'));
        }

        if ($this-&gt;params-&gt;get('robots'))
        {
            $this-&gt;document-&gt;setMetadata('robots', $this-&gt;params-&gt;get('robots'));
</codefragment>
  </duplication>
  <duplication lines="64" tokens="173">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/plg_biblestudy_backup/jbsbackup.php" line="134"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/plg_biblestudy_podcast/jbspodcast.php" line="139"/>
    <codefragment>        $db-&gt;setQuery($query, 0, 1);
        $result     = $db-&gt;loadObject();
        $lasttime   = $result-&gt;timeset;
        $difference = $now - $lasttime;
        $date       = getdate($now);
        $day        = $date['wday'];
        $systemhour = $date['hours'];
        if ($params-&gt;get('offset', '0') &gt; 0)
        {
            $hour = $systemhour + $offset;
        }
        else
        {
            $hour = $systemhour;
        }

        if ($params-&gt;get('day1') == $day &amp;&amp; $params-&gt;get('hour1') == $hour &amp;&amp; $difference &gt; 3600)
        {
            $checkdays = true;
        }
        if ($params-&gt;get('day2') == $day)
        {
            if ($params-&gt;get('hour2') == $hour &amp;&amp; $difference &gt; 3600)
            {
                $checkdays = true;
            }
        }
        if ($params-&gt;get('day3') == $day)
        {
            if ($params-&gt;get('hour3') == $hour &amp;&amp; $difference &gt; 3600)
            {
                $checkdays = true;
            }
        }
        if ($params-&gt;get('day4') == $day)
        {
            if ($params-&gt;get('hour4') == $hour &amp;&amp; $difference &gt; 3600)
            {
                $checkdays = true;
            }
        }
        if ($params-&gt;get('day5') == $day)
        {
            if ($params-&gt;get('hour5') == $hour &amp;&amp; $difference &gt; 3600)
            {
                $checkdays = true;
            }
        }
        if ($params-&gt;get('day6') == $day)
        {
            if ($params-&gt;get('hour6') == $hour &amp;&amp; $difference &gt; 3600)
            {
                $checkdays = true;
            }
        }
        if ($params-&gt;get('day7') == $day)
        {
            if ($params-&gt;get('hour7') == $hour &amp;&amp; $difference &gt; 3600)
            {
                $checkdays = true;
            }
        }
        if ($params-&gt;get('day8') == $day)
        {
</codefragment>
  </duplication>
  <duplication lines="24" tokens="12">
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/plg_biblestudy_backup/script.php" line="89"/>
    <file path="/Users/bcordis/PhpstormProjects/Joomla-Bible-Study/plg_biblestudy_podcast/script.php" line="90"/>
    <codefragment>        echo '&lt;p&gt;' . JText::_('JBS_PLG_BACKUP_UPDATE_TEXT') . '&lt;/p&gt;';
    }

    /**
     * method to run before an install/update/uninstall method
     *
     * @param   string $type    is the type of change (install, update or discover_install)
     * @param   string $parent  is the class calling this method
     *
     * @return void
     */
    public function preflight($type, $parent)
    {
    }

    /**
     * method to run after an install/update/uninstall method
     *
     * @param   string $type    is the type of change (install, update or discover_install)
     * @param   string $parent  is the class calling this method
     *
     * @return void
     */
    public function postflight($type, $parent)
</codefragment>
  </duplication>
</pmd-cpd>
